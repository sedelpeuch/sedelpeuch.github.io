"use strict";(self.webpackChunksedelpeuch_net=self.webpackChunksedelpeuch_net||[]).push([[7609],{34865:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>u});var s=t(74848),i=t(28453);const r={title:"Actions Composites",description:"Cr\xe9\xe9er une action r\xe9utilisable",tags:["CI/CD","GitHub","Devops"]},o=void 0,a={permalink:"/pr-preview/pr-12/blog/2024/02/04/04-ci-cd/action",source:"@site/blog/04-ci-cd/2024-02-04-action.md",title:"Actions Composites",description:"Cr\xe9\xe9er une action r\xe9utilisable",date:"2024-02-04T00:00:00.000Z",tags:[{inline:!0,label:"CI/CD",permalink:"/pr-preview/pr-12/blog/tags/ci-cd"},{inline:!0,label:"GitHub",permalink:"/pr-preview/pr-12/blog/tags/git-hub"},{inline:!0,label:"Devops",permalink:"/pr-preview/pr-12/blog/tags/devops"}],readingTime:4.765,hasTruncateMarker:!0,authors:[],frontMatter:{title:"Actions Composites",description:"Cr\xe9\xe9er une action r\xe9utilisable",tags:["CI/CD","GitHub","Devops"]},unlisted:!1,prevItem:{title:"Runner GitHub Self-Hosted",permalink:"/pr-preview/pr-12/blog/2024/02/11/04-ci-cd/self-host-runner"},nextItem:{title:"Workflows",permalink:"/pr-preview/pr-12/blog/2024/02/04/04-ci-cd/workflow"}},l={authorsImageUrls:[]},u=[{value:"Pr\xe9sentation d&#39;une solution g\xe9n\xe9rale pour cr\xe9er des actions GitHub",id:"pr\xe9sentation-dune-solution-g\xe9n\xe9rale-pour-cr\xe9er-des-actions-github",level:2},{value:"Avantages de l&#39;utilisation des actions GitHub",id:"avantages-de-lutilisation-des-actions-github",level:3},{value:"Exemple de cr\xe9ation et d&#39;utilisation d&#39;une action GitHub",id:"exemple-de-cr\xe9ation-et-dutilisation-dune-action-github",level:3}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"pr\xe9sentation-dune-solution-g\xe9n\xe9rale-pour-cr\xe9er-des-actions-github",children:"Pr\xe9sentation d'une solution g\xe9n\xe9rale pour cr\xe9er des actions GitHub"}),"\n",(0,s.jsx)(n.h3,{id:"avantages-de-lutilisation-des-actions-github",children:"Avantages de l'utilisation des actions GitHub"}),"\n",(0,s.jsx)(n.p,{children:"L'utilisation des actions GitHub pr\xe9sente plusieurs avantages :"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Automatisation"})," : Les actions GitHub permettent d'automatiser les t\xe2ches r\xe9p\xe9titives, ce qui r\xe9duit le temps et les efforts n\xe9cessaires pour les effectuer manuellement."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Int\xe9gration continue"})," : Les actions GitHub facilitent l'int\xe9gration continue en automatisant les tests, les builds et les d\xe9ploiements, ce qui permet de d\xe9tecter et de corriger les probl\xe8mes plus rapidement."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Personnalisation"})," : Les actions GitHub peuvent \xeatre personnalis\xe9es pour r\xe9pondre aux besoins sp\xe9cifiques de votre projet, ce qui vous permet de cr\xe9er des workflows adapt\xe9s \xe0 vos exigences."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"R\xe9utilisabilit\xe9"})," : Les actions GitHub peuvent \xeatre r\xe9utilis\xe9es dans plusieurs workflows, ce qui permet de gagner du temps et de r\xe9duire la duplication de code."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"exemple-de-cr\xe9ation-et-dutilisation-dune-action-github",children:"Exemple de cr\xe9ation et d'utilisation d'une action GitHub"}),"\n",(0,s.jsx)(n.p,{children:"Voici un exemple de cr\xe9ation et d'utilisation d'une action GitHub pour automatiser le d\xe9ploiement d'une application Node.js."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Cr\xe9ez un fichier ",(0,s.jsx)(n.code,{children:"action.yml"})," dans le r\xe9pertoire ",(0,s.jsx)(n.code,{children:".github/actions/deploy"})," de votre d\xe9p\xf4t avec le contenu suivant :"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"name: 'Deploy Node.js App'\ndescription: 'Deploy a Node.js application to a remote server'\ninputs:\n  server:\n    description: 'The remote server to deploy to'\n    required: true\n  username:\n    description: 'The username to use for the deployment'\n    required: true\n  password:\n    description: 'The password to use for the deployment'\n    required: true\nruns:\n  using: 'composite'\n  steps:\n    - name: Checkout code\n      uses: actions/checkout@v4\n    - name: Install dependencies\n      run: npm install\n    - name: Build application\n      run: npm run build\n    - name: Deploy application\n      run: |\n        sshpass -p ${{ inputs.password }} ssh ${{ inputs.username }}@${{ inputs.server }} 'mkdir -p /var/www/myapp'\n        sshpass -p ${{ inputs.password }} scp -r ./build/* ${{ inputs.username }}@${{ inputs.server }}:/var/www/myapp\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Cr\xe9ez un fichier ",(0,s.jsx)(n.code,{children:"deploy.yml"})," dans le r\xe9pertoire ",(0,s.jsx)(n.code,{children:".github/workflows"})," de votre d\xe9p\xf4t avec le contenu suivant :"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"name: Deploy Node.js App\n\non:\n  push:\n    branches:\n      - main\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy application\n        uses: ./.github/actions/deploy\n        with:\n          server: ${{ secrets.DEPLOY_SERVER }}\n          username: ${{ secrets.DEPLOY_USERNAME }}\n          password: ${{ secrets.DEPLOY_PASSWORD }}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Dans cet exemple, l'action ",(0,s.jsx)(n.code,{children:"Deploy Node.js App"})," est utilis\xe9e pour d\xe9ployer une application Node.js sur un serveur distant. L'action est d\xe9clench\xe9e \xe0 chaque fois qu'un push est effectu\xe9 sur la branche ",(0,s.jsx)(n.code,{children:"main"}),". Les informations de d\xe9ploiement (serveur, nom d'utilisateur et mot de passe) sont stock\xe9es dans les secrets du d\xe9p\xf4t pour des raisons de s\xe9curit\xe9."]}),"\n",(0,s.jsx)(n.p,{children:"Les actions GitHub permettent d'automatiser, personnaliser et ex\xe9cuter un flux de travail directement depuis votre d\xe9p\xf4t. Avec les actions GitHub, il est possible de cr\xe9er des t\xe2ches personnalis\xe9es pour automatiser un flux de travail, partager et d\xe9couvrir des actions pour effectuer des t\xe2ches sp\xe9cifiques."})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);