"use strict";(self.webpackChunksedelpeuch_net=self.webpackChunksedelpeuch_net||[]).push([[575],{87404(e,s,n){n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var i=n(32674),l=n(74848),t=n(28453);const r={title:"Ansible : Vault",description:"Introduction \xe0 Ansible Vault pour la gestion s\xe9curis\xe9e des secrets dans les playbooks Ansible.",tags:["Ansible","Vault","IaC","S\xe9curit\xe9"]},a="Ansible Vault : S\xe9curisation des secrets",o={authorsImageUrls:[]},u=[{value:"Pourquoi utiliser Ansible Vault ?",id:"pourquoi-utiliser-ansible-vault-",level:2},{value:"Fonctionnalit\xe9s principales",id:"fonctionnalit\xe9s-principales",level:2},{value:"Commandes de base",id:"commandes-de-base",level:2},{value:"Exemple d&#39;utilisation dans un playbook",id:"exemple-dutilisation-dans-un-playbook",level:2},{value:"Bonnes pratiques",id:"bonnes-pratiques",level:2},{value:"Pour aller plus loin",id:"pour-aller-plus-loin",level:2}];function c(e){const s={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.p,{children:"Ansible Vault est un outil int\xe9gr\xe9 \xe0 Ansible permettant de chiffrer et de g\xe9rer les secrets (mots de passe, cl\xe9s, variables sensibles) dans les fichiers de configuration et les playbooks. Cette fonctionnalit\xe9 est essentielle pour garantir la s\xe9curit\xe9 des donn\xe9es confidentielles lors de l'automatisation de l'infrastructure."}),"\n",(0,l.jsx)(s.h2,{id:"pourquoi-utiliser-ansible-vault-",children:"Pourquoi utiliser Ansible Vault ?"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"Prot\xe9ger les mots de passe, cl\xe9s API et autres secrets dans les fichiers de configuration"}),"\n",(0,l.jsx)(s.li,{children:"\xc9viter de stocker des informations sensibles en clair dans le d\xe9p\xf4t Git"}),"\n",(0,l.jsx)(s.li,{children:"Faciliter la collaboration tout en maintenant la s\xe9curit\xe9"}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"fonctionnalit\xe9s-principales",children:"Fonctionnalit\xe9s principales"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"Chiffrement et d\xe9chiffrement de fichiers YAML ou variables"}),"\n",(0,l.jsx)(s.li,{children:"Modification s\xe9curis\xe9e des fichiers chiffr\xe9s"}),"\n",(0,l.jsx)(s.li,{children:"Int\xe9gration transparente dans les playbooks et r\xf4les Ansible"}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"commandes-de-base",children:"Commandes de base"}),"\n",(0,l.jsx)(s.p,{children:"Voici les principales commandes \xe0 conna\xeetre, avec leurs options utiles :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"# Cr\xe9er un nouveau fichier chiffr\xe9\nansible-vault create secrets.yml\n# Ouvre un \xe9diteur pour saisir le contenu, qui sera chiffr\xe9 \xe0 la sauvegarde.\n\n# Chiffrer un fichier existant\nansible-vault encrypt group_vars/prod.yml\n# Chiffre le fichier en place. Utilisez --vault-id pour g\xe9rer plusieurs mots de passe.\n\n# D\xe9chiffrer un fichier\nansible-vault decrypt secrets.yml\n# Remplace le fichier chiffr\xe9 par sa version en clair.\n\n# Modifier un fichier chiffr\xe9\nansible-vault edit secrets.yml\n# Ouvre le fichier dans l'\xe9diteur, le contenu reste chiffr\xe9 \xe0 la sauvegarde.\n\n# Afficher le contenu d'un fichier chiffr\xe9 sans le d\xe9chiffrer sur disque\nansible-vault view secrets.yml\n\n# Changer le mot de passe d'un fichier Vault\nansible-vault rekey secrets.yml\n# Permet de modifier le mot de passe utilis\xe9 pour le chiffrement.\n\n# Ex\xe9cuter un playbook en utilisant Vault\nansible-playbook playbook.yml --ask-vault-pass\n# Demande le mot de passe Vault \xe0 l'ex\xe9cution. Utilisez --vault-id pour des cas avanc\xe9s.\n\n# Utiliser plusieurs Vault ID (pour plusieurs mots de passe)\nansible-playbook playbook.yml --vault-id prod@prompt --vault-id dev@prompt\n"})}),"\n",(0,l.jsx)(s.h2,{id:"exemple-dutilisation-dans-un-playbook",children:"Exemple d'utilisation dans un playbook"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-yaml",children:'---\n- hosts: all\n  vars_files:\n    - secrets.yml\n  tasks:\n    - name: Afficher une variable secr\xe8te\n      debug:\n        msg: "Le mot de passe est : {{ vault_password }}"\n'})}),"\n",(0,l.jsx)(s.h2,{id:"bonnes-pratiques",children:"Bonnes pratiques"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"Utiliser des fichiers Vault pour toutes les variables sensibles"}),"\n",(0,l.jsx)(s.li,{children:"Ne jamais stocker le mot de passe Vault dans le d\xe9p\xf4t"}),"\n",(0,l.jsx)(s.li,{children:"Changer r\xe9guli\xe8rement le mot de passe Vault"}),"\n",(0,l.jsx)(s.li,{children:"Limiter l'acc\xe8s aux fichiers Vault aux personnes autoris\xe9es"}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"pour-aller-plus-loin",children:"Pour aller plus loin"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"Rotation des secrets"}),"\n",(0,l.jsx)(s.li,{children:"Utilisation de Vault ID pour g\xe9rer plusieurs mots de passe"}),"\n",(0,l.jsx)(s.li,{children:"Int\xe9gration avec des outils externes de gestion de secrets"}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Ansible Vault est un outil simple mais puissant pour renforcer la s\xe9curit\xe9 des automatisations. Il s'int\xe8gre naturellement dans les workflows DevOps et permet de respecter les bonnes pratiques de gestion des secrets."})]})}function d(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453(e,s,n){n.d(s,{R:()=>r,x:()=>a});var i=n(96540);const l={},t=i.createContext(l);function r(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(t.Provider,{value:s},e.children)}},32674(e){e.exports=JSON.parse('{"permalink":"/pr-preview/pr-19/blog/2025/11/28/08-iac/ansible-vault","source":"@site/blog/08-iac/2025-11-28-ansible-vault.md","title":"Ansible : Vault","description":"Introduction \xe0 Ansible Vault pour la gestion s\xe9curis\xe9e des secrets dans les playbooks Ansible.","date":"2025-11-28T00:00:00.000Z","tags":[{"inline":true,"label":"Ansible","permalink":"/pr-preview/pr-19/blog/tags/ansible"},{"inline":true,"label":"Vault","permalink":"/pr-preview/pr-19/blog/tags/vault"},{"inline":true,"label":"IaC","permalink":"/pr-preview/pr-19/blog/tags/ia-c"},{"inline":true,"label":"S\xe9curit\xe9","permalink":"/pr-preview/pr-19/blog/tags/securite"}],"readingTime":2.07,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Ansible : Vault","description":"Introduction \xe0 Ansible Vault pour la gestion s\xe9curis\xe9e des secrets dans les playbooks Ansible.","tags":["Ansible","Vault","IaC","S\xe9curit\xe9"]},"unlisted":false,"prevItem":{"title":"Python : Ruff","permalink":"/pr-preview/pr-19/blog/2025/12/09/09-scripting/ruff-linting-formatting"},"nextItem":{"title":"Kubernetes : kubectl","permalink":"/pr-preview/pr-19/blog/2025/11/21/06-orchestration/kubectl-commandes-essentielles"}}')}}]);