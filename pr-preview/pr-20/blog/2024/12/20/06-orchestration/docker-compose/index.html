<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Docker Compose | Sébastien Delpeuch</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://delpeuch.net/pr-preview/pr-20/blog/2024/12/20/06-orchestration/docker-compose"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Docker Compose | Sébastien Delpeuch"><meta data-rh="true" name="description" content="Explication de Docker Compose"><meta data-rh="true" property="og:description" content="Explication de Docker Compose"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-12-20T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="Orchestration,DevOps"><link data-rh="true" rel="icon" href="/pr-preview/pr-20/img/logo.svg"><link data-rh="true" rel="canonical" href="https://delpeuch.net/pr-preview/pr-20/blog/2024/12/20/06-orchestration/docker-compose"><link data-rh="true" rel="alternate" href="https://delpeuch.net/pr-preview/pr-20/blog/2024/12/20/06-orchestration/docker-compose" hreflang="en"><link data-rh="true" rel="alternate" href="https://delpeuch.net/pr-preview/pr-20/blog/2024/12/20/06-orchestration/docker-compose" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://delpeuch.net/pr-preview/pr-20/blog/2024/12/20/06-orchestration/docker-compose","mainEntityOfPage":"https://delpeuch.net/pr-preview/pr-20/blog/2024/12/20/06-orchestration/docker-compose","url":"https://delpeuch.net/pr-preview/pr-20/blog/2024/12/20/06-orchestration/docker-compose","headline":"Docker Compose","name":"Docker Compose","description":"Explication de Docker Compose","datePublished":"2024-12-20T00:00:00.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://delpeuch.net/pr-preview/pr-20/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/pr-preview/pr-20/blog/rss.xml" title="Sébastien Delpeuch&#39;s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pr-preview/pr-20/blog/atom.xml" title="Sébastien Delpeuch&#39;s Blog Atom Feed">
<link rel="alternate" type="application/json" href="/pr-preview/pr-20/blog/feed.json" title="Sébastien Delpeuch&#39;s Blog JSON Feed">







<link rel="icon" href="/pr-preview/pr-20/img/logo.png">
<meta name="theme-color" content="#12affa">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/misans@4.0.0/lib/Normal/MiSans-Normal.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/misans@4.0.0/lib/Normal/MiSans-Semibold.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="https://plausible.io/js/script.js" defer="defer" data-domain="delpeuch.net"></script><link rel="stylesheet" href="/pr-preview/pr-20/assets/css/styles.0b62042b.css">
<script src="/pr-preview/pr-20/assets/js/runtime~main.d5b8ec81.js" defer="defer"></script>
<script src="/pr-preview/pr-20/assets/js/main.a3fd75b6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pr-preview/pr-20/"><div class="navbar__logo"><img src="/pr-preview/pr-20/img/logo.svg" alt="navbar" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pr-preview/pr-20/img/logo.svg" alt="navbar" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/pr-preview/pr-20/about">Résumé</a><a class="navbar__item navbar__link" href="/pr-preview/pr-20/docs/projects">Projets</a><a class="navbar__item navbar__link" href="/pr-preview/pr-20/docs/enseignement">Enseignement</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/pr-preview/pr-20/blog">Blog</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pr-preview/pr-20/blog/tags/network">Réseau</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/blog/tags/containerization">Conteneurisation</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/blog/tags/cicd">CI/CD</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/blog/tags/cloud">Cloud</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/blog/tags/orchestration">Orchestration</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/blog/tags/monitoring">Observabilité</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/blog/tags/iac">Infrastructure as Code</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/blog/tags/scripting">Scripting</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/pr-preview/pr-20/docs/scolarite">Scolarité</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/associatif">Associations</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/enseirb/s9">ENSEIRB-MATMECA : Semestre 9</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/enseirb/s8">ENSEIRB-MATMECA : Semestre 8</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/enseirb/s7">ENSEIRB-MATMECA : Semestre 7</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/enseirb/s6">ENSEIRB-MATMECA : Semestre 6</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/enseirb/s5">ENSEIRB-MATMECA : Semestre 5</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/cpbx/s4">CPBx : Semestre 4</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/cpbx/s3">CPBx : Semestre 3</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/cpbx/s2">CPBx : Semestre 2</a></li><li><a class="dropdown__link" href="/pr-preview/pr-20/docs/scolarite/cpbx/s1">CPBx : Semestre 1</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Tous les articles</div><div role="group"><h3 class="yearGroupHeading_rMGB">2026</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2026/02/15/06-orchestration/docker-swarm">Docker Swarm</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2026/02/15/09-scripting/packaging-python">Python : packaging</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2026/02/15/09-scripting/pytest-testing">Python : pytest</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2026/01/01/devops-roadmap-2026">DevOps Roadmap 2026</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/12/19/09-scripting/uv-python">Python : uv</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/12/09/09-scripting/ruff-linting-formatting">Python : Ruff</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/11/28/08-iac/ansible-vault">Ansible : Vault</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/11/21/06-orchestration/kubectl-commandes-essentielles">Kubernetes : kubectl</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/11/21/07-monitoring/loki-logs-management">Loki</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/11/21/07-monitoring/prometheus-introduction">Prometheus</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/11/21/08-iac/ansible-playbooks-avances">Ansible : avancé</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/11/21/09-scripting/python-async-await">Python : async/await</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/08/04/09-scripting/graphql">API : REST vs GraphQL</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/08/04/09-scripting/strawberry">GraphQL : FastAPI &amp; Strawberry</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/06/09/02-network/traefik">Proxy : Traefik</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/06/09/08-iac/ansible-introduction">Ansible</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/06/09/08-iac/ansible-zsh-automation">Ansible : cas pratique zsh</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/06/06/03-containerization/debugging-docker-containers">Docker : débogage</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/06/06/06-orchestration/renouveller-certificats">Kubernetes : certificats</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/06/06/09-scripting/poetry-python-dependency">Python : Poetry</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/06/06/09-scripting/pydantic-validation-donnees">Python : Pydantic</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/01/13/02-network/nginx-proxy-manager">Proxy : Nginx Proxy Manager</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/01/12/06-orchestration/k8s-basic-components">Kubernetes : composants de base</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/01/12/06-orchestration/k8s-introduction">Kubernetes</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/01/12/06-orchestration/k8s-secrets-configmaps">Kubernetes : Secrets et ConfigMaps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/01/12/06-orchestration/k8s-storage">Kubernetes : Stockage</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2025/01/01/devops-roadmap-2025">DevOps Roadmap 2025</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/02-network/nginx">Proxy : Nginx</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/02-network/proxy-vs-reverse-proxy">Proxy : Proxy vs Reverse Proxy</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/03-containerization/difference-conteneurisation-virtualisation">Containerization vs Virtualization</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/03-containerization/docker-best-practices">Docker : meilleures pratiques</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/03-containerization/docker-containers">Docker : conteneurs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/03-containerization/docker">Docker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/03-containerization/ghrc">Registry : GitHub GHCR</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/04-ci-cd/action">GitHub Actions : action réutilisable</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/04-ci-cd/exemple">GitHub Actions : architecture</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/04-ci-cd/github-actions">GitHub Actions</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/04-ci-cd/github-arc">GitHub Actions : ARC</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/04-ci-cd/self-host-runner">GitHub Actions : Self-Host Runner</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/04-ci-cd/workflow">GitHub Actions : Workflow</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/pr-preview/pr-20/blog/2024/12/20/06-orchestration/docker-compose">Docker Compose</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/06-orchestration/orchestration-dokku">Dokku</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/12/20/09-scripting/fastapi">Python : FastAPI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/01/01/devops-roadmap-2024">DevOps Roadmap 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pr-preview/pr-20/blog/2024/01/01/devops-roadmap">DevOps Roadmap</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Docker Compose</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-12-20T00:00:00.000Z">December 20, 2024</time> · <!-- -->11 min read</div></header><div id="__blog-post-container" class="markdown"><p>Docker Compose est un outil puissant qui permet de définir et de gérer des applications multi-conteneurs Docker. Il utilise un fichier YAML pour configurer les services de l&#x27;application. Ensuite, avec une seule commande, vous pouvez créer et démarrer tous les services à partir de votre configuration.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quest-ce-que-docker-compose-">Qu&#x27;est-ce que Docker Compose ?<a href="#quest-ce-que-docker-compose-" class="hash-link" aria-label="Direct link to Qu&#x27;est-ce que Docker Compose ?" title="Direct link to Qu&#x27;est-ce que Docker Compose ?" translate="no">​</a></h2>
<p>Docker Compose est un outil qui permet de définir et de gérer des applications multi-conteneurs Docker. Il utilise un fichier YAML pour configurer les services de l&#x27;application. Ensuite, avec une seule commande, vous pouvez créer et démarrer tous les services à partir de votre configuration.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="exemple-de-fichier-docker-compose">Exemple de fichier Docker Compose<a href="#exemple-de-fichier-docker-compose" class="hash-link" aria-label="Direct link to Exemple de fichier Docker Compose" title="Direct link to Exemple de fichier Docker Compose" translate="no">​</a></h2>
<p>Voici un exemple de fichier <code>docker-compose.yml</code> pour une application web simple avec un service web et une base de données :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;3&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">web</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;80:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">db</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> postgres</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">environment</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">POSTGRES_DB</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> exampledb</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">POSTGRES_USER</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> exampleuser</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">POSTGRES_PASSWORD</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> examplepass</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, nous avons deux services : <code>web</code> et <code>db</code>. Le service <code>web</code> utilise l&#x27;image <code>nginx:alpine</code> et mappe le port 80 du conteneur au port 80 de l&#x27;hôte. Le service <code>db</code> utilise l&#x27;image <code>postgres:alpine</code> et définit quelques variables d&#x27;environnement pour configurer la base de données.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="commandes-docker-compose">Commandes Docker Compose<a href="#commandes-docker-compose" class="hash-link" aria-label="Direct link to Commandes Docker Compose" title="Direct link to Commandes Docker Compose" translate="no">​</a></h2>
<p>Voici quelques commandes Docker Compose couramment utilisées :</p>
<ul>
<li class=""><code>docker-compose up</code> : Crée et démarre les conteneurs définis dans le fichier <code>docker-compose.yml</code>.</li>
<li class=""><code>docker-compose down</code> : Arrête et supprime les conteneurs, les réseaux et les volumes créés par <code>docker-compose up</code>.</li>
<li class=""><code>docker-compose ps</code> : Affiche l&#x27;état des conteneurs définis dans le fichier <code>docker-compose.yml</code>.</li>
<li class=""><code>docker-compose logs</code> : Affiche les logs des conteneurs.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="schéma-explicatif">Schéma explicatif<a href="#schéma-explicatif" class="hash-link" aria-label="Direct link to Schéma explicatif" title="Direct link to Schéma explicatif" translate="no">​</a></h2>
<p>Voici un schéma expliquant comment Docker Compose fonctionne :</p>
<p><img decoding="async" loading="lazy" src="https://www.biaudelle.fr/wp-content/uploads/2021/07/docker-compose-archi.png" alt="Schéma Docker Compose" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="démonstration-pratique">Démonstration pratique<a href="#démonstration-pratique" class="hash-link" aria-label="Direct link to Démonstration pratique" title="Direct link to Démonstration pratique" translate="no">​</a></h2>
<p>Pour mieux comprendre l&#x27;utilisation de Docker Compose, voici une démonstration pratique :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> network create mynetwork</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker-compose</span><span class="token plain"> up </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-d</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker-compose</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">ps</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ouvrez votre navigateur et accédez à <code>http://localhost</code>.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker-compose</span><span class="token plain"> down</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="avantages-clés-de-docker-compose">Avantages clés de Docker Compose<a href="#avantages-clés-de-docker-compose" class="hash-link" aria-label="Direct link to Avantages clés de Docker Compose" title="Direct link to Avantages clés de Docker Compose" translate="no">​</a></h2>
<p>L&#x27;utilisation de Docker Compose offre plusieurs avantages qui simplifient le développement, le déploiement et la gestion des applications conteneurisées :</p>
<ul>
<li class=""><strong>Contrôle simplifié</strong> : Docker Compose vous permet de définir et de gérer des applications multi-conteneurs dans un seul fichier YAML. Cela simplifie la tâche complexe d&#x27;orchestrer et de coordonner divers services, rendant plus facile la gestion et la réplication de votre environnement applicatif.</li>
<li class=""><strong>Collaboration efficace</strong> : Les fichiers de configuration Docker Compose sont faciles à partager, facilitant la collaboration entre les développeurs, les équipes d&#x27;exploitation et les autres parties prenantes. Cette approche collaborative conduit à des flux de travail plus fluides, une résolution des problèmes plus rapide et une efficacité globale accrue.</li>
<li class=""><strong>Développement rapide d&#x27;applications</strong> : Compose met en cache la configuration utilisée pour créer un conteneur. Lorsque vous redémarrez un service qui n&#x27;a pas changé, Compose réutilise les conteneurs existants. La réutilisation des conteneurs signifie que vous pouvez apporter des modifications à votre environnement très rapidement.</li>
<li class=""><strong>Portabilité entre les environnements</strong> : Compose prend en charge les variables dans le fichier Compose. Vous pouvez utiliser ces variables pour personnaliser votre composition pour différents environnements ou différents utilisateurs.</li>
<li class=""><strong>Communauté et support étendus</strong> : Docker Compose bénéficie d&#x27;une communauté dynamique et active, ce qui signifie des ressources abondantes, des tutoriels et un support. Cet écosystème communautaire contribue à l&#x27;amélioration continue de Docker Compose et aide les utilisateurs à résoudre efficacement les problèmes.</li>
</ul>
<p>Compose peut être utilisé de nombreuses manières différentes. Voici quelques cas d&#x27;utilisation courants.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="environnements-de-développement">Environnements de développement<a href="#environnements-de-développement" class="hash-link" aria-label="Direct link to Environnements de développement" title="Direct link to Environnements de développement" translate="no">​</a></h3>
<p>Lorsque vous développez des logiciels, la capacité à exécuter une application dans un environnement isolé et à interagir avec elle est cruciale. L&#x27;outil en ligne de commande Compose peut être utilisé pour créer l&#x27;environnement et interagir avec lui.</p>
<p>Le fichier Compose fournit un moyen de documenter et de configurer toutes les dépendances de service de l&#x27;application (bases de données, files d&#x27;attente, caches, API de services web, etc.). En utilisant l&#x27;outil en ligne de commande Compose, vous pouvez créer et démarrer un ou plusieurs conteneurs pour chaque dépendance avec une seule commande (<code>docker compose up</code>).</p>
<p>Ensemble, ces fonctionnalités offrent un moyen pratique de démarrer un projet. Compose peut réduire un &quot;guide de démarrage pour les développeurs&quot; de plusieurs pages à un seul fichier Compose lisible par machine et quelques commandes.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="environnements-de-test-automatisés">Environnements de test automatisés<a href="#environnements-de-test-automatisés" class="hash-link" aria-label="Direct link to Environnements de test automatisés" title="Direct link to Environnements de test automatisés" translate="no">​</a></h3>
<p>Une partie importante de tout processus de déploiement continu ou d&#x27;intégration continue est la suite de tests automatisés. Les tests automatisés de bout en bout nécessitent un environnement dans lequel exécuter les tests. Compose fournit un moyen pratique de créer et de détruire des environnements de test isolés pour votre suite de tests. En définissant l&#x27;environnement complet dans un fichier Compose, vous pouvez créer et détruire ces environnements en quelques commandes seulement.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="déploiements-sur-un-seul-hôte">Déploiements sur un seul hôte<a href="#déploiements-sur-un-seul-hôte" class="hash-link" aria-label="Direct link to Déploiements sur un seul hôte" title="Direct link to Déploiements sur un seul hôte" translate="no">​</a></h3>
<p>Compose a traditionnellement été axé sur les flux de travail de développement et de test, mais à chaque nouvelle version, nous progressons sur des fonctionnalités plus orientées vers la production.</p>
<p>Pour plus de détails sur l&#x27;utilisation des fonctionnalités orientées production, consultez <a href="https://docs.docker.com/compose/production/" target="_blank" rel="noopener noreferrer">Compose en production</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="utilisation-des-secrets-avec-docker-compose">Utilisation des secrets avec Docker Compose<a href="#utilisation-des-secrets-avec-docker-compose" class="hash-link" aria-label="Direct link to Utilisation des secrets avec Docker Compose" title="Direct link to Utilisation des secrets avec Docker Compose" translate="no">​</a></h2>
<p>Docker Compose permet également de gérer les secrets de manière sécurisée. Les secrets sont des informations sensibles telles que des mots de passe, des clés API, etc., qui ne doivent pas être exposées dans le code source.</p>
<p>Voici un exemple de configuration de secrets dans un fichier <code>docker-compose.yml</code> :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;3.7&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">web</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">secrets</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> my_secret</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">secrets</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">my_secret</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">file</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ./my_secret.txt</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, le service <code>web</code> utilise un secret nommé <code>my_secret</code> qui est défini dans le fichier <code>my_secret.txt</code>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="support-des-gpu-avec-docker-compose">Support des GPU avec Docker Compose<a href="#support-des-gpu-avec-docker-compose" class="hash-link" aria-label="Direct link to Support des GPU avec Docker Compose" title="Direct link to Support des GPU avec Docker Compose" translate="no">​</a></h2>
<p>Docker Compose prend également en charge l&#x27;utilisation des GPU pour les applications nécessitant des capacités de calcul intensif, telles que l&#x27;apprentissage automatique et le traitement d&#x27;images.</p>
<p>Voici un exemple de configuration pour utiliser un GPU avec Docker Compose :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;3.8&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">gpu_service</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nvidia/cuda</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">10.2</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">base</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">deploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">resources</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">reservations</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">devices</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">capabilities</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">gpu</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, le service <code>gpu_service</code> utilise l&#x27;image <code>nvidia/cuda:10.2-base</code> et réserve un GPU pour le conteneur.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="utilisation-de-la-surveillance-des-fichiers-avec-docker-compose">Utilisation de la surveillance des fichiers avec Docker Compose<a href="#utilisation-de-la-surveillance-des-fichiers-avec-docker-compose" class="hash-link" aria-label="Direct link to Utilisation de la surveillance des fichiers avec Docker Compose" title="Direct link to Utilisation de la surveillance des fichiers avec Docker Compose" translate="no">​</a></h2>
<p>Docker Compose permet également de surveiller les modifications des fichiers et de redémarrer automatiquement les services concernés. Cela est particulièrement utile pour les environnements de développement.</p>
<p>Voici un exemple de configuration de surveillance des fichiers dans un fichier <code>docker-compose.yml</code> :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;3.8&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">web</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> ./src</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">/usr/share/nginx/html</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">command</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> sh </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">c &quot;nginx </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">g &#x27;daemon off;&#x27;&quot;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">file_watch</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">watch</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ./src</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">action</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> restart</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, le service <code>web</code> surveille les modifications dans le répertoire <code>./src</code> et redémarre automatiquement le service lorsque des modifications sont détectées.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="réseau-dans-compose">Réseau dans Compose<a href="#réseau-dans-compose" class="hash-link" aria-label="Direct link to Réseau dans Compose" title="Direct link to Réseau dans Compose" translate="no">​</a></h2>
<blockquote>
<p><strong>Important</strong></p>
<p>La documentation de Docker se réfère et décrit les fonctionnalités de Compose V2.</p>
<p>À partir de juillet 2023, Compose V1 a cessé de recevoir des mises à jour et n&#x27;est plus inclus dans les nouvelles versions de Docker Desktop. Compose V2 l&#x27;a remplacé et est maintenant intégré dans toutes les versions actuelles de Docker Desktop. Pour plus d&#x27;informations, consultez <a href="https://docs.docker.com/compose/migrate" target="_blank" rel="noopener noreferrer">Migrer vers Compose V2</a>.</p>
</blockquote>
<p>Par défaut, Compose configure un seul <a href="https://docs.docker.com/reference/cli/docker/network/create/" target="_blank" rel="noopener noreferrer">réseau</a> pour votre application. Chaque conteneur pour un service rejoint le réseau par défaut et est à la fois accessible par d&#x27;autres conteneurs sur ce réseau et découvrable par le nom du service.</p>
<blockquote>
<p><strong>Remarque</strong></p>
<p>Le réseau de votre application reçoit un nom basé sur le &quot;nom du projet&quot;, qui est basé sur le nom du répertoire dans lequel il se trouve. Vous pouvez remplacer le nom du projet avec soit le <a href="https://docs.docker.com/reference/" target="_blank" rel="noopener noreferrer">flag <code>--project-name</code></a> soit la <a href="https://docs.docker.com/compose/environment-variables/envvars/#compose_project_name" target="_blank" rel="noopener noreferrer">variable d&#x27;environnement <code>COMPOSE_PROJECT_NAME</code></a>.</p>
</blockquote>
<p>Par exemple, supposons que votre application se trouve dans un répertoire appelé <code>myapp</code>, et que votre <code>compose.yml</code> ressemble à ceci :</p>
<p>Lorsque vous exécutez <code>docker compose up</code>, les actions suivantes se produisent :</p>
<ol>
<li class="">Un réseau appelé <code>myapp_default</code> est créé.</li>
<li class="">Un conteneur est créé en utilisant la configuration de <code>web</code>. Il rejoint le réseau <code>myapp_default</code> sous le nom <code>web</code>.</li>
<li class="">Un conteneur est créé en utilisant la configuration de <code>db</code>. Il rejoint le réseau <code>myapp_default</code> sous le nom <code>db</code>.</li>
</ol>
<p>Chaque conteneur peut maintenant rechercher le nom du service <code>web</code> ou <code>db</code> et obtenir l&#x27;adresse IP appropriée du conteneur. Par exemple, le code de l&#x27;application de <code>web</code> pourrait se connecter à l&#x27;URL <code>postgres://db:5432</code> et commencer à utiliser la base de données Postgres.</p>
<p>Il est important de noter la distinction entre <code>HOST_PORT</code> et <code>CONTAINER_PORT</code>. Dans l&#x27;exemple ci-dessus, pour <code>db</code>, le <code>HOST_PORT</code> est <code>8001</code> et le port du conteneur est <code>5432</code> (par défaut pour postgres). La communication de service à service en réseau utilise le <code>CONTAINER_PORT</code>. Lorsque <code>HOST_PORT</code> est défini, le service est également accessible en dehors du swarm.</p>
<p>Dans le conteneur <code>web</code>, votre chaîne de connexion à <code>db</code> ressemblerait à <code>postgres://db:5432</code>, et depuis la machine hôte, la chaîne de connexion ressemblerait à <code>postgres://{DOCKER_IP}:8001</code>, par exemple <code>postgres://localhost:8001</code> si votre conteneur s&#x27;exécute localement.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mise-à-jour-des-conteneurs-sur-le-réseau">Mise à jour des conteneurs sur le réseau<a href="#mise-à-jour-des-conteneurs-sur-le-réseau" class="hash-link" aria-label="Direct link to Mise à jour des conteneurs sur le réseau" title="Direct link to Mise à jour des conteneurs sur le réseau" translate="no">​</a></h3>
<p>Si vous apportez une modification de configuration à un service et exécutez <code>docker compose up</code> pour le mettre à jour, l&#x27;ancien conteneur est supprimé et le nouveau rejoint le réseau sous une adresse IP différente mais avec le même nom. Les conteneurs en cours d&#x27;exécution peuvent rechercher ce nom et se connecter à la nouvelle adresse, mais l&#x27;ancienne adresse cesse de fonctionner.</p>
<p>Si des conteneurs ont des connexions ouvertes vers l&#x27;ancien conteneur, elles sont fermées. Il incombe au conteneur de détecter cette condition, de rechercher à nouveau le nom et de se reconnecter.</p>
<blockquote>
<p><strong>Astuce</strong></p>
<p>Référencez les conteneurs par nom, et non par IP, chaque fois que possible. Sinon, vous devrez constamment mettre à jour l&#x27;adresse IP que vous utilisez.</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="réseau-multi-hôte">Réseau multi-hôte<a href="#réseau-multi-hôte" class="hash-link" aria-label="Direct link to Réseau multi-hôte" title="Direct link to Réseau multi-hôte" translate="no">​</a></h3>
<p>Lors du déploiement d&#x27;une application Compose sur un moteur Docker avec <a href="https://docs.docker.com/engine/swarm/" target="_blank" rel="noopener noreferrer">le mode Swarm activé</a>, vous pouvez utiliser le pilote intégré <code>overlay</code> pour activer la communication multi-hôte.</p>
<p>Les réseaux overlay sont toujours créés comme <code>attachable</code>. Vous pouvez éventuellement définir la propriété <a href="https://docs.docker.com/reference/compose-file/networks/#attachable" target="_blank" rel="noopener noreferrer"><code>attachable</code></a> sur <code>false</code>.</p>
<p>Consultez la <a href="https://docs.docker.com/engine/swarm/" target="_blank" rel="noopener noreferrer">section mode Swarm</a> pour savoir comment configurer un cluster Swarm, et le <a href="https://docs.docker.com/engine/network/tutorials/overlay/" target="_blank" rel="noopener noreferrer">guide de démarrage avec le réseau multi-hôte</a> pour en savoir plus sur les réseaux overlay multi-hôte.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="spécifier-des-réseaux-personnalisés">Spécifier des réseaux personnalisés<a href="#spécifier-des-réseaux-personnalisés" class="hash-link" aria-label="Direct link to Spécifier des réseaux personnalisés" title="Direct link to Spécifier des réseaux personnalisés" translate="no">​</a></h3>
<p>Au lieu d&#x27;utiliser simplement le réseau d&#x27;application par défaut, vous pouvez spécifier vos propres réseaux avec la clé de niveau supérieur <code>networks</code>. Cela vous permet de créer des topologies plus complexes et de spécifier des <a href="https://docs.docker.com/engine/extend/plugins_network/" target="_blank" rel="noopener noreferrer">pilotes de réseau personnalisés</a> et des options. Vous pouvez également l&#x27;utiliser pour connecter des services à des réseaux créés en externe qui ne sont pas gérés par Compose.</p>
<p>Chaque service peut spécifier à quels réseaux se connecter avec la clé de niveau service <code>networks</code>, qui est une liste de noms référencant des entrées sous la clé de niveau supérieur <code>networks</code>.</p>
<p>L&#x27;exemple suivant montre un fichier Compose qui définit deux réseaux personnalisés. Le service <code>proxy</code> est isolé du service <code>db</code>, car ils ne partagent pas de réseau en commun. Seul <code>app</code> peut parler aux deux.</p>
<p>Les réseaux peuvent être configurés avec des adresses IP statiques en définissant l&#x27;<a href="https://docs.docker.com/reference/compose-file/services/#ipv4_address-ipv6_address" target="_blank" rel="noopener noreferrer">adresse ipv4 et/ou ipv6</a> pour chaque réseau attaché.</p>
<p>Les réseaux peuvent également recevoir un <a href="https://docs.docker.com/reference/compose-file/networks/#name" target="_blank" rel="noopener noreferrer">nom personnalisé</a> :</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="configurer-le-réseau-par-défaut">Configurer le réseau par défaut<a href="#configurer-le-réseau-par-défaut" class="hash-link" aria-label="Direct link to Configurer le réseau par défaut" title="Direct link to Configurer le réseau par défaut" translate="no">​</a></h3>
<p>Au lieu de, ou en plus de, spécifier vos propres réseaux, vous pouvez également modifier les paramètres du réseau par défaut de l&#x27;application en définissant une entrée sous <code>networks</code> nommée <code>default</code> :</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="utiliser-un-réseau-préexistant">Utiliser un réseau préexistant<a href="#utiliser-un-réseau-préexistant" class="hash-link" aria-label="Direct link to Utiliser un réseau préexistant" title="Direct link to Utiliser un réseau préexistant" translate="no">​</a></h3>
<p>Si vous souhaitez que vos conteneurs rejoignent un réseau préexistant, utilisez l&#x27;option <a href="https://docs.docker.com/reference/compose-file/networks/#external" target="_blank" rel="noopener noreferrer"><code>external</code></a></p>
<p>Au lieu de tenter de créer un réseau appelé <code>[projectname]_default</code>, Compose recherche un réseau appelé <code>my-pre-existing-network</code> et connecte les conteneurs de votre application à celui-ci.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>Docker Compose est un outil puissant pour gérer des applications multi-conteneurs. Il simplifie la configuration, l&#x27;isolation des environnements et la portabilité des applications. En utilisant Docker Compose, vous pouvez facilement définir et gérer des environnements de développement, de test et de mise en scène, ainsi que des déploiements de production simples.</p>
<p>Pour en savoir plus sur Docker Compose, vous pouvez consulter la <a href="https://docs.docker.com/compose/" target="_blank" rel="noopener noreferrer">documentation officielle</a>.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_b1dr tagRegular_t85v" href="/pr-preview/pr-20/blog/tags/orchestration">Orchestration</a></li><li class="tag_QGVx"><a class="tag_b1dr tagRegular_t85v" href="/pr-preview/pr-20/blog/tags/devops">DevOps</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/pr-preview/pr-20/blog/2024/12/20/04-ci-cd/workflow"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">GitHub Actions : Workflow</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pr-preview/pr-20/blog/2024/12/20/06-orchestration/orchestration-dokku"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Dokku</div></a></nav></main><div class="col col--2"><div class="tableOfContents_jeP5 thin-scrollbar" style="opacity:0;transform:translateX(100px) translateZ(0)"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quest-ce-que-docker-compose-" class="table-of-contents__link toc-highlight">Qu&#39;est-ce que Docker Compose ?</a></li><li><a href="#exemple-de-fichier-docker-compose" class="table-of-contents__link toc-highlight">Exemple de fichier Docker Compose</a></li><li><a href="#commandes-docker-compose" class="table-of-contents__link toc-highlight">Commandes Docker Compose</a></li><li><a href="#schéma-explicatif" class="table-of-contents__link toc-highlight">Schéma explicatif</a></li><li><a href="#démonstration-pratique" class="table-of-contents__link toc-highlight">Démonstration pratique</a></li><li><a href="#avantages-clés-de-docker-compose" class="table-of-contents__link toc-highlight">Avantages clés de Docker Compose</a><ul><li><a href="#environnements-de-développement" class="table-of-contents__link toc-highlight">Environnements de développement</a></li><li><a href="#environnements-de-test-automatisés" class="table-of-contents__link toc-highlight">Environnements de test automatisés</a></li><li><a href="#déploiements-sur-un-seul-hôte" class="table-of-contents__link toc-highlight">Déploiements sur un seul hôte</a></li></ul></li><li><a href="#utilisation-des-secrets-avec-docker-compose" class="table-of-contents__link toc-highlight">Utilisation des secrets avec Docker Compose</a></li><li><a href="#support-des-gpu-avec-docker-compose" class="table-of-contents__link toc-highlight">Support des GPU avec Docker Compose</a></li><li><a href="#utilisation-de-la-surveillance-des-fichiers-avec-docker-compose" class="table-of-contents__link toc-highlight">Utilisation de la surveillance des fichiers avec Docker Compose</a></li><li><a href="#réseau-dans-compose" class="table-of-contents__link toc-highlight">Réseau dans Compose</a><ul><li><a href="#mise-à-jour-des-conteneurs-sur-le-réseau" class="table-of-contents__link toc-highlight">Mise à jour des conteneurs sur le réseau</a></li><li><a href="#réseau-multi-hôte" class="table-of-contents__link toc-highlight">Réseau multi-hôte</a></li><li><a href="#spécifier-des-réseaux-personnalisés" class="table-of-contents__link toc-highlight">Spécifier des réseaux personnalisés</a></li><li><a href="#configurer-le-réseau-par-défaut" class="table-of-contents__link toc-highlight">Configurer le réseau par défaut</a></li><li><a href="#utiliser-un-réseau-préexistant" class="table-of-contents__link toc-highlight">Utiliser un réseau préexistant</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul><hr class="hr_UhE0"><span class="percent_H6RK">0%<!-- --> </span></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sedelpeuch" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>