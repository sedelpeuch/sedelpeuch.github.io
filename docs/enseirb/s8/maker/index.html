<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-enseirb/s8/maker" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Maker | Sébastien Delpeuch</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://delpeuch.net/docs/enseirb/s8/maker"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Maker | Sébastien Delpeuch"><meta data-rh="true" name="description" content="Un plotter est un mécanisme d&#x27;impression permettant d&#x27;effectuer des tracés sur un support à partir d&#x27;un fichier (.svg par exemple). L&#x27;objectif de ce projet est de réaliser un plotter vertical sur l&#x27;un des tableaux blancs d&#x27;EirLab permettant de dessiner et d&#x27;effacer ses dessins en boucle."><meta data-rh="true" property="og:description" content="Un plotter est un mécanisme d&#x27;impression permettant d&#x27;effectuer des tracés sur un support à partir d&#x27;un fichier (.svg par exemple). L&#x27;objectif de ce projet est de réaliser un plotter vertical sur l&#x27;un des tableaux blancs d&#x27;EirLab permettant de dessiner et d&#x27;effacer ses dessins en boucle."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://delpeuch.net/docs/enseirb/s8/maker"><link data-rh="true" rel="alternate" href="https://delpeuch.net/docs/enseirb/s8/maker" hreflang="en"><link data-rh="true" rel="alternate" href="https://delpeuch.net/docs/enseirb/s8/maker" hreflang="x-default"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c9a3849aa75f9c4a4e65f846cd1a5155",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>

<link rel="icon" href="/img/logo.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#12affa">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/misans@4.0.0/lib/Normal/MiSans-Normal.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/misans@4.0.0/lib/Normal/MiSans-Semibold.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.3056280c.css">
<script src="/assets/js/runtime~main.f19df5de.js" defer="defer"></script>
<script src="/assets/js/main.fa8adb71.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="navbar" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="navbar" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/about">Résumé</a><a class="navbar__item navbar__link" href="/project">Projets</a><a class="navbar__item navbar__link" href="/associatif">Associatif</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ENSEIRB-MATMECA</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/enseirb/s9">Semestre 9</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/enseirb/s8">Semestre 8</a></li><li><a class="dropdown__link" href="/docs/enseirb/s7">Semestre 7</a></li><li><a class="dropdown__link" href="/docs/enseirb/s6">Semestre 6</a></li><li><a class="dropdown__link" href="/docs/enseirb/s5">Semestre 5</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">CPBx</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cpbx/s4">Semestre 4</a></li><li><a class="dropdown__link" href="/docs/cpbx/s3">Semestre 3</a></li><li><a class="dropdown__link" href="/docs/cpbx/s2">Semestre 2</a></li><li><a class="dropdown__link" href="/docs/cpbx/s1">Semestre 1</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/cpbx/">CPBx</a><button aria-label="Expand sidebar category &#x27;CPBx&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/enseirb/">ENSEIRB-MATMECA</a><button aria-label="Collapse sidebar category &#x27;ENSEIRB-MATMECA&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enseirb/s5/">Semestre 5</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/enseirb/s6/">Semestre 6</a><button aria-label="Expand sidebar category &#x27;Semestre 6&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/enseirb/s7/">Semestre 7</a><button aria-label="Expand sidebar category &#x27;Semestre 7&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/enseirb/s8/">Semestre 8</a><button aria-label="Collapse sidebar category &#x27;Semestre 8&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/enseirb/s8/apptcp/">Applications TCP-IP </a><button aria-label="Expand sidebar category &#x27;Applications TCP-IP &#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enseirb/s8/complex">Calculabilité et complexité </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enseirb/s8/crypto">Cryptologie </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enseirb/s8/ia">Intelligence Artificielle </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enseirb/s8/jeux/">Théorie des jeux pour la modélisation informatique </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/enseirb/s8/maker">Maker </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enseirb/s8/projet">Évaluation des projets et maîtrise des coûts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enseirb/s8/qualite">Management de la qualité</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enseirb/s8/robotique">Initiation à la robotique </a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/enseirb/s8/se/">Système d&#x27;exploitation </a><button aria-label="Expand sidebar category &#x27;Système d&#x27;exploitation &#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/enseirb/s9/">Semestre 9</a><button aria-label="Expand sidebar category &#x27;Semestre 9&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/enseirb/"><span itemprop="name">ENSEIRB-MATMECA</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/enseirb/s8/"><span itemprop="name">Semestre 8</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Maker </span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>1. Présentation du projet</h1>
<p>Un plotter est un mécanisme d&#x27;impression permettant d&#x27;effectuer des tracés sur un support à partir d&#x27;un fichier (.svg par exemple). L&#x27;objectif de ce projet est de réaliser un plotter vertical sur l&#x27;un des tableaux blancs d&#x27;EirLab permettant de dessiner et d&#x27;effacer ses dessins en boucle.</p>
<p><a href="http://www.eirlab.fr/tiki-download_file.php?fileId=285&amp;display=y" target="_blank" rel="noopener noreferrer">Slides de présentation du projet</a></p>
<p><a href="http://www.eirlab.fr/tiki-download_file.php?fileId=287&amp;display=y" target="_blank" rel="noopener noreferrer">Slides de présentation de mi-parcours</a></p>
<p><a href="http://www.eirlab.fr/tiki-download_file.php?fileId=350&amp;display=y" target="_blank" rel="noopener noreferrer">Slides de présentation de fin de projet</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="état-de-lart">État de l&#x27;art<a href="#état-de-lart" class="hash-link" aria-label="Direct link to État de l&#x27;art" title="Direct link to État de l&#x27;art">​</a></h2>
<p>Des centaines de projets de plotter existent sur thingiverse / instructables ... Nous pouvons citer parmi les différents projets deux qui ont retenu notre attention et qui nous ont permis de nous familiariser avec les différentes technologies pouvant être utilisées pour réaliser un plotter vertical :</p>
<ol>
<li><a href="https://www.thingiverse.com/thing:2349232" target="_blank" rel="noopener noreferrer">Thingiverse</a></li>
<li><a href="https://www.instructables.com/ARDUINO-POLAR-V-PLOTTER/" target="_blank" rel="noopener noreferrer">Instructable</a></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="matériel-nécessaire">Matériel nécessaire<a href="#matériel-nécessaire" class="hash-link" aria-label="Direct link to Matériel nécessaire" title="Direct link to Matériel nécessaire">​</a></h2>
<ul>
<li>Arduino board (uno )</li>
<li>Motor driver controller (<a href="https://components101.com/modules/a4988-stepper-motor-driver-module#:~:text=The%20A4988%20is%20a%20complete,%2C%20and%20sixteenth%2Dstep%20modes" target="_blank" rel="noopener noreferrer">A4988</a>)</li>
<li>Steppers (<a href="https://www.geeetech.com/hybrid-stepper-motor-42shd003420b-for-3d-printer-p-1011.html%7C42SHD0034-20B" target="_blank" rel="noopener noreferrer">42SHD0034-20B</a>) x2</li>
<li>Pulley 16 teeth x2</li>
<li>Mini Servo Motor MG90S x1</li>
<li>Rubber Belt (2mm)</li>
<li>Stylo tableau</li>
</ul>
<h1>2. Mécanique</h1>
<p>Pour la mécanique du projet nous avons opté pour deux versions. Nous nous sommes rendus compte que la première possédait des défauts intrinsèques qui rendaient son utilisation impossible, nous avons donc changé complètement la mécanique à mi-projet pour une version moins esthétique mais fonctionnelle.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="première-version--centralisation">Première version : centralisation<a href="#première-version--centralisation" class="hash-link" aria-label="Direct link to Première version : centralisation" title="Direct link to Première version : centralisation">​</a></h2>
<p>Jusqu&#x27;à la moitié du projet, nous avons cherché à centraliser toute l&#x27;électronique dans le cœur de la machine. Nous voulions que le shield, les steppers, et les mécanismes de levé du stylo ou de la brosse se trouvent au même endroit, dans la partie mobile. L&#x27;idée était de n&#x27;avoir qu&#x27;un câble d&#x27;alimentation apparent en mettant tous les composants électroniques au centre.</p>
<p>Nous avons donc commencé par modéliser notre plotter en 3D, sur Solidworks.</p>
<p><img loading="lazy" src="/assets/images/PlotterV1Meca-2ebf695d17e77a079b5b682db0f037a7.jpg" width="1080" height="1080" class="img_ev3q"></p>
<p>Une fois le modèle réalisé, nous avons imprimé les pièces 3d complexes (la pièce serrant le stylo en place et les roues pour la courroie en caoutchouc) et découpé les autres pièces à la laser.</p>
<p>Entre temps, l&#x27;électronique avait bien avancé et nous pouvions lancer nos premiers tests. Voici une vidéo d&#x27;un des tests réalisé sur la version 1 de notre plotter :</p>
<p><a href="http://www.eirlab.fr/tiki-download_file.php?fileId=329&amp;display=y" target="_blank" rel="noopener noreferrer">Vidéo de démonstration</a></p>
<p>On se rend compte que le centre de gravité de la partie mobile est bien trop en arrière ce qui fait pencher considérablement notre tête et empêche le stylo d&#x27;écrire.</p>
<p>On a réfléchi aux solutions qui se présentaient à nous.</p>
<ul>
<li>Descendre les steppers n&#x27;allait pas résoudre notre problème, juste changer l&#x27;angle d&#x27;inclinaison. Mais pas suffisamment pour que la pointe du stylo touche le tableau.</li>
<li>Utiliser des câbles pouvoir les plaquer plus facilement contre le tableau comme le montre une des <a href="https://youtu.be/QYwWyuI_DsA?t=109" target="_blank" rel="noopener noreferrer">vidéo</a> review de Scribit, un vertical plotter commercialisé. Nous avions des craintes concernant la précision des déplacements avec l&#x27;utilisation des câbles. Un tour de stepper de correspond pas à la même longueur de câble tirée si on a un axe vide ou si le câble a déjà une trentaine de tours enroulés.</li>
<li>Refaire totalement la mécanique et enlever les steppers du cœur de la machine. C&#x27;est la solution pour laquelle nous avons opté.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="la-deuxième">La deuxième<a href="#la-deuxième" class="hash-link" aria-label="Direct link to La deuxième" title="Direct link to La deuxième">​</a></h2>
<p>Nous avons enlevé les steppers du coeur de la machine mais aussi le shield. Nous n&#x27;avons donc que les mécanismes de lever de stylo et de brosse qui restent au centre du plotter.</p>
<p>Voici le nouveau modèle 3d : <a href="http://www.eirlab.fr/tiki-download_file.php?fileId=323&amp;display=y" target="_blank" rel="noopener noreferrer">video</a></p>
<p>Une fois les pièces imprimées et découpées, nous avons fait l&#x27;assemblage et avons bien observé que notre problème de centre de gravité n&#x27;apparaissait plus.</p>
<p>Voici une liste des différents avantages et inconvénients de ce nouveau modèle :</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="avantages">Avantages:<a href="#avantages" class="hash-link" aria-label="Direct link to Avantages:" title="Direct link to Avantages:">​</a></h3>
<ul>
<li>Pas de bascule à cause d&#x27;un poids trop important</li>
<li>Plus esthétique avec un cœur en forme du logo d&#x27;Eirlab</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inconvénients-">Inconvénients :<a href="#inconvénients-" class="hash-link" aria-label="Direct link to Inconvénients :" title="Direct link to Inconvénients :">​</a></h3>
<ul>
<li>Une partie de l&#x27;élec se trouve hors du cœur, il y a donc des câbles qui vont se balader.</li>
</ul>
<p>Nous avons ensuite rajouté un petit boîtier pour intégrer la carte Arduino.</p>
<p>Les différents fichiers permettant de reproduire la mécanique du projet sont disponible <span style="display:inline-flex;gap:0.25rem"><span></span><a href="https://github.com/Sdelpeuch/MakerPlotter" target="_blank" rel="noopener noreferrer">ici</a></span> (utilisation d&#x27;une découpeuse laser et d&#x27;une imprimante 3D)</p>
<h1>3. Électronique</h1>
<p>Notre projet implique le contrôle de différents modules à différentes tensions. Nous devons principalement contrôler les deux steppers qui permettent de faire bouger notre module sur le tableau. Ces steppers sont contrôlés par deux drivers (<a href="https://components101.com/modules/a4988-stepper-motor-driver-module#:~:text=The%20A4988%20is%20a%20complete,%2C%20and%20sixteenth%2Dstep%20modes" target="_blank" rel="noopener noreferrer">A4988</a>). Chaque driver nécessite une entrée 5V, une masse, deux connexions avec des pins &quot;DIGITAL&quot; de l&#x27;arduino (pour contrôler la direction et le nombre de pas). Chaque driver nécessite de plus une alimentation comprise entre 8V et 12V pour alimenter les steppers.</p>
<p>De plus pour monter / descendre le stylo et la brosse, nous allons utiliser des servo moteurs, il est donc nécessaire d&#x27;avoir plusieurs sorties 5V, GND et PWM pour contrôler ces derniers.</p>
<p>Pour éviter l&#x27;utilisation abusive de dupont partant de l&#x27;arduino nous avons opté pour la création d&#x27;un shield sur mesure. Ce shield comprend 6 sorties pour servo moteurs (5V + GND + PWM). Des emplacements pour les drivers ainsi que des connecteurs mâles pour accueillir les connecteurs des steppers. Nous avons rajouté une led et un bouton au cas où.</p>
<p>Concernant l&#x27;alimentatslion de l&#x27;ensemble se fera via le shield grâce à un transformateur 220V vers 9V. Sur la photo ci dessous, le connecteur n&#x27;est pas installé sur la photo.</p>
<p><img loading="lazy" src="/assets/images/elec-ea5d42cb627092d117bff8d2dde58fca.jpg" width="4032" height="2269" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ne-jamais-brancher-le-port-usb-et-lalimentation-via-le-shield-en-même-temps"><strong>===NE JAMAIS BRANCHER LE PORT USB ET L&#x27;ALIMENTATION VIA LE SHIELD EN MÊME TEMPS===</strong><a href="#ne-jamais-brancher-le-port-usb-et-lalimentation-via-le-shield-en-même-temps" class="hash-link" aria-label="Direct link to ne-jamais-brancher-le-port-usb-et-lalimentation-via-le-shield-en-même-temps" title="Direct link to ne-jamais-brancher-le-port-usb-et-lalimentation-via-le-shield-en-même-temps">​</a></h3>
<hr>
<p>Lorsque l&#x27;on alimente une Arduino par l&#x27;extérieur (utilisation du pin Vin) le régulateur de tension s&#x27;assure que l&#x27;arduino n&#x27;est pas alimentée en plus de 5V. Cela nous permet d&#x27;alimenter en 10V l&#x27;ensemble tout en sachant que l&#x27;arduino sera alimentée en 5V. Si l&#x27;arduino est alimentée à la fois via son port USB type B et par son pin Vin le régulateur de tension assure le fonctionnement.</p>
<p>Cependant, nous n’utilisons pas une arduino uno mais une copie (Joy-it R3DIP). Le régulateur de tension n&#x27;est pas le même que sur arduino uno. Ainsi si la carte est alimentée à la fois par le shield et par son port USB type B, le régulateur de tension n&#x27;assurera plus la régulation à 5V sur la carte et celle-ci sera parcourue par une tension égale à Vin (soit 10V dans notre cas, ce qui a pour effet de rendre hors service l&#x27;ATMEGA)</p>
<p>L&#x27;alimentation se fait via la shield grâce à un transformateur que nous avons trouvé à Eirlab, ce dernier se branche sur une prise conventionnelle et délivre du courant 12V en sortie.</p>
<p>Les éléments pour reproduire le shield sont disponibles
<a href="http://www.eirlab.fr/tiki-download_file.php?fileId=290" target="_blank" rel="noopener noreferrer">ici</a></p>
<h1>4. Logiciel</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="41-mathématiques">4.1. Mathématiques<a href="#41-mathématiques" class="hash-link" aria-label="Direct link to 4.1. Mathématiques" title="Direct link to 4.1. Mathématiques">​</a></h2>
<p>Pour réussir à dessiner la première étape est de trouver les équations mathématiques permettant de convertir un déplacement en un nombre de tour pour le moteur. Pour ce faire commençons par définir le problème.</p>
<p><img loading="lazy" src="/assets/images/PlotterSchema-a9ed1e77d94d58c2c858217fceca4cf1.png" width="487" height="586" class="img_ev3q">
<img loading="lazy" src="/assets/images/PlotterMath-0ca3fcabf63167ef2d632ab77ec6ea5f.png" width="1334" height="762" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="42-programme">4.2 Programme<a href="#42-programme" class="hash-link" aria-label="Direct link to 4.2 Programme" title="Direct link to 4.2 Programme">​</a></h2>
<p>Maintenant que nous avons à notre disposition tous les éléments physiques et mathématiques permettant de mettre en place le vertical plotter nous allons nous attarder sur la réalisation du contrôle et du logiciel permettant de dessiner.</p>
<p>Pour réaliser le logiciel nous utilisons le langage C++, le logiciel se décompose en 3 parties. D&#x27;une part la définition d&#x27;un tableau (classe <strong>board</strong>), le contrôle de &quot;bas niveau&quot; (classe __control
__) c&#x27;est à dire la transformation entre un ordre de déplacement et un nombre de tour à appliquer aux moteurs. Enfin nous avons le contrôle &quot;haut niveau&quot; (classe __drawer
__) permettant de transformer un dessin en une succession de mouvement. Une classe __position
__ a été mise en place pour simplifier les manipulations mathématiques sur les couples (x,y). Ce découpage est résumé dans le diagramme de classe suivant. Le diagramme ne représente pas les constructeurs et destructeurs ni les accesseurs et mutateurs.</p>
<p><img loading="lazy" src="/assets/images/PlotterClasse-d29cae4f95d9aea2341bf54e2828c05f.png" width="777" height="1348" class="img_ev3q"></p>
<p>La classe <strong>board</strong> définit physiquement un tableau principalement par sa taille et la position initiale du module sur le tableau (classiquement au centre). Les champs _<strong>a</strong> et ___b
__ sont des artéfacts de la première version mécanique, il convient de les mettre à 0 dorénavant. Les tableaux d&#x27;eirlab sont préprogrammés, il suffit d&#x27;utiliser la méthode __generateBoard(Little)
__ pour obtenir un objet de classe tableau correspondant l&#x27;un des petits tableaux d&#x27;Eirlab.</p>
<p>La classe <strong>control</strong> met en œuvre les équations mathématiques vues en 4.1 elle est composée de deux fonctions principales : __simpleMove(Position objective)
__ qui permet de réaliser un déplacement unitaire. Et __complexMove
__ qui permet de réaliser une chemin (c&#x27;est à dire une succession de point qui seront transformé en succession de déplacement unitaire par interpolation)</p>
<p>La classe <strong>drawer</strong>  est la classe qui permet de transformer un dessin en une succession de chemin tout en prenant en compte les moments où il faut relever et baisser le stylo.</p>
<p>Concrètement le fonctionnement est relativement simple, un fichier (**aDraw.cpp
**) décrit un dessin, ce dessin est composé de plusieurs tableaux de chemin. Chaque tableau de chemin va être analysé par la classe Drawer qui va le décomposer en chemin et demander à la classe Control de l&#x27;analyser. La classe Control va décomposer ce chemin en succession de position et utiliser la fonction simpleMove pour comparer la position actuelle et la position objectif et ainsi se déplacer. Entre chaque chemin le stylo est levé et rebaissé au début du nouveau chemin.</p>
<p>C&#x27;est trois classes permettent de contrôler le tableau mais n&#x27;ont pas vocation à être utilisée directement par l&#x27;utilisateur.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="43-principale-difficulté--la-mémoire">4.3 Principale difficulté : la mémoire<a href="#43-principale-difficulté--la-mémoire" class="hash-link" aria-label="Direct link to 4.3 Principale difficulté : la mémoire" title="Direct link to 4.3 Principale difficulté : la mémoire">​</a></h2>
<p>Maintenant que nous pouvons contrôler le module physique comme l&#x27;on veut nous
allons chercher à transformer une image en succession de chemin c&#x27;est à dire en
un tableau de tableau de points. Pour réaliser cela nous utilisons <a href="https://shinao.github.io/PathToPoints/" target="_blank" rel="noopener noreferrer">ce site</a> qui transforme une image vectorielle en un tableau de points.</p>
<p>Cependant étant donné que nous travaillons sur un arduino uno nous avons 32 Ko de mémoire Flash et 2 Ko de mémoire SRAM autrement dit nous ne pouvons pas stocker une grande quantité de points (en allocation uniquement automatique nous étions limité à 200 points par dessin). Pour nous affranchir de cette contrainte nous allouons dynamiquement les tableaux de points et nous les désallouons au fur et à mesure. Pour éviter à l&#x27;utilisateur de devoir transformer un tableau (en format python) en une allocation dynamique de tableau en C++ un script python permet de générer du code C++ à partir d&#x27;un fichier .txt contenant le tableau de position.</p>
<p>Le script permet de simplifier la vie de l&#x27;utilisateur (il a juste à remplir un .txt) et nous permet de faire des dessins plus grands, nous pouvons avoir une infinité de chemin comportant chacun au maximum 50 points.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="44-tutoriel-pour-dessiner-une-image">4.4 Tutoriel pour dessiner une image<a href="#44-tutoriel-pour-dessiner-une-image" class="hash-link" aria-label="Direct link to 4.4 Tutoriel pour dessiner une image" title="Direct link to 4.4 Tutoriel pour dessiner une image">​</a></h2>
<ol start="0">
<li>Récupérer les sources de notre projet disponible <span style="display:inline-flex;gap:0.25rem"><span></span><a href="https://github.com/Sdelpeuch/MakerPlotter" target="_blank" rel="noopener noreferrer">ici</a></span></li>
<li>Commencer par choisir une image au format svg, les meilleurs résultats sont obtenus avec des images polygonales (low poly)</li>
<li>Téléverser l&#x27;image sur [ce site](<a href="https://shinao.github.io/PathToPoints/%7Cce" target="_blank" rel="noopener noreferrer">https://shinao.github.io/PathToPoints/|ce</a> site) choisissez &quot;Point every x length&quot; et cliquez sur &quot;Apply&quot; : le nombre de path est illimité mais chaque path doit avoir moins de 50 points</li>
<li>Le site génère alors un tableau de point, récupérer le tableau qui s&#x27;affiche dans &quot;AllPath&quot;</li>
<li>Copier ce tableau dans le fichier &quot;drawing.txt&quot; disponible dans le dossier src/ de notre projet</li>
<li>Lancer la commande python3 coordinate_to_cpp.py</li>
<li>Brancher le cable usb à l&#x27;arduino (<strong>EN DÉBRANCHANT L&#x27;ALIMENTATION</strong>) et réalisez la commande make upload depuis la racine du projet</li>
<li>Débrancher le cable usb, rebrancher l&#x27;alimentation et regardez.</li>
</ol>
<h1>Membres du projet</h1>
<ul>
<li>Delpeuch Sébastien</li>
<li>Pringalle Antoine</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/enseirb/s8/jeux/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Théorie des jeux pour la modélisation informatique </div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/enseirb/s8/projet"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Évaluation des projets et maîtrise des coûts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop" style="opacity:0;transform:translateX(100px) translateZ(0)"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#état-de-lart" class="table-of-contents__link toc-highlight">État de l&#39;art</a></li><li><a href="#matériel-nécessaire" class="table-of-contents__link toc-highlight">Matériel nécessaire</a></li><li><a href="#première-version--centralisation" class="table-of-contents__link toc-highlight">Première version : centralisation</a></li><li><a href="#la-deuxième" class="table-of-contents__link toc-highlight">La deuxième</a><ul><li><a href="#avantages" class="table-of-contents__link toc-highlight">Avantages:</a></li><li><a href="#inconvénients-" class="table-of-contents__link toc-highlight">Inconvénients :</a></li><li><a href="#ne-jamais-brancher-le-port-usb-et-lalimentation-via-le-shield-en-même-temps" class="table-of-contents__link toc-highlight"><strong>===NE JAMAIS BRANCHER LE PORT USB ET L&#39;ALIMENTATION VIA LE SHIELD EN MÊME TEMPS===</strong></a></li></ul></li><li><a href="#41-mathématiques" class="table-of-contents__link toc-highlight">4.1. Mathématiques</a></li><li><a href="#42-programme" class="table-of-contents__link toc-highlight">4.2 Programme</a></li><li><a href="#43-principale-difficulté--la-mémoire" class="table-of-contents__link toc-highlight">4.3 Principale difficulté : la mémoire</a></li><li><a href="#44-tutoriel-pour-dessiner-une-image" class="table-of-contents__link toc-highlight">4.4 Tutoriel pour dessiner une image</a></li></ul><hr class="hr_UhE0"><span class="percent_H6RK">0%<!-- --> </span></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sedelpeuch" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>