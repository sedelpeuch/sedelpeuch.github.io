"use strict";(self.webpackChunksedelpeuch_net=self.webpackChunksedelpeuch_net||[]).push([[7675],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(96540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}},37936:e=>{e.exports=JSON.parse('{"permalink":"/blog/2025/03/01/09-scripting/poetry-python-dependency","source":"@site/blog/09-scripting/2025-03-01-poetry-python-dependency.md","title":"Poetry: G\xe9rer efficacement vos d\xe9pendances Python","description":"Un guide complet sur Poetry, l\'outil moderne de gestion de d\xe9pendances et de packaging pour Python.","date":"2025-03-01T00:00:00.000Z","tags":[{"inline":true,"label":"Python","permalink":"/blog/tags/python"},{"inline":true,"label":"DevOps","permalink":"/blog/tags/dev-ops"},{"inline":true,"label":"Scripting","permalink":"/blog/tags/scripting"}],"readingTime":3.96,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Poetry: G\xe9rer efficacement vos d\xe9pendances Python","description":"Un guide complet sur Poetry, l\'outil moderne de gestion de d\xe9pendances et de packaging pour Python.","tags":["Python","DevOps","Scripting"]},"unlisted":false,"prevItem":{"title":"Introduction \xe0 Traefik","permalink":"/blog/2025/03/15/02-network/traefik"},"nextItem":{"title":"Secrets et ConfigMaps dans Kubernetes","permalink":"/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps"}}')},93108:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>a});var t=s(37936),r=s(74848),i=s(28453);const o={title:"Poetry: G\xe9rer efficacement vos d\xe9pendances Python",description:"Un guide complet sur Poetry, l'outil moderne de gestion de d\xe9pendances et de packaging pour Python.",tags:["Python","DevOps","Scripting"]},l=void 0,d={authorsImageUrls:[]},a=[{value:"Pourquoi utiliser Poetry ? \ud83e\udd14",id:"pourquoi-utiliser-poetry--",level:2},{value:"Installation de Poetry \ud83d\ude80",id:"installation-de-poetry-",level:2},{value:"Cr\xe9ation d&#39;un nouveau projet \ud83d\udcc1",id:"cr\xe9ation-dun-nouveau-projet-",level:2},{value:"Gestion des d\xe9pendances \ud83d\udce6",id:"gestion-des-d\xe9pendances-",level:2},{value:"Ajouter des d\xe9pendances",id:"ajouter-des-d\xe9pendances",level:3},{value:"Le fichier poetry.lock",id:"le-fichier-poetrylock",level:3},{value:"Utilisation quotidienne \ud83d\udcbb",id:"utilisation-quotidienne-",level:2},{value:"Ex\xe9cuter des commandes dans l&#39;environnement virtuel",id:"ex\xe9cuter-des-commandes-dans-lenvironnement-virtuel",level:3},{value:"Mise \xe0 jour des d\xe9pendances",id:"mise-\xe0-jour-des-d\xe9pendances",level:3},{value:"Configuration avanc\xe9e \ud83d\udd27",id:"configuration-avanc\xe9e-",level:2},{value:"Gestion de plusieurs environnements Python",id:"gestion-de-plusieurs-environnements-python",level:3},{value:"Configuration des sources de packages",id:"configuration-des-sources-de-packages",level:3},{value:"Workflows CI/CD avec Poetry \ud83d\udd04",id:"workflows-cicd-avec-poetry-",level:2},{value:"Publication de votre package \ud83d\udea2",id:"publication-de-votre-package-",level:2},{value:"Comparaison avec d&#39;autres outils \ud83d\udd0d",id:"comparaison-avec-dautres-outils-",level:2},{value:"Bonnes pratiques avec Poetry \ud83d\udc4d",id:"bonnes-pratiques-avec-poetry-",level:2},{value:"Conclusion \ud83c\udfaf",id:"conclusion-",level:2}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Poetry est devenu un outil essentiel dans l'\xe9cosyst\xe8me Python pour g\xe9rer les d\xe9pendances et le packaging de projets. Dans cet article, nous explorerons comment Poetry simplifie la gestion des d\xe9pendances Python, offrant une alternative \xe9l\xe9gante et robuste \xe0 pip et virtualenv. \ud83d\udc0d"}),"\n",(0,r.jsx)(n.h2,{id:"pourquoi-utiliser-poetry--",children:"Pourquoi utiliser Poetry ? \ud83e\udd14"}),"\n",(0,r.jsx)(n.p,{children:"Avant de plonger dans les d\xe9tails techniques, voyons pourquoi vous devriez envisager d'utiliser Poetry pour vos projets Python:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gestion simplifi\xe9e des d\xe9pendances"}),": Poetry g\xe8re automatiquement les d\xe9pendances et leurs versions compatibles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environnements virtuels int\xe9gr\xe9s"}),": Cr\xe9ation et gestion des environnements virtuels sans configuration suppl\xe9mentaire"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"R\xe9solution d\xe9terministe des d\xe9pendances"}),": Lock file garantissant la reproductibilit\xe9 des installations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Publication facilit\xe9e"}),": D\xe9ploiement simplifi\xe9 de packages sur PyPI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Interface utilisateur intuitive"}),": Commandes claires et feedback utile"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation-de-poetry-",children:"Installation de Poetry \ud83d\ude80"}),"\n",(0,r.jsx)(n.p,{children:"L'installation de Poetry est simple et directe:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# M\xe9thode recommand\xe9e (installation isol\xe9e)\ncurl -sSL https://install.python-poetry.org | python3 -\n\n# V\xe9rifier l'installation\npoetry --version\n"})}),"\n",(0,r.jsx)(n.p,{children:"Pour les utilisateurs de macOS ou Linux, ajoutez Poetry \xe0 votre PATH:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Ajouter \xe0 votre .zshrc ou .bashrc\nexport PATH="$HOME/.local/bin:$PATH"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"cr\xe9ation-dun-nouveau-projet-",children:"Cr\xe9ation d'un nouveau projet \ud83d\udcc1"}),"\n",(0,r.jsx)(n.p,{children:"Pour cr\xe9er un nouveau projet avec Poetry:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Cr\xe9er un nouveau projet\npoetry new mon-super-projet\n\n# Structure g\xe9n\xe9r\xe9e\nmon-super-projet/\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 mon_super_projet/\n\u2502   \u2514\u2500\u2500 __init__.py\n\u2514\u2500\u2500 tests/\n    \u2514\u2500\u2500 __init__.py\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Le fichier ",(0,r.jsx)(n.code,{children:"pyproject.toml"})," est le c\u0153ur de votre projet, contenant toutes les m\xe9tadonn\xe9es et d\xe9pendances:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[tool.poetry]\nname = "mon-super-projet"\nversion = "0.1.0"\ndescription = ""\nauthors = ["Votre Nom <votre.email@example.com>"]\nreadme = "README.md"\n\n[tool.poetry.dependencies]\npython = "^3.10"\n\n[tool.poetry.dev-dependencies]\npytest = "^7.3.1"\n\n[build-system]\nrequires = ["poetry-core>=1.0.0"]\nbuild-backend = "poetry.core.masonry.api"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"gestion-des-d\xe9pendances-",children:"Gestion des d\xe9pendances \ud83d\udce6"}),"\n",(0,r.jsx)(n.h3,{id:"ajouter-des-d\xe9pendances",children:"Ajouter des d\xe9pendances"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Ajouter une d\xe9pendance\npoetry add requests\n\n# Ajouter une d\xe9pendance avec une contrainte de version sp\xe9cifique\npoetry add "requests>=2.25.0,<3.0.0"\n\n# Ajouter une d\xe9pendance de d\xe9veloppement\npoetry add pytest --group dev\n'})}),"\n",(0,r.jsx)(n.h3,{id:"le-fichier-poetrylock",children:"Le fichier poetry.lock"}),"\n",(0,r.jsxs)(n.p,{children:["Lorsque vous ajoutez des d\xe9pendances, Poetry cr\xe9e un fichier ",(0,r.jsx)(n.code,{children:"poetry.lock"})," qui verrouille les versions exactes. Ce fichier assure que tous les environnements utiliseront exactement les m\xeames versions des packages."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Installer les d\xe9pendances depuis le lock file\npoetry install\n"})}),"\n",(0,r.jsx)(n.h2,{id:"utilisation-quotidienne-",children:"Utilisation quotidienne \ud83d\udcbb"}),"\n",(0,r.jsx)(n.h3,{id:"ex\xe9cuter-des-commandes-dans-lenvironnement-virtuel",children:"Ex\xe9cuter des commandes dans l'environnement virtuel"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Ex\xe9cuter un script Python\npoetry run python mon_script.py\n\n# Ex\xe9cuter une commande install\xe9e\npoetry run pytest\n\n# Ouvrir un shell dans l'environnement virtuel\npoetry shell\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mise-\xe0-jour-des-d\xe9pendances",children:"Mise \xe0 jour des d\xe9pendances"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Afficher les d\xe9pendances qui peuvent \xeatre mises \xe0 jour\npoetry show --outdated\n\n# Mettre \xe0 jour toutes les d\xe9pendances\npoetry update\n\n# Mettre \xe0 jour une d\xe9pendance sp\xe9cifique\npoetry update requests\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration-avanc\xe9e-",children:"Configuration avanc\xe9e \ud83d\udd27"}),"\n",(0,r.jsx)(n.h3,{id:"gestion-de-plusieurs-environnements-python",children:"Gestion de plusieurs environnements Python"}),"\n",(0,r.jsx)(n.p,{children:"Poetry permet de travailler facilement avec diff\xe9rentes versions de Python:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Sp\xe9cifier une version Python pour le projet\npoetry env use python3.9\n\n# Lister les environnements virtuels associ\xe9s au projet\npoetry env list\n\n# Supprimer un environnement virtuel\npoetry env remove python3.8\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-des-sources-de-packages",children:"Configuration des sources de packages"}),"\n",(0,r.jsx)(n.p,{children:"Vous pouvez configurer des sources de packages personnalis\xe9es:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Ajouter un repository priv\xe9\npoetry source add mon-repo https://mon-repo-prive.com/simple/\n\n# Installer depuis un repository sp\xe9cifique\npoetry add mon-package --source mon-repo\n"})}),"\n",(0,r.jsx)(n.h2,{id:"workflows-cicd-avec-poetry-",children:"Workflows CI/CD avec Poetry \ud83d\udd04"}),"\n",(0,r.jsx)(n.p,{children:"Poetry s'int\xe8gre parfaitement dans les pipelines d'int\xe9gration continue. Voici un exemple avec GitHub Actions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"name: Tests Python\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n      - name: Install Poetry\n        uses: snok/install-poetry@v1\n        with:\n          version: 1.6.1\n      - name: Install dependencies\n        run: poetry install\n      - name: Run tests\n        run: poetry run pytest\n"})}),"\n",(0,r.jsx)(n.h2,{id:"publication-de-votre-package-",children:"Publication de votre package \ud83d\udea2"}),"\n",(0,r.jsx)(n.p,{children:"Poetry facilite \xe9norm\xe9ment la publication de packages sur PyPI:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Construire le package\npoetry build\n\n# Publier sur PyPI\npoetry publish\n\n# Construire et publier en une seule commande\npoetry publish --build\n"})}),"\n",(0,r.jsx)(n.p,{children:"Pour publier sur un index priv\xe9:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"poetry publish --repository mon-repo\n"})}),"\n",(0,r.jsx)(n.h2,{id:"comparaison-avec-dautres-outils-",children:"Comparaison avec d'autres outils \ud83d\udd0d"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Fonctionnalit\xe9"}),(0,r.jsx)(n.th,{children:"Poetry"}),(0,r.jsx)(n.th,{children:"pip + venv"}),(0,r.jsx)(n.th,{children:"pipenv"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Gestion des d\xe9pendances"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f (manuel)"}),(0,r.jsx)(n.td,{children:"\u2705"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Lock file"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u2705"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Environnements virtuels"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u2705 (s\xe9par\xe9)"}),(0,r.jsx)(n.td,{children:"\u2705"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Publication de package"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u274c (besoin de setuptools)"}),(0,r.jsx)(n.td,{children:"\u274c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"R\xe9solution des d\xe9pendances"}),(0,r.jsx)(n.td,{children:"\u2705 (rapide)"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u2705 (lent)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Innovation active"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"bonnes-pratiques-avec-poetry-",children:"Bonnes pratiques avec Poetry \ud83d\udc4d"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Toujours commiter le fichier ",(0,r.jsx)(n.code,{children:"poetry.lock"})]}),": Il garantit la reproductibilit\xe9 des installations"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"S\xe9parer clairement d\xe9pendances de production et de d\xe9veloppement"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"D\xe9finir des contraintes de version pr\xe9cises"})," pour les biblioth\xe8ques critiques"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Utiliser ",(0,r.jsx)(n.code,{children:"poetry export"})]})," pour g\xe9n\xe9rer un ",(0,r.jsx)(n.code,{children:"requirements.txt"})," quand n\xe9cessaire:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"poetry export -f requirements.txt --output requirements.txt\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Mettre \xe0 jour r\xe9guli\xe8rement"})," vos d\xe9pendances pour des raisons de s\xe9curit\xe9"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"conclusion-",children:"Conclusion \ud83c\udfaf"}),"\n",(0,r.jsx)(n.p,{children:"Poetry a transform\xe9 la fa\xe7on dont les d\xe9veloppeurs Python g\xe8rent leurs projets en offrant une solution tout-en-un pour la gestion des d\xe9pendances, les environnements virtuels et le packaging. Son approche d\xe9clarative et sa simplicit\xe9 d'utilisation en font un outil incontournable pour tout projet Python moderne."}),"\n",(0,r.jsx)(n.p,{children:"Au-del\xe0 d'\xeatre un simple gestionnaire de d\xe9pendances, Poetry repr\xe9sente une \xe9volution significative dans l'\xe9cosyst\xe8me Python, rendant le d\xe9veloppement plus reproductible, plus fiable et plus agr\xe9able."}),"\n",(0,r.jsx)(n.p,{children:"Avez-vous d\xe9j\xe0 adopt\xe9 Poetry dans vos projets Python? Quelles sont vos exp\xe9riences? Partagez-les dans les commentaires!"})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);