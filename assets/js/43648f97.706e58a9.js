"use strict";(self.webpackChunksedelpeuch_net=self.webpackChunksedelpeuch_net||[]).push([[6708],{16164(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>o});var i=s(95702),t=s(74848),r=s(28453);const l={title:"SSL/TLS : Certification, HTTPS et hardening",description:"Principes de base de PKI, obtention de certificats (Let's Encrypt, self-signed), configuration Nginx et v\xe9rifications pratiques. Pas de solutions cloud \u2014 mention de VPN (par exemple Tailscale) pour les usages priv\xe9s.",tags:["network","devops"]},c=void 0,a={authorsImageUrls:[]},o=[{value:"Concepts rapides",id:"concepts-rapides",level:2},{value:"Obtenir un certificat \u2014 Let&#39;s Encrypt (Certbot)",id:"obtenir-un-certificat--lets-encrypt-certbot",level:2},{value:"Exemple de configuration Nginx (HTTP -&gt; HTTPS)",id:"exemple-de-configuration-nginx-http---https",level:2},{value:"Certificats autosign\xe9s (usage local / VPN)",id:"certificats-autosign\xe9s-usage-local--vpn",level:2},{value:"Renouvellement et automatisation",id:"renouvellement-et-automatisation",level:2},{value:"Tests et v\xe9rifications",id:"tests-et-v\xe9rifications",level:2},{value:"Checklist de durcissement (niveau interm\xe9diaire)",id:"checklist-de-durcissement-niveau-interm\xe9diaire",level:2},{value:"R\xe9f\xe9rences et lecture recommand\xe9e",id:"r\xe9f\xe9rences-et-lecture-recommand\xe9e",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Proc\xe9dures et exemples pour obtenir et d\xe9ployer des certificats TLS, configurer Nginx pour HTTPS et appliquer des mesures de durcissement (niveau interm\xe9diaire). Le p\xe9rim\xe8tre exclut les solutions cloud manag\xe9es. Mention : Tailscale pour usages priv\xe9s."}),"\n",(0,t.jsx)(n.h2,{id:"concepts-rapides",children:"Concepts rapides"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cl\xe9 priv\xe9e : conserv\xe9e sur le serveur, ne doit jamais \xeatre expos\xe9e."}),"\n",(0,t.jsx)(n.li,{children:"CSR (Certificate Signing Request) : contient la cl\xe9 publique et les informations du sujet pour demander un certificat."}),"\n",(0,t.jsx)(n.li,{children:"Certificat (CRT) : d\xe9livr\xe9 par une CA et pr\xe9sent\xe9 au client lors de la n\xe9gociation TLS."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Types de certificats courants : self-signed (d\xe9veloppement/interne), CA publique (Let's Encrypt, payant), CA interne (PKI d'entreprise)."}),"\n",(0,t.jsx)(n.h2,{id:"obtenir-un-certificat--lets-encrypt-certbot",children:"Obtenir un certificat \u2014 Let's Encrypt (Certbot)"}),"\n",(0,t.jsx)(n.p,{children:"Utiliser Certbot est la m\xe9thode la plus simple pour obtenir et renouveler des certificats gratuits Let's Encrypt. Exemples d'installation et commande d'obtention :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tabs",children:'=== "Linux (Debian/Ubuntu)"\n\n```bash\nsudo apt update\nsudo apt install -y nginx certbot python3-certbot-nginx\n# Obtenir et configurer automatiquement pour Nginx\nsudo certbot --nginx -d example.com -d www.example.com\n'})}),"\n",(0,t.jsx)(n.p,{children:'=== "macOS (Homebrew)"'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"brew install certbot\n# Utiliser --nginx si Nginx est install\xe9 via brew\nsudo certbot --nginx -d example.com\n"})}),"\n",(0,t.jsx)(n.p,{children:'=== "Windows / WSL"'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Sur Windows, pr\xe9f\xe9rez WSL ou Docker pour Certbot\n# Exemple (WSL Ubuntu): r\xe9p\xe9ter la commande Linux ci\u2011dessus\nsudo certbot --nginx -d example.com\n"})}),"\n",(0,t.jsx)(n.p,{children:"Si l'h\xf4te n'est pas encore servi par Nginx (ou port 80 est bloqu\xe9), on peut utiliser le mode standalone :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo certbot certonly --standalone -d example.com\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Certbot installe les certificats dans ",(0,t.jsx)(n.code,{children:"/etc/letsencrypt/live/<domain>/"})," et configure le renouvellement automatique (",(0,t.jsx)(n.code,{children:"certbot renew"}),")."]}),"\n",(0,t.jsx)(n.h2,{id:"exemple-de-configuration-nginx-http---https",children:"Exemple de configuration Nginx (HTTP -> HTTPS)"}),"\n",(0,t.jsx)(n.p,{children:"Voici un exemple minimal pour rediriger tout le trafic HTTP vers HTTPS, puis la configuration HTTPS qui utilise les certificats Let's Encrypt."}),"\n",(0,t.jsx)(n.p,{children:"Fichier de redirection (port 80) :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-nginx",children:"server {\n    listen 80;\n    server_name example.com www.example.com;\n    return 301 https://$host$request_uri;\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Bloc HTTPS :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-nginx",children:"server {\n    listen 443 ssl http2;\n    server_name example.com www.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers on;\n    ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:!aNULL:!MD5:!3DES';\n\n    ssl_session_cache shared:SSL:10m;\n    ssl_session_timeout 1d;\n    ssl_session_tickets off;\n\n    ssl_stapling on;\n    ssl_stapling_verify on;\n\n    add_header Strict-Transport-Security \"max-age=63072000; includeSubDomains; preload\" always;\n    add_header X-Content-Type-Options nosniff;\n\n    location / {\n        root /var/www/html;\n        index index.html index.htm;\n    }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Remarques :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Testez HSTS avec prudence : activez ",(0,t.jsx)(n.code,{children:"includeSubDomains"})," et ",(0,t.jsx)(n.code,{children:"preload"})," seulement apr\xe8s avoir valid\xe9 la configuration pour tous les sous-domaines."]}),"\n",(0,t.jsx)(n.li,{children:"Les directives ci\u2011dessus offrent un bon compromis pratique ; elles ne remplacent pas une politique de s\xe9curit\xe9 adapt\xe9e \xe0 des contraintes particuli\xe8res."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"certificats-autosign\xe9s-usage-local--vpn",children:"Certificats autosign\xe9s (usage local / VPN)"}),"\n",(0,t.jsx)(n.p,{children:"Pour des services internes inatteignables publiquement (ex. accessibles via un VPN, par exemple Tailscale), un certificat autosign\xe9 est souvent suffisant si le CA racine est distribu\xe9 aux clients."}),"\n",(0,t.jsx)(n.p,{children:"G\xe9n\xe9rer une paire cl\xe9+certificat autosign\xe9 :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'openssl req -x509 -nodes -days 365 -newkey rsa:2048 \\\n  -keyout /etc/ssl/private/example.key \\\n  -out /etc/ssl/certs/example.crt \\\n  -subj "/CN=example.internal"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Configurer Nginx pour utiliser ces fichiers :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-nginx",children:"ssl_certificate /etc/ssl/certs/example.crt;\nssl_certificate_key /etc/ssl/private/example.key;\n"})}),"\n",(0,t.jsx)(n.p,{children:"VPN (par exemple Tailscale) :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Service uniquement accessible via un VPN : distribuer le certificat CA aux machines clientes ou utiliser ACME DNS-01 si un enregistrement DNS public est disponible."}),"\n",(0,t.jsx)(n.li,{children:"Des fonctionnalit\xe9s comme MagicDNS (Tailscale) facilitent la r\xe9solution de noms priv\xe9s et l'utilisation de certificats autosign\xe9s en environnement contr\xf4l\xe9."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"renouvellement-et-automatisation",children:"Renouvellement et automatisation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Let's Encrypt : Certbot installe normalement un timer systemd/cron job ; v\xe9rifier avec ",(0,t.jsx)(n.code,{children:"sudo systemctl list-timers | grep certbot"})," ou ex\xe9cuter manuellement ",(0,t.jsx)(n.code,{children:"sudo certbot renew --dry-run"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Apr\xe8s renouvellement, reload Nginx : ",(0,t.jsx)(n.code,{children:"sudo systemctl reload nginx"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"tests-et-v\xe9rifications",children:"Tests et v\xe9rifications"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"V\xe9rifier en local :"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl -I https://example.com\nopenssl s_client -connect example.com:443 -servername example.com\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Tester publiquement : utiliser SSL Labs (",(0,t.jsx)(n.a,{href:"https://www.ssllabs.com/ssltest/",children:"https://www.ssllabs.com/ssltest/"}),") pour un rapport complet."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"checklist-de-durcissement-niveau-interm\xe9diaire",children:"Checklist de durcissement (niveau interm\xe9diaire)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Forcer TLSv1.2+ (d\xe9sactiver TLS1.0/1.1)."}),"\n",(0,t.jsx)(n.li,{children:"Activer TLS1.3 si disponible."}),"\n",(0,t.jsx)(n.li,{children:"Configurer HSTS avec prudence."}),"\n",(0,t.jsxs)(n.li,{children:["Activer OCSP stapling (",(0,t.jsx)(n.code,{children:"ssl_stapling on;"}),")."]}),"\n",(0,t.jsx)(n.li,{children:"Rediriger tout le trafic HTTP vers HTTPS."}),"\n",(0,t.jsx)(n.li,{children:"V\xe9rifier les en-t\xeates de s\xe9curit\xe9 (HSTS, X-Content-Type-Options, Referrer-Policy selon le besoin)."}),"\n",(0,t.jsxs)(n.li,{children:["Automatiser le renouvellement et tester le process (",(0,t.jsx)(n.code,{children:"certbot renew --dry-run"}),")."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"r\xe9f\xe9rences-et-lecture-recommand\xe9e",children:"R\xe9f\xe9rences et lecture recommand\xe9e"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Certbot documentation \u2014 ",(0,t.jsx)(n.a,{href:"https://certbot.eff.org/",children:"https://certbot.eff.org/"})]}),"\n",(0,t.jsx)(n.li,{children:"OpenSSL manpages"}),"\n",(0,t.jsxs)(n.li,{children:["Qualys SSL Labs \u2014 ",(0,t.jsx)(n.a,{href:"https://www.ssllabs.com/ssltest/",children:"https://www.ssllabs.com/ssltest/"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453(e,n,s){s.d(n,{R:()=>l,x:()=>c});var i=s(96540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},95702(e){e.exports=JSON.parse('{"permalink":"/blog/2026/02/21/02-network/ssl-tls","source":"@site/blog/02-network/2026-02-21-ssl-tls.md","title":"SSL/TLS : Certification, HTTPS et hardening","description":"Principes de base de PKI, obtention de certificats (Let\'s Encrypt, self-signed), configuration Nginx et v\xe9rifications pratiques. Pas de solutions cloud \u2014 mention de VPN (par exemple Tailscale) pour les usages priv\xe9s.","date":"2026-02-21T00:00:00.000Z","tags":[{"inline":false,"label":"R\xe9seau","permalink":"/blog/tags/network"},{"inline":false,"label":"DevOps","permalink":"/blog/tags/devops"}],"readingTime":3.36,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"SSL/TLS : Certification, HTTPS et hardening","description":"Principes de base de PKI, obtention de certificats (Let\'s Encrypt, self-signed), configuration Nginx et v\xe9rifications pratiques. Pas de solutions cloud \u2014 mention de VPN (par exemple Tailscale) pour les usages priv\xe9s.","tags":["network","devops"]},"unlisted":false,"nextItem":{"title":"AWS : CLI et Toolkit VS Code","permalink":"/blog/2026/02/21/05-cloud/aws-cli"}}')}}]);