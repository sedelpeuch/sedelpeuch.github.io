---
title: Stockage dans Kubernetes
description: "Découvrez les concepts de stockage dans Kubernetes, tels que PersistentVolume, PersistentVolumeClaim, StorageClass et Volume."
tags: [Kubernetes, Orchestration, Devops]
---

Kubernetes offre des mécanismes pour monter et utiliser du stockage dans les pods, mais la gestion des données, y compris la provision, la sauvegarde et la réplication, est une tâche qui incombe aux administrateurs du cluster. Dans cet article, nous allons explorer les concepts de stockage dans Kubernetes, notamment PersistentVolume, PersistentVolumeClaim, StorageClass et Volume.

<!--truncate-->

## PersistentVolume (PV)

Un PersistentVolume (PV) est une ressource Kubernetes qui représente un volume de stockage dans le cluster. Il peut être provisionné dynamiquement ou statiquement et est utilisé pour stocker des données de manière persistante. Les PVs sont indépendants des pods et peuvent être réclamés par des PersistentVolumeClaims (PVCs).

### Exemple de PersistentVolume

```yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: my-pv
spec:
  capacity:
    storage: 1Gi
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: my-storage-class
  hostPath:
    path: /mnt/data
```

## PersistentVolumeClaim (PVC)

Un PersistentVolumeClaim (PVC) est une ressource Kubernetes utilisée par les pods pour demander un certain type et une certaine quantité de stockage persistant. Les PVCs sont liés aux PVs disponibles dans le cluster.

### Exemple de PersistentVolumeClaim

```yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: my-pvc
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 1Gi
  storageClassName: my-storage-class
```

## StorageClass

Une StorageClass est une ressource Kubernetes utilisée pour définir les types de stockage disponibles dans le cluster. Elle permet de provisionner dynamiquement des PersistentVolumes en fonction des besoins spécifiques des applications.

### Exemple de StorageClass

```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: my-storage-class
provisioner: kubernetes.io/no-provisioner
volumeBindingMode: WaitForFirstConsumer
```

## Volume

Un Volume Kubernetes est un répertoire, potentiellement monté à partir du stockage du nœud, partagé entre les conteneurs d'un pod. Les volumes sont utilisés pour stocker des données de manière temporaire ou persistante.

### Exemple de Volume

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-pod
spec:
  containers:
    - name: my-container
      image: nginx:alpine
      volumeMounts:
        - mountPath: /usr/share/nginx/html
          name: my-volume
  volumes:
    - name: my-volume
      persistentVolumeClaim:
        claimName: my-pvc
```

## Conclusion

Les concepts de stockage dans Kubernetes, tels que PersistentVolume, PersistentVolumeClaim, StorageClass et Volume, permettent de gérer efficacement le stockage des données dans les applications conteneurisées. En comprenant ces concepts, vous serez en mesure de tirer parti de la puissance de Kubernetes pour gérer le stockage de vos applications.

Pour en savoir plus sur Kubernetes, consultez la [documentation officielle](https://kubernetes.io/fr/docs/concepts/).
