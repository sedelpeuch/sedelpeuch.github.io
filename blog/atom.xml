<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://delpeuch.net/blog</id>
    <title>S√©bastien Delpeuch's Blog</title>
    <updated>2025-06-06T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://delpeuch.net/blog"/>
    <subtitle>S√©bastien Delpeuch Blog</subtitle>
    <icon>https://delpeuch.net/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Renouvellement des certificats Kubernetes sur kubeadm]]></title>
        <id>https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats</id>
        <link href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats"/>
        <updated>2025-06-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Guide pratique pour renouveler les certificats expirants dans un cluster Kubernetes d√©ploy√© avec kubeadm.]]></summary>
        <content type="html"><![CDATA[<p>Les certificats jouent un r√¥le crucial dans la s√©curit√© de Kubernetes. Ils assurent l'authentification et le chiffrement des communications entre les diff√©rents composants du cluster. Cependant, ces certificats ont une dur√©e de vie limit√©e et doivent √™tre renouvel√©s avant leur expiration pour maintenir le bon fonctionnement du cluster. üîê</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="la-probl√©matique-des-certificats-expirants-">La probl√©matique des certificats expirants üìÖ<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#la-probl%C3%A9matique-des-certificats-expirants-" class="hash-link" aria-label="Direct link to La probl√©matique des certificats expirants üìÖ" title="Direct link to La probl√©matique des certificats expirants üìÖ">‚Äã</a></h2>
<p>Par d√©faut, les certificats g√©n√©r√©s par kubeadm ont une dur√©e de validit√© d'un an. Lorsqu'ils expirent, les composants du cluster ne peuvent plus communiquer entre eux de mani√®re s√©curis√©e, ce qui peut entra√Æner une panne compl√®te du cluster.</p>
<p>Les sympt√¥mes typiques d'un certificat expir√© incluent :</p>
<ul>
<li>Impossibilit√© d'utiliser <code>kubectl</code></li>
<li>Les nouveaux pods ne sont plus programm√©s</li>
<li>Messages d'erreur du type <code>x509: certificate has expired or is not yet valid</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="v√©rification-des-dates-dexpiration-Ô∏è">V√©rification des dates d'expiration ‚è±Ô∏è<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#v%C3%A9rification-des-dates-dexpiration-%EF%B8%8F" class="hash-link" aria-label="Direct link to V√©rification des dates d'expiration ‚è±Ô∏è" title="Direct link to V√©rification des dates d'expiration ‚è±Ô∏è">‚Äã</a></h2>
<p>Avant de proc√©der au renouvellement, il est important de v√©rifier la date d'expiration des certificats actuels. Pour cela, vous pouvez utiliser la commande suivante :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">kubeadm certs check-expiration</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cette commande affiche une liste de tous les certificats avec leurs dates d'expiration respectives :</p>
<div class="language-text codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-text codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">CERTIFICATE                EXPIRES                  RESIDUAL TIME   CERTIFICATE AUTHORITY   EXTERNALLY MANAGED</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">admin.conf                 Jun 05, 2026 12:51 UTC   364d            ca                      no</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">apiserver                  Jun 05, 2026 12:51 UTC   364d            ca                      no</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">apiserver-kubelet-client   Jun 05, 2026 12:51 UTC   364d            ca                      no</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">controller-manager.conf    Jun 05, 2026 12:51 UTC   364d            ca                      no</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">kubelet.conf              Jun 05, 2026 12:51 UTC   364d            ca                      no</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">scheduler.conf             Jun 05, 2026 12:51 UTC   364d            ca                      no</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="processus-de-renouvellement-des-certificats-">Processus de renouvellement des certificats üîÑ<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#processus-de-renouvellement-des-certificats-" class="hash-link" aria-label="Direct link to Processus de renouvellement des certificats üîÑ" title="Direct link to Processus de renouvellement des certificats üîÑ">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-renouvellement-de-tous-les-certificats">1. Renouvellement de tous les certificats<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#1-renouvellement-de-tous-les-certificats" class="hash-link" aria-label="Direct link to 1. Renouvellement de tous les certificats" title="Direct link to 1. Renouvellement de tous les certificats">‚Äã</a></h3>
<p>La m√©thode la plus simple consiste √† renouveler tous les certificats √† la fois :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> kubeadm certs renew all</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cette commande renouvelle tous les certificats g√©r√©s par kubeadm et les stocke dans le r√©pertoire <code>/etc/kubernetes/pki</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-renouvellement-des-certificats-sp√©cifiques">2. Renouvellement des certificats sp√©cifiques<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#2-renouvellement-des-certificats-sp%C3%A9cifiques" class="hash-link" aria-label="Direct link to 2. Renouvellement des certificats sp√©cifiques" title="Direct link to 2. Renouvellement des certificats sp√©cifiques">‚Äã</a></h3>
<p>Si vous pr√©f√©rez renouveler les certificats un par un, vous pouvez sp√©cifier le certificat √† renouveler :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> kubeadm certs renew apiserver</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> kubeadm certs renew apiserver-kubelet-client</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> kubeadm certs renew front-proxy-client</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># etc.</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-mise-√†-jour-des-fichiers-kubeconfig">3. Mise √† jour des fichiers kubeconfig<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#3-mise-%C3%A0-jour-des-fichiers-kubeconfig" class="hash-link" aria-label="Direct link to 3. Mise √† jour des fichiers kubeconfig" title="Direct link to 3. Mise √† jour des fichiers kubeconfig">‚Äã</a></h3>
<p>Apr√®s avoir renouvel√© les certificats, il est n√©cessaire de mettre √† jour les fichiers kubeconfig :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">cp</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-i</span><span class="token plain"> /etc/kubernetes/admin.conf </span><span class="token environment constant" style="color:hsl(29, 54%, 61%)">$HOME</span><span class="token plain">/.kube/config</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">chown</span><span class="token plain"> </span><span class="token variable" style="color:hsl(207, 82%, 66%)">$(</span><span class="token variable function" style="color:hsl(207, 82%, 66%)">id</span><span class="token variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token variable parameter variable" style="color:hsl(207, 82%, 66%)">-u</span><span class="token variable" style="color:hsl(207, 82%, 66%)">)</span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">:</span><span class="token variable" style="color:hsl(207, 82%, 66%)">$(</span><span class="token variable function" style="color:hsl(207, 82%, 66%)">id</span><span class="token variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token variable parameter variable" style="color:hsl(207, 82%, 66%)">-g</span><span class="token variable" style="color:hsl(207, 82%, 66%)">)</span><span class="token plain"> </span><span class="token environment constant" style="color:hsl(29, 54%, 61%)">$HOME</span><span class="token plain">/.kube/config</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="red√©marrage-des-composants-">Red√©marrage des composants üîÑ<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#red%C3%A9marrage-des-composants-" class="hash-link" aria-label="Direct link to Red√©marrage des composants üîÑ" title="Direct link to Red√©marrage des composants üîÑ">‚Äã</a></h2>
<p>Pour que les nouveaux certificats soient pris en compte, il faut red√©marrer les composants du plan de contr√¥le :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> systemctl restart kubelet</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sur un cluster multi-n≈ìuds, vous devez √©galement red√©marrer le kubelet sur chaque n≈ìud worker :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Sur chaque n≈ìud worker</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> systemctl restart kubelet</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forcer-le-red√©marrage-en-cas-de-probl√®me-Ô∏è">Forcer le red√©marrage en cas de probl√®me ‚ö†Ô∏è<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#forcer-le-red%C3%A9marrage-en-cas-de-probl%C3%A8me-%EF%B8%8F" class="hash-link" aria-label="Direct link to Forcer le red√©marrage en cas de probl√®me ‚ö†Ô∏è" title="Direct link to Forcer le red√©marrage en cas de probl√®me ‚ö†Ô∏è">‚Äã</a></h3>
<p>Dans certains cas, un simple red√©marrage du kubelet peut ne pas suffire pour que les nouveaux certificats soient pris en compte. Si vous rencontrez toujours des probl√®mes apr√®s le red√©marrage normal, deux m√©thodes plus radicales peuvent √™tre utilis√©es :</p>
<p><strong>M√©thode 1 : Manipulation des manifests statiques</strong></p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Sauvegarde et renommage temporaire des manifests</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">cd</span><span class="token plain"> /etc/kubernetes/manifests</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">mkdir</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-p</span><span class="token plain"> /root/manifests_backup</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">cp</span><span class="token plain"> *.yaml /root/manifests_backup/</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">mv</span><span class="token plain"> *.yaml /tmp/</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Attendre que le cluster s'arr√™te (les pods du plan de contr√¥le dispara√Ætront)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Puis restaurer les manifests pour red√©marrer les composants</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">mv</span><span class="token plain"> /tmp/*.yaml </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">.</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cette m√©thode force kubelet √† supprimer puis recr√©er tous les pods du plan de contr√¥le, garantissant ainsi l'utilisation des nouveaux certificats.</p>
<p><strong>M√©thode 2 : Suppression manuelle des pods</strong></p>
<p>Si vous avez encore acc√®s √† l'API Kubernetes, vous pouvez supprimer manuellement les pods du plan de contr√¥le :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Attention : commande √† utiliser avec pr√©caution</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-n</span><span class="token plain"> kube-system delete pod </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-l</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">component</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">kube-apiserver</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-n</span><span class="token plain"> kube-system delete pod </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-l</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">component</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">kube-controller-manager</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-n</span><span class="token plain"> kube-system delete pod </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-l</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">component</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">kube-scheduler</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-n</span><span class="token plain"> kube-system delete pod </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-l</span><span class="token plain"> k8s-app</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">kube-proxy</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>‚ö†Ô∏è <strong>Attention</strong> : Ces m√©thodes provoquent une interruption temporaire du service. Planifiez-les pendant une fen√™tre de maintenance.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="automatisation-du-renouvellement-">Automatisation du renouvellement ü§ñ<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#automatisation-du-renouvellement-" class="hash-link" aria-label="Direct link to Automatisation du renouvellement ü§ñ" title="Direct link to Automatisation du renouvellement ü§ñ">‚Äã</a></h2>
<p>Pour √©viter de devoir g√©rer manuellement le renouvellement des certificats, vous pouvez mettre en place une t√¢che cron qui v√©rifie et renouvelle automatiquement les certificats :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Cr√©er un script de renouvellement des certificats</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">cat</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"> /usr/local/bin/renew-k8s-certs.sh </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'EOF'</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">#!/bin/bash</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"># V√©rifier si des certificats expirent dans moins de 30 jours</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">EXPIRING_CERTS=$(kubeadm certs check-expiration | grep -B 1 "&lt; 30d" | grep -v "RESIDUAL" | awk '{print $1}')</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">if [ ! -z "$EXPIRING_CERTS" ]; then</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    echo "Renouvellement des certificats qui expirent bient√¥t..."</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    sudo kubeadm certs renew all</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    sudo chown $(id -u):$(id -g) $HOME/.kube/config</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    sudo systemctl restart kubelet</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    echo "Certificats renouvel√©s avec succ√®s !"</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">else</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    echo "Aucun certificat n'expire dans moins de 30 jours."</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">fi</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">chmod</span><span class="token plain"> +x /usr/local/bin/renew-k8s-certs.sh</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Ajouter une t√¢che cron pour ex√©cuter le script une fois par mois</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">crontab </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-l</span><span class="token plain"> </span><span class="token operator file-descriptor important" style="color:hsl(220, 14%, 71%);font-weight:bold">2</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain">/dev/null</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"0 0 1 * * /usr/local/bin/renew-k8s-certs.sh &gt;&gt; /var/log/renew-k8s-certs.log 2&gt;&amp;1"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">|</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">crontab</span><span class="token plain"> -</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bonnes-pratiques-Ô∏è">Bonnes pratiques üõ°Ô∏è<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#bonnes-pratiques-%EF%B8%8F" class="hash-link" aria-label="Direct link to Bonnes pratiques üõ°Ô∏è" title="Direct link to Bonnes pratiques üõ°Ô∏è">‚Äã</a></h2>
<ol>
<li>
<p><strong>Planification pr√©ventive</strong> : Renouvelez vos certificats au moins un mois avant leur expiration pour √©viter toute interruption de service.</p>
</li>
<li>
<p><strong>Sauvegarde</strong> : Avant de proc√©der au renouvellement, effectuez une sauvegarde du r√©pertoire <code>/etc/kubernetes/pki</code>.</p>
</li>
<li>
<p><strong>Documentation</strong> : Documentez clairement les dates de renouvellement et mettez en place des alertes pour √™tre notifi√© avant l'expiration.</p>
</li>
<li>
<p><strong>Test</strong> : Testez le processus de renouvellement dans un environnement de d√©veloppement avant de l'appliquer en production.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-">Conclusion üéØ<a href="https://delpeuch.net/blog/2025/06/06/06-orchestration/renouveller-certificats#conclusion-" class="hash-link" aria-label="Direct link to Conclusion üéØ" title="Direct link to Conclusion üéØ">‚Äã</a></h2>
<p>Le renouvellement des certificats est une t√¢che de maintenance critique pour garantir la s√©curit√© et la disponibilit√© de votre cluster Kubernetes. En suivant ce guide, vous pouvez facilement renouveler vos certificats et √©viter les probl√®mes li√©s √† leur expiration.</p>
<p>N'oubliez pas que la s√©curit√© est un processus continu, et la gestion proactive des certificats fait partie int√©grante de la maintenance d'un cluster Kubernetes robuste et s√©curis√©.</p>]]></content>
        <category label="Kubernetes" term="Kubernetes"/>
        <category label="Orchestration" term="Orchestration"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pydantic: Validation de donn√©es robuste pour Python]]></title>
        <id>https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees</id>
        <link href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees"/>
        <updated>2025-03-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Comment utiliser Pydantic pour valider, s√©rialiser et documenter vos mod√®les de donn√©es en Python.]]></summary>
        <content type="html"><![CDATA[<p>Dans un monde o√π les APIs et les microservices se multiplient, la validation des donn√©es est devenue une pr√©occupation majeure. Pydantic s'impose comme la solution de r√©f√©rence en Python pour d√©finir et valider des structures de donn√©es. D√©couvrons ensemble cette biblioth√®que puissante qui r√©volutionne la fa√ßon dont nous manipulons les donn√©es. üîç</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-que-pydantic-">Qu'est-ce que Pydantic? ü§î<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#quest-ce-que-pydantic-" class="hash-link" aria-label="Direct link to Qu'est-ce que Pydantic? ü§î" title="Direct link to Qu'est-ce que Pydantic? ü§î">‚Äã</a></h2>
<p>Pydantic est une biblioth√®que Python qui permet de valider des donn√©es et de g√©rer les param√®tres de configuration en utilisant les annotations de type Python. Elle offre plusieurs avantages :</p>
<ul>
<li><strong>Validation forte bas√©e sur les types Python</strong></li>
<li><strong>Conversion automatique des donn√©es d'entr√©e</strong></li>
<li><strong>G√©n√©ration de documentation JSON Schema</strong></li>
<li><strong>S√©rialisation et d√©s√©rialisation faciles</strong></li>
<li><strong>Performances optimis√©es</strong> gr√¢ce √† l'utilisation de code compil√© en Rust</li>
</ul>
<p>Pydantic est notamment le syst√®me de mod√®les utilis√© par FastAPI, ce qui en fait un incontournable pour les d√©veloppeurs d'APIs modernes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation-de-pydantic-">Installation de Pydantic üöÄ<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#installation-de-pydantic-" class="hash-link" aria-label="Direct link to Installation de Pydantic üöÄ" title="Direct link to Installation de Pydantic üöÄ">‚Äã</a></h2>
<p>L'installation de Pydantic est simple avec pip :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">pip </span><span class="token function" style="color:hsl(207, 82%, 66%)">install</span><span class="token plain"> pydantic</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Pour la version 2.x avec des performances optimis√©es</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">pip </span><span class="token function" style="color:hsl(207, 82%, 66%)">install</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"pydantic&gt;=2.0.0"</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Si vous utilisez Poetry (comme nous l'avons vu dans <a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency">notre article pr√©c√©dent</a>) :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> pydantic</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="les-bases-de-pydantic-">Les bases de Pydantic üìö<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#les-bases-de-pydantic-" class="hash-link" aria-label="Direct link to Les bases de Pydantic üìö" title="Direct link to Les bases de Pydantic üìö">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d√©finition-de-mod√®les">D√©finition de mod√®les<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#d%C3%A9finition-de-mod%C3%A8les" class="hash-link" aria-label="Direct link to D√©finition de mod√®les" title="Direct link to D√©finition de mod√®les">‚Äã</a></h3>
<p>La premi√®re √©tape avec Pydantic consiste √† d√©finir un mod√®le en cr√©ant une classe qui h√©rite de <code>BaseModel</code> :</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> List</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> date</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">User</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    email</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    birth_date</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> date</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    is_active</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">bool</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    tags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    website</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">None</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validation-automatique">Validation automatique<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#validation-automatique" class="hash-link" aria-label="Direct link to Validation automatique" title="Direct link to Validation automatique">‚Äã</a></h3>
<p>Une fois le mod√®le d√©fini, Pydantic valide automatiquement les donn√©es lors de la cr√©ation d'une instance :</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Validation r√©ussie</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">user </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"John Doe"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    email</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"john@example.com"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    birth_date</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"1990-01-01"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Conversion automatique en objet date</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    tags</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token string" style="color:hsl(95, 38%, 62%)">"admin"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"user"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Validation √©chou√©e</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">try</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    User</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"not_an_integer"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Erreur: la valeur n'est pas un entier</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">123</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">             </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Sera converti en string automatiquement</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        email</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"invalid_email"</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Pas d'erreur par d√©faut: ce n'est pas une validation de format</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">except</span><span class="token plain"> ValueError </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">print</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">f"Erreur de validation: </span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="s√©rialisation-et-d√©s√©rialisation">S√©rialisation et d√©s√©rialisation<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#s%C3%A9rialisation-et-d%C3%A9s%C3%A9rialisation" class="hash-link" aria-label="Direct link to S√©rialisation et d√©s√©rialisation" title="Direct link to S√©rialisation et d√©s√©rialisation">‚Äã</a></h3>
<p>Pydantic simplifie la conversion des mod√®les en dictionnaires, JSON ou d'autres formats :</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Conversion en dictionnaire</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">user_dict </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">model_dump</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Conversion en JSON</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">user_json </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">model_dump_json</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># D√©s√©rialisation depuis un dictionnaire</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">user_data </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token string" style="color:hsl(95, 38%, 62%)">"id"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">2</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token string" style="color:hsl(95, 38%, 62%)">"name"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Jane Smith"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token string" style="color:hsl(95, 38%, 62%)">"email"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"jane@example.com"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token string" style="color:hsl(95, 38%, 62%)">"birth_date"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"1992-03-15"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">new_user </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">model_validate</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">user_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># D√©s√©rialisation depuis JSON</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">user_from_json </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">model_validate_json</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'{"id": 3, "name": "Bob", "email": "bob@example.com", "birth_date": "1985-07-20"}'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fonctionnalit√©s-avanc√©es-">Fonctionnalit√©s avanc√©es üîß<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#fonctionnalit%C3%A9s-avanc%C3%A9es-" class="hash-link" aria-label="Direct link to Fonctionnalit√©s avanc√©es üîß" title="Direct link to Fonctionnalit√©s avanc√©es üîß">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validateurs-personnalis√©s">Validateurs personnalis√©s<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#validateurs-personnalis%C3%A9s" class="hash-link" aria-label="Direct link to Validateurs personnalis√©s" title="Direct link to Validateurs personnalis√©s">‚Äã</a></h3>
<p>Pydantic permet de cr√©er des validateurs personnalis√©s pour des v√©rifications plus complexes :</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> field_validator</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> EmailStr</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">AdvancedUser</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    email</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> EmailStr  </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Type sp√©cial pour valider les emails</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    password</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    password_confirm</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@field_validator</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'name'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@classmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">name_must_contain_space</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">' '</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">not</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> v</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">raise</span><span class="token plain"> ValueError</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'Le nom doit contenir un espace (pr√©nom et nom)'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> v</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">title</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Convertit le nom en format titre</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@field_validator</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'password_confirm'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@classmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">passwords_match</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> info</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'password'</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> info</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">data </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">and</span><span class="token plain"> v </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!=</span><span class="token plain"> info</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token string" style="color:hsl(95, 38%, 62%)">'password'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">raise</span><span class="token plain"> ValueError</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'Les mots de passe ne correspondent pas'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> v</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="types-complexes">Types complexes<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#types-complexes" class="hash-link" aria-label="Direct link to Types complexes" title="Direct link to Types complexes">‚Äã</a></h3>
<p>Pydantic prend en charge une vari√©t√© de types complexes :</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> HttpUrl</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> conlist</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> constr</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> Dict</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> Union</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">Product</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    price</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">float</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    description</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">Order</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    order_id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Une liste avec au moins 1 √©l√©ment</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    products</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> conlist</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">Product</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> min_length</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Une cha√Æne avec contrainte de longueur</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    customer_id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> constr</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">min_length</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">5</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> max_length</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">20</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Union de types possibles</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    payment_method</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Union</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> Dict</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># URL valide</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    store_url</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> HttpUrl</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-des-mod√®les">Configuration des mod√®les<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#configuration-des-mod%C3%A8les" class="hash-link" aria-label="Direct link to Configuration des mod√®les" title="Direct link to Configuration des mod√®les">‚Äã</a></h3>
<p>Pydantic offre de nombreuses options de configuration pour contr√¥ler le comportement des mod√®les :</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">Settings</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    model_config </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Permettre les champs suppl√©mentaires</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token string" style="color:hsl(95, 38%, 62%)">"extra"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"forbid"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Valider √©galement les attributs lors de l'assignation</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token string" style="color:hsl(95, 38%, 62%)">"validate_assignment"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">True</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Aliases pour les noms de champs JSON</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token string" style="color:hsl(95, 38%, 62%)">"populate_by_name"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">True</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Noms JSON en format camelCase</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token string" style="color:hsl(95, 38%, 62%)">"alias_generator"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">lambda</span><span class="token plain"> s</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">''</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">join</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            word</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">capitalize</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> i </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"> word</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> word </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">enumerate</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">split</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'_'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    database_url</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    api_key</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    debug_mode</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">bool</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    max_connections</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">100</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pydantic-et-fastapi--le-duo-parfait-">Pydantic et FastAPI : le duo parfait ü§ù<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#pydantic-et-fastapi--le-duo-parfait-" class="hash-link" aria-label="Direct link to Pydantic et FastAPI : le duo parfait ü§ù" title="Direct link to Pydantic et FastAPI : le duo parfait ü§ù">‚Äã</a></h2>
<p>Pydantic est particuli√®rement puissant lorsqu'il est utilis√© avec FastAPI :</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> fastapi </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> FastAPI</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> Path</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> Field</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> List</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">app </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> FastAPI</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">Item</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> example</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"Smartphone"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    description</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token boolean" style="color:hsl(29, 54%, 61%)">None</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> example</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"Un t√©l√©phone dernier cri"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    price</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">float</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> gt</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> example</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">899.99</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    tax</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">float</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token boolean" style="color:hsl(29, 54%, 61%)">None</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> example</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">20.0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    model_config </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token string" style="color:hsl(95, 38%, 62%)">"json_schema_extra"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token string" style="color:hsl(95, 38%, 62%)">"examples"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">                </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">                    </span><span class="token string" style="color:hsl(95, 38%, 62%)">"name"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Smartphone"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">                    </span><span class="token string" style="color:hsl(95, 38%, 62%)">"description"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Un t√©l√©phone dernier cri"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">                    </span><span class="token string" style="color:hsl(95, 38%, 62%)">"price"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">899.99</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">                    </span><span class="token string" style="color:hsl(95, 38%, 62%)">"tax"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">20.0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">                </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@app</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">post</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"/items/"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> response_model</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">Item</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">async</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">create_item</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Item</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> item</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@app</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">get</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"/items/{item_id}"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> response_model</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">Item</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">async</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">read_item</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    item_id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> title</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"L'ID de l'item √† r√©cup√©rer"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> ge</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Logic to retrieve item</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string" style="color:hsl(95, 38%, 62%)">"name"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Example Item"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"price"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">99.99</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"description"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"A sample item"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Avec cette configuration, FastAPI :</p>
<ul>
<li>Valide automatiquement les requ√™tes entrantes</li>
<li>Convertit les donn√©es en objets Python typ√©s</li>
<li>G√©n√®re une documentation OpenAPI interactive</li>
<li>Effectue la s√©rialisation des r√©ponses</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pydantic-v1-vs-v2--les-diff√©rences-majeures-">Pydantic v1 vs v2 : les diff√©rences majeures üîÑ<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#pydantic-v1-vs-v2--les-diff%C3%A9rences-majeures-" class="hash-link" aria-label="Direct link to Pydantic v1 vs v2 : les diff√©rences majeures üîÑ" title="Direct link to Pydantic v1 vs v2 : les diff√©rences majeures üîÑ">‚Äã</a></h2>
<p>Pydantic v2 (sorti en 2023) a introduit plusieurs changements importants :</p>
<table><thead><tr><th>Fonctionnalit√©</th><th>v1</th><th>v2</th></tr></thead><tbody><tr><td>Moteur de validation</td><td>Python pur</td><td>Core en Rust (10-50x plus rapide)</td></tr><tr><td>API</td><td><code>.dict()</code>, <code>.json()</code></td><td><code>.model_dump()</code>, <code>.model_dump_json()</code></td></tr><tr><td>Validateurs</td><td><code>@validator</code>, <code>@root_validator</code></td><td><code>@field_validator</code>, <code>@model_validator</code></td></tr><tr><td>Types g√©n√©riques</td><td>Support limit√©</td><td>Support am√©lior√©</td></tr><tr><td>JSON Schema</td><td>G√©n√©ration basique</td><td>Plus complet et personnalisable</td></tr></tbody></table>
<p>Exemple de migration :</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Pydantic v1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> validator</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">UserV1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    age</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@validator</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'age'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">check_age</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> v </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">18</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">raise</span><span class="token plain"> ValueError</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'Doit √™tre majeur'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> v</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Conversion en dict/json</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    data </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">dict</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    json_data </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Pydantic v2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> field_validator</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">UserV2</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    age</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@field_validator</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'age'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@classmethod</span><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Maintenant obligatoire</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">check_age</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> v </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">18</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">raise</span><span class="token plain"> ValueError</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">'Doit √™tre majeur'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> v</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Conversion en dict/json</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    data </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">model_dump</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    json_data </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">model_dump_json</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bonnes-pratiques-avec-pydantic-">Bonnes pratiques avec Pydantic üëç<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#bonnes-pratiques-avec-pydantic-" class="hash-link" aria-label="Direct link to Bonnes pratiques avec Pydantic üëç" title="Direct link to Bonnes pratiques avec Pydantic üëç">‚Äã</a></h2>
<ol>
<li>
<p><strong>Utilisez des types pr√©cis</strong>: Les types comme <code>EmailStr</code>, <code>HttpUrl</code>, <code>conint</code>, etc. am√©liorent la validation</p>
</li>
<li>
<p><strong>Cr√©ez une hi√©rarchie de mod√®les</strong>: Utilisez l'h√©ritage pour les structures complexes</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">BaseUser</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">UserIn</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseUser</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    password</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">UserOut</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseUser</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    is_active</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">bool</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Exploitez les validators pour les r√®gles m√©tier complexes</strong>:</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@field_validator</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"reservation_date"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@classmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">validate_date_is_future</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> info</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> v </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">now</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">raise</span><span class="token plain"> ValueError</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"La r√©servation doit √™tre dans le futur"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> v</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Utilisez FrozenModel pour l'immutabilit√©</strong>:</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> ConfigDict</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">Config</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    model_config </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> ConfigDict</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">frozen</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token boolean" style="color:hsl(29, 54%, 61%)">True</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    api_key</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    debug</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">bool</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">False</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Ajoutez des exemples pour am√©liorer la documentation</strong>:</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">Item</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    price</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">float</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    model_config </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token string" style="color:hsl(95, 38%, 62%)">"json_schema_extra"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string" style="color:hsl(95, 38%, 62%)">"examples"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string" style="color:hsl(95, 38%, 62%)">"name"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Foo"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"price"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">35.4</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cas-dutilisation-concrets-Ô∏è">Cas d'utilisation concrets üõ†Ô∏è<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#cas-dutilisation-concrets-%EF%B8%8F" class="hash-link" aria-label="Direct link to Cas d'utilisation concrets üõ†Ô∏è" title="Direct link to Cas d'utilisation concrets üõ†Ô∏è">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validation-de-configuration">Validation de configuration<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#validation-de-configuration" class="hash-link" aria-label="Direct link to Validation de configuration" title="Direct link to Validation de configuration">‚Äã</a></h3>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> Field</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> SecretStr</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> yaml</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pathlib </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> Path</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">DatabaseConfig</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    host</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"localhost"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    port</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">5432</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    user</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    password</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> SecretStr</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    ssl</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">bool</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">ApiConfig</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    endpoint</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    timeout</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    retries</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">AppConfig</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    debug</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">bool</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    log_level</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"INFO"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    database</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> DatabaseConfig</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    api</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ApiConfig</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Charger la configuration depuis un fichier YAML</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">config_path </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"config.yaml"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">with</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">open</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">config_path</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    config_dict </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> yaml</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">safe_load</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Valider la configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">try</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    config </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> AppConfig</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">model_validate</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">config_dict</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">print</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">f"Configuration valide: </span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string-interpolation interpolation">config</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-interpolation interpolation">model_dump</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-interpolation interpolation">exclude</span><span class="token string-interpolation interpolation operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string-interpolation interpolation string" style="color:hsl(95, 38%, 62%)">'database'</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string-interpolation interpolation string" style="color:hsl(95, 38%, 62%)">'password'</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">except</span><span class="token plain"> ValueError </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">print</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">f"Configuration invalide: </span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="traitement-de-donn√©es-dapi">Traitement de donn√©es d'API<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#traitement-de-donn%C3%A9es-dapi" class="hash-link" aria-label="Direct link to Traitement de donn√©es d'API" title="Direct link to Traitement de donn√©es d'API">‚Äã</a></h3>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> httpx</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> HttpUrl</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> List</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> Optional</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">Author</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    url</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">HttpUrl</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">Article</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    title</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    content</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    published</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    author</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Author</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    tags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">async</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">fetch_articles</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">async</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">with</span><span class="token plain"> httpx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">AsyncClient</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">as</span><span class="token plain"> client</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        response </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"https://api.example.com/articles"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        data </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> response</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Valider et convertir les donn√©es en objets Python</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        articles </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">Article</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">model_validate</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">for</span><span class="token plain"> item </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Maintenant on peut travailler avec des objets Python typ√©s</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">for</span><span class="token plain"> article </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> articles</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">print</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">f"Article: </span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string-interpolation interpolation">article</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-interpolation interpolation">title</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">, Publi√© le: </span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string-interpolation interpolation">article</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-interpolation interpolation">published</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-interpolation interpolation">strftime</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-interpolation interpolation string" style="color:hsl(95, 38%, 62%)">'%d/%m/%Y'</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">print</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">f"Auteur: </span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string-interpolation interpolation">article</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-interpolation interpolation">author</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token string-interpolation string" style="color:hsl(95, 38%, 62%)">"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">print</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"-"</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">50</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> articles</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-">Conclusion üéØ<a href="https://delpeuch.net/blog/2025/03/30/09-scripting/pydantic-validation-donnees#conclusion-" class="hash-link" aria-label="Direct link to Conclusion üéØ" title="Direct link to Conclusion üéØ">‚Äã</a></h2>
<p>Pydantic s'est impos√© comme un outil indispensable dans l'√©cosyst√®me Python moderne, particuli√®rement pour le d√©veloppement d'APIs et d'applications manipulant des donn√©es structur√©es. Ses points forts :</p>
<ul>
<li><strong>Validation robuste</strong> des donn√©es bas√©e sur les types Python standard</li>
<li><strong>API intuitive</strong> permettant de d√©finir rapidement des mod√®les complexes</li>
<li><strong>Performances impressionnantes</strong> gr√¢ce au moteur de validation en Rust</li>
<li><strong>Int√©gration harmonieuse</strong> avec FastAPI et d'autres frameworks</li>
</ul>]]></content>
        <category label="Python" term="Python"/>
        <category label="Data Validation" term="Data Validation"/>
        <category label="API" term="API"/>
        <category label="FastAPI" term="FastAPI"/>
        <category label="Scripting" term="Scripting"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Introduction √† Traefik]]></title>
        <id>https://delpeuch.net/blog/2025/03/15/02-network/traefik</id>
        <link href="https://delpeuch.net/blog/2025/03/15/02-network/traefik"/>
        <updated>2025-03-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Pr√©sentation de Traefik, ses fonctionnalit√©s et ses exemples d'utilisation dans la vie r√©elle.]]></summary>
        <content type="html"><![CDATA[<p>Traefik est un proxy d'application open-source con√ßu pour simplifier le processus de publication des services. Il g√®re les requ√™tes au nom de votre syst√®me, identifie les composants responsables et les achemine de mani√®re s√©curis√©e. Traefik se distingue par sa capacit√© √† d√©couvrir automatiquement la bonne configuration pour vos services en inspectant votre infrastructure. Il est compatible avec les principales technologies de cluster comme Kubernetes, Docker Swarm et AWS, et peut g√©rer plusieurs technologies simultan√©ment. Traefik √©limine le besoin de maintenir des fichiers de configuration s√©par√©s, car tout se passe automatiquement en temps r√©el sans red√©marrages ni interruptions de connexion. Il vous permet de vous concentrer sur le d√©veloppement et le d√©ploiement de nouvelles fonctionnalit√©s plut√¥t que sur la configuration et la maintenance du syst√®me. Traefik offre √©galement une int√©gration transparente des capacit√©s de passerelle API et de gestion des API. La documentation est organis√©e pour r√©pondre √† diff√©rents profils d'utilisateurs : D√©butants, Ing√©nieurs DevOps et D√©veloppeurs, fournissant des √©tapes guid√©es, de la fiabilit√©, des performances et des d√©ploiements simplifi√©s. Les concepts de base incluent les Entrypoints, les Routers, les Services et les Providers, qui travaillent ensemble pour g√©rer le trafic depuis l'arriv√©e de la requ√™te jusqu'√† la gestion de l'application. La documentation fournit une navigation, des exemples pratiques et des sections de r√©f√©rence pour les d√©tails techniques.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-que-traefik-et-pourquoi-a-t-il-√©t√©-cr√©√©-">Qu'est-ce que Traefik et pourquoi a-t-il √©t√© cr√©√© ?<a href="https://delpeuch.net/blog/2025/03/15/02-network/traefik#quest-ce-que-traefik-et-pourquoi-a-t-il-%C3%A9t%C3%A9-cr%C3%A9%C3%A9-" class="hash-link" aria-label="Direct link to Qu'est-ce que Traefik et pourquoi a-t-il √©t√© cr√©√© ?" title="Direct link to Qu'est-ce que Traefik et pourquoi a-t-il √©t√© cr√©√© ?">‚Äã</a></h2>
<p>Traefik est un proxy d'application open-source con√ßu pour simplifier le processus de publication des services. Il g√®re les requ√™tes au nom de votre syst√®me, identifie les composants responsables et les achemine de mani√®re s√©curis√©e. Traefik se distingue par sa capacit√© √† d√©couvrir automatiquement la bonne configuration pour vos services en inspectant votre infrastructure. Il est compatible avec les principales technologies de cluster comme Kubernetes, Docker Swarm et AWS, et peut g√©rer plusieurs technologies simultan√©ment. Traefik √©limine le besoin de maintenir des fichiers de configuration s√©par√©s, car tout se passe automatiquement en temps r√©el sans red√©marrages ni interruptions de connexion. Il vous permet de vous concentrer sur le d√©veloppement et le d√©ploiement de nouvelles fonctionnalit√©s plut√¥t que sur la configuration et la maintenance du syst√®me. Traefik offre √©galement une int√©gration transparente des capacit√©s de passerelle API et de gestion des API. La documentation est organis√©e pour r√©pondre √† diff√©rents profils d'utilisateurs : D√©butants, Ing√©nieurs DevOps et D√©veloppeurs, fournissant des √©tapes guid√©es, de la fiabilit√©, des performances et des d√©ploiements simplifi√©s. Les concepts de base incluent les Entrypoints, les Routers, les Services et les Providers, qui travaillent ensemble pour g√©rer le trafic depuis l'arriv√©e de la requ√™te jusqu'√† la gestion de l'application. La documentation fournit une navigation, des exemples pratiques et des sections de r√©f√©rence pour les d√©tails techniques.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemples-dutilisation-de-traefik">Exemples d'utilisation de Traefik<a href="https://delpeuch.net/blog/2025/03/15/02-network/traefik#exemples-dutilisation-de-traefik" class="hash-link" aria-label="Direct link to Exemples d'utilisation de Traefik" title="Direct link to Exemples d'utilisation de Traefik">‚Äã</a></h3>
<p>Traefik est souvent utilis√© pour servir des pages web statiques et dynamiques. Il est capable de g√©rer des milliers de connexions simultan√©es avec une faible utilisation de la m√©moire.</p>
<p>Traefik peut agir comme un proxy inverse pour distribuer les requ√™tes des clients √† plusieurs serveurs backend. Cela permet de r√©partir la charge et d'am√©liorer les performances.</p>
<p>Traefik peut √™tre utilis√© pour r√©partir les requ√™tes entrantes entre plusieurs serveurs, assurant ainsi une r√©partition √©quilibr√©e de la charge.</p>
<p>Traefik peut mettre en cache les r√©ponses des serveurs backend pour r√©duire la charge et am√©liorer les temps de r√©ponse.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fonctionnalit√©s-de-traefik">Fonctionnalit√©s de Traefik<a href="https://delpeuch.net/blog/2025/03/15/02-network/traefik#fonctionnalit%C3%A9s-de-traefik" class="hash-link" aria-label="Direct link to Fonctionnalit√©s de Traefik" title="Direct link to Fonctionnalit√©s de Traefik">‚Äã</a></h2>
<p>L'√©quilibrage de charge est une fonctionnalit√© cl√© de Traefik. Il permet de distribuer les requ√™tes entrantes entre plusieurs serveurs backend. Traefik prend en charge plusieurs algorithmes d'√©quilibrage de charge, tels que le round-robin, le least connections, et l'IP hash.</p>
<p>Traefik peut mettre en cache les r√©ponses des serveurs backend pour r√©duire la charge et am√©liorer les temps de r√©ponse. Le caching est particuli√®rement utile pour les contenus statiques qui ne changent pas fr√©quemment.</p>
<p>Traefik offre plusieurs fonctionnalit√©s de s√©curit√©, telles que la gestion des certificats SSL/TLS, la limitation du nombre de connexions, et la protection contre les attaques DDoS. En utilisant Traefik comme proxy inverse, vous pouvez √©galement masquer les d√©tails de votre infrastructure backend.</p>
<p>Traefik peut compresser les r√©ponses avant de les envoyer aux clients. Cela permet de r√©duire la quantit√© de donn√©es transf√©r√©es et d'am√©liorer les temps de chargement des pages. Traefik prend en charge plusieurs formats de compression, tels que gzip et brotli.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-de-traefik">Configuration de Traefik<a href="https://delpeuch.net/blog/2025/03/15/02-network/traefik#configuration-de-traefik" class="hash-link" aria-label="Direct link to Configuration de Traefik" title="Direct link to Configuration de Traefik">‚Äã</a></h2>
<p>La configuration de Traefik se fait √† l'aide de fichiers de configuration. Voici un exemple de configuration simple pour un serveur web :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">entryPoints</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">web</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">address</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">":80"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">my-service</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">loadBalancer</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">servers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">url</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"http://127.0.0.1:8080"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">routers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">my-router</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">rule</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Host(`example.com`)"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">service</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">entryPoints</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> web</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, Traefik √©coute sur le port 80 et achemine les requ√™tes vers le service <code>my-service</code> qui est configur√© pour envoyer les requ√™tes √† <code>http://127.0.0.1:8080</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-dutilisation-avec-kubernetes">Exemple d'utilisation avec Kubernetes<a href="https://delpeuch.net/blog/2025/03/15/02-network/traefik#exemple-dutilisation-avec-kubernetes" class="hash-link" aria-label="Direct link to Exemple d'utilisation avec Kubernetes" title="Direct link to Exemple d'utilisation avec Kubernetes">‚Äã</a></h2>
<p>Voici un exemple de configuration de Traefik avec Kubernetes pour exposer un service web :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">labels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">port</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">targetPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">selector</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">replicas</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">selector</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">matchLabels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">template</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">labels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containerPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> traefik.containo.us/v1alpha1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> IngressRoute</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">ingressroute</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">entryPoints</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> web</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">routes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">match</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Host(`example.com`)</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Rule</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">port</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, un service Kubernetes est cr√©√© pour exposer une application web ex√©cut√©e dans un d√©ploiement. Traefik est configur√© pour acheminer les requ√™tes vers le service en utilisant un IngressRoute.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="https://delpeuch.net/blog/2025/03/15/02-network/traefik#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>Traefik est un outil puissant et polyvalent qui peut √™tre utilis√© pour une vari√©t√© de t√¢ches, allant de la simple diffusion de contenu web √† l'√©quilibrage de charge et au caching. Sa flexibilit√© et ses performances en font un choix populaire pour de nombreuses entreprises et d√©veloppeurs.</p>
<p>Pour en savoir plus sur Traefik, vous pouvez consulter la <a href="https://doc.traefik.io/traefik/" target="_blank" rel="noopener noreferrer">documentation officielle</a>.</p>]]></content>
        <category label="Traefik" term="Traefik"/>
        <category label="Network" term="Network"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Poetry: G√©rer efficacement vos d√©pendances Python]]></title>
        <id>https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency</id>
        <link href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency"/>
        <updated>2025-03-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Un guide complet sur Poetry, l'outil moderne de gestion de d√©pendances et de packaging pour Python.]]></summary>
        <content type="html"><![CDATA[<p>Poetry est devenu un outil essentiel dans l'√©cosyst√®me Python pour g√©rer les d√©pendances et le packaging de projets. Dans cet article, nous explorerons comment Poetry simplifie la gestion des d√©pendances Python, offrant une alternative √©l√©gante et robuste √† pip et virtualenv. üêç</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pourquoi-utiliser-poetry--">Pourquoi utiliser Poetry ? ü§î<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#pourquoi-utiliser-poetry--" class="hash-link" aria-label="Direct link to Pourquoi utiliser Poetry ? ü§î" title="Direct link to Pourquoi utiliser Poetry ? ü§î">‚Äã</a></h2>
<p>Avant de plonger dans les d√©tails techniques, voyons pourquoi vous devriez envisager d'utiliser Poetry pour vos projets Python:</p>
<ol>
<li><strong>Gestion simplifi√©e des d√©pendances</strong>: Poetry g√®re automatiquement les d√©pendances et leurs versions compatibles</li>
<li><strong>Environnements virtuels int√©gr√©s</strong>: Cr√©ation et gestion des environnements virtuels sans configuration suppl√©mentaire</li>
<li><strong>R√©solution d√©terministe des d√©pendances</strong>: Lock file garantissant la reproductibilit√© des installations</li>
<li><strong>Publication facilit√©e</strong>: D√©ploiement simplifi√© de packages sur PyPI</li>
<li><strong>Interface utilisateur intuitive</strong>: Commandes claires et feedback utile</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation-de-poetry-">Installation de Poetry üöÄ<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#installation-de-poetry-" class="hash-link" aria-label="Direct link to Installation de Poetry üöÄ" title="Direct link to Installation de Poetry üöÄ">‚Äã</a></h2>
<p>L'installation de Poetry est simple et directe:</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># M√©thode recommand√©e (installation isol√©e)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-sSL</span><span class="token plain"> https://install.python-poetry.org </span><span class="token operator" style="color:hsl(207, 82%, 66%)">|</span><span class="token plain"> python3 -</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># V√©rifier l'installation</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--version</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour les utilisateurs de macOS ou Linux, ajoutez Poetry √† votre PATH:</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Ajouter √† votre .zshrc ou .bashrc</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:hsl(29, 54%, 61%)">PATH</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"</span><span class="token string environment constant" style="color:hsl(29, 54%, 61%)">$HOME</span><span class="token string" style="color:hsl(95, 38%, 62%)">/.local/bin:</span><span class="token string environment constant" style="color:hsl(29, 54%, 61%)">$PATH</span><span class="token string" style="color:hsl(95, 38%, 62%)">"</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cr√©ation-dun-nouveau-projet-">Cr√©ation d'un nouveau projet üìÅ<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#cr%C3%A9ation-dun-nouveau-projet-" class="hash-link" aria-label="Direct link to Cr√©ation d'un nouveau projet üìÅ" title="Direct link to Cr√©ation d'un nouveau projet üìÅ">‚Äã</a></h2>
<p>Pour cr√©er un nouveau projet avec Poetry:</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Cr√©er un nouveau projet</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry new mon-super-projet</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Structure g√©n√©r√©e</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">mon-super-projet/</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">‚îú‚îÄ‚îÄ pyproject.toml</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">‚îú‚îÄ‚îÄ README.md</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">‚îú‚îÄ‚îÄ mon_super_projet/</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">‚îÇ   ‚îî‚îÄ‚îÄ __init__.py</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">‚îî‚îÄ‚îÄ tests/</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    ‚îî‚îÄ‚îÄ __init__.py</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Le fichier <code>pyproject.toml</code> est le c≈ìur de votre projet, contenant toutes les m√©tadonn√©es et d√©pendances:</p>
<div class="language-toml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-toml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token table class-name" style="color:hsl(29, 54%, 61%)">tool.poetry</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key property" style="color:hsl(355, 65%, 65%)">name</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"mon-super-projet"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key property" style="color:hsl(355, 65%, 65%)">version</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"0.1.0"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key property" style="color:hsl(355, 65%, 65%)">description</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">""</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key property" style="color:hsl(355, 65%, 65%)">authors</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token string" style="color:hsl(95, 38%, 62%)">"Votre Nom &lt;votre.email@example.com&gt;"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key property" style="color:hsl(355, 65%, 65%)">readme</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"README.md"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token table class-name" style="color:hsl(29, 54%, 61%)">tool.poetry.dependencies</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key property" style="color:hsl(355, 65%, 65%)">python</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"^3.10"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token table class-name" style="color:hsl(29, 54%, 61%)">tool.poetry.dev-dependencies</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key property" style="color:hsl(355, 65%, 65%)">pytest</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"^7.3.1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token table class-name" style="color:hsl(29, 54%, 61%)">build-system</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key property" style="color:hsl(355, 65%, 65%)">requires</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token string" style="color:hsl(95, 38%, 62%)">"poetry-core&gt;=1.0.0"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key property" style="color:hsl(355, 65%, 65%)">build-backend</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"poetry.core.masonry.api"</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gestion-des-d√©pendances-">Gestion des d√©pendances üì¶<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#gestion-des-d%C3%A9pendances-" class="hash-link" aria-label="Direct link to Gestion des d√©pendances üì¶" title="Direct link to Gestion des d√©pendances üì¶">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ajouter-des-d√©pendances">Ajouter des d√©pendances<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#ajouter-des-d%C3%A9pendances" class="hash-link" aria-label="Direct link to Ajouter des d√©pendances" title="Direct link to Ajouter des d√©pendances">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Ajouter une d√©pendance</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Ajouter une d√©pendance avec une contrainte de version sp√©cifique</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"requests&gt;=2.25.0,&lt;3.0.0"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Ajouter une d√©pendance de d√©veloppement</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> pytest </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--group</span><span class="token plain"> dev</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="le-fichier-poetrylock">Le fichier poetry.lock<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#le-fichier-poetrylock" class="hash-link" aria-label="Direct link to Le fichier poetry.lock" title="Direct link to Le fichier poetry.lock">‚Äã</a></h3>
<p>Lorsque vous ajoutez des d√©pendances, Poetry cr√©e un fichier <code>poetry.lock</code> qui verrouille les versions exactes. Ce fichier assure que tous les environnements utiliseront exactement les m√™mes versions des packages.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Installer les d√©pendances depuis le lock file</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token function" style="color:hsl(207, 82%, 66%)">install</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilisation-quotidienne-">Utilisation quotidienne üíª<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#utilisation-quotidienne-" class="hash-link" aria-label="Direct link to Utilisation quotidienne üíª" title="Direct link to Utilisation quotidienne üíª">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ex√©cuter-des-commandes-dans-lenvironnement-virtuel">Ex√©cuter des commandes dans l'environnement virtuel<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#ex%C3%A9cuter-des-commandes-dans-lenvironnement-virtuel" class="hash-link" aria-label="Direct link to Ex√©cuter des commandes dans l'environnement virtuel" title="Direct link to Ex√©cuter des commandes dans l'environnement virtuel">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Ex√©cuter un script Python</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry run python mon_script.py</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Ex√©cuter une commande install√©e</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry run pytest</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Ouvrir un shell dans l'environnement virtuel</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry shell</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mise-√†-jour-des-d√©pendances">Mise √† jour des d√©pendances<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#mise-%C3%A0-jour-des-d%C3%A9pendances" class="hash-link" aria-label="Direct link to Mise √† jour des d√©pendances" title="Direct link to Mise √† jour des d√©pendances">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Afficher les d√©pendances qui peuvent √™tre mises √† jour</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry show </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--outdated</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Mettre √† jour toutes les d√©pendances</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry update</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Mettre √† jour une d√©pendance sp√©cifique</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry update requests</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-avanc√©e-">Configuration avanc√©e üîß<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#configuration-avanc%C3%A9e-" class="hash-link" aria-label="Direct link to Configuration avanc√©e üîß" title="Direct link to Configuration avanc√©e üîß">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gestion-de-plusieurs-environnements-python">Gestion de plusieurs environnements Python<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#gestion-de-plusieurs-environnements-python" class="hash-link" aria-label="Direct link to Gestion de plusieurs environnements Python" title="Direct link to Gestion de plusieurs environnements Python">‚Äã</a></h3>
<p>Poetry permet de travailler facilement avec diff√©rentes versions de Python:</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Sp√©cifier une version Python pour le projet</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token function" style="color:hsl(207, 82%, 66%)">env</span><span class="token plain"> use python3.9</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Lister les environnements virtuels associ√©s au projet</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token function" style="color:hsl(207, 82%, 66%)">env</span><span class="token plain"> list</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Supprimer un environnement virtuel</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token function" style="color:hsl(207, 82%, 66%)">env</span><span class="token plain"> remove python3.8</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-des-sources-de-packages">Configuration des sources de packages<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#configuration-des-sources-de-packages" class="hash-link" aria-label="Direct link to Configuration des sources de packages" title="Direct link to Configuration des sources de packages">‚Äã</a></h3>
<p>Vous pouvez configurer des sources de packages personnalis√©es:</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Ajouter un repository priv√©</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">source</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> mon-repo https://mon-repo-prive.com/simple/</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Installer depuis un repository sp√©cifique</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> mon-package </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--source</span><span class="token plain"> mon-repo</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflows-cicd-avec-poetry-">Workflows CI/CD avec Poetry üîÑ<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#workflows-cicd-avec-poetry-" class="hash-link" aria-label="Direct link to Workflows CI/CD avec Poetry üîÑ" title="Direct link to Workflows CI/CD avec Poetry üîÑ">‚Äã</a></h2>
<p>Poetry s'int√®gre parfaitement dans les pipelines d'int√©gration continue. Voici un exemple avec GitHub Actions:</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Tests Python</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">push</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> pull_request</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">jobs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">test</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">runs-on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">steps</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> actions/checkout@v3</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Set up Python</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">python@v4</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">python-version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'3.11'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Install Poetry</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> snok/install</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">poetry@v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> 1.6.1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Install dependencies</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">run</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> poetry install</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Run tests</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">run</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> poetry run pytest</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="publication-de-votre-package-">Publication de votre package üö¢<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#publication-de-votre-package-" class="hash-link" aria-label="Direct link to Publication de votre package üö¢" title="Direct link to Publication de votre package üö¢">‚Äã</a></h2>
<p>Poetry facilite √©norm√©ment la publication de packages sur PyPI:</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Construire le package</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry build</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Publier sur PyPI</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry publish</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Construire et publier en une seule commande</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry publish </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--build</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour publier sur un index priv√©:</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry publish </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--repository</span><span class="token plain"> mon-repo</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparaison-avec-dautres-outils-">Comparaison avec d'autres outils üîç<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#comparaison-avec-dautres-outils-" class="hash-link" aria-label="Direct link to Comparaison avec d'autres outils üîç" title="Direct link to Comparaison avec d'autres outils üîç">‚Äã</a></h2>
<table><thead><tr><th>Fonctionnalit√©</th><th>Poetry</th><th>pip + venv</th><th>pipenv</th></tr></thead><tbody><tr><td>Gestion des d√©pendances</td><td>‚úÖ</td><td>‚ö†Ô∏è (manuel)</td><td>‚úÖ</td></tr><tr><td>Lock file</td><td>‚úÖ</td><td>‚ùå</td><td>‚úÖ</td></tr><tr><td>Environnements virtuels</td><td>‚úÖ</td><td>‚úÖ (s√©par√©)</td><td>‚úÖ</td></tr><tr><td>Publication de package</td><td>‚úÖ</td><td>‚ùå (besoin de setuptools)</td><td>‚ùå</td></tr><tr><td>R√©solution des d√©pendances</td><td>‚úÖ (rapide)</td><td>‚ùå</td><td>‚úÖ (lent)</td></tr><tr><td>Innovation active</td><td>‚úÖ</td><td>‚úÖ</td><td>‚ö†Ô∏è</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bonnes-pratiques-avec-poetry-">Bonnes pratiques avec Poetry üëç<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#bonnes-pratiques-avec-poetry-" class="hash-link" aria-label="Direct link to Bonnes pratiques avec Poetry üëç" title="Direct link to Bonnes pratiques avec Poetry üëç">‚Äã</a></h2>
<ol>
<li>
<p><strong>Toujours commiter le fichier <code>poetry.lock</code></strong>: Il garantit la reproductibilit√© des installations</p>
</li>
<li>
<p><strong>S√©parer clairement d√©pendances de production et de d√©veloppement</strong></p>
</li>
<li>
<p><strong>D√©finir des contraintes de version pr√©cises</strong> pour les biblioth√®ques critiques</p>
</li>
<li>
<p><strong>Utiliser <code>poetry export</code></strong> pour g√©n√©rer un <code>requirements.txt</code> quand n√©cessaire:</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">poetry </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">export</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-f</span><span class="token plain"> requirements.txt </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--output</span><span class="token plain"> requirements.txt</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Mettre √† jour r√©guli√®rement</strong> vos d√©pendances pour des raisons de s√©curit√©</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-">Conclusion üéØ<a href="https://delpeuch.net/blog/2025/03/01/09-scripting/poetry-python-dependency#conclusion-" class="hash-link" aria-label="Direct link to Conclusion üéØ" title="Direct link to Conclusion üéØ">‚Äã</a></h2>
<p>Poetry a transform√© la fa√ßon dont les d√©veloppeurs Python g√®rent leurs projets en offrant une solution tout-en-un pour la gestion des d√©pendances, les environnements virtuels et le packaging. Son approche d√©clarative et sa simplicit√© d'utilisation en font un outil incontournable pour tout projet Python moderne.</p>
<p>Au-del√† d'√™tre un simple gestionnaire de d√©pendances, Poetry repr√©sente une √©volution significative dans l'√©cosyst√®me Python, rendant le d√©veloppement plus reproductible, plus fiable et plus agr√©able.</p>]]></content>
        <category label="Python" term="Python"/>
        <category label="DevOps" term="DevOps"/>
        <category label="Scripting" term="Scripting"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Secrets et ConfigMaps dans Kubernetes]]></title>
        <id>https://delpeuch.net/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps</id>
        <link href="https://delpeuch.net/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps"/>
        <updated>2025-02-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[D√©couvrez les concepts de Secrets et ConfigMaps dans Kubernetes, et comment les utiliser pour g√©rer les configurations et les informations sensibles.]]></summary>
        <content type="html"><![CDATA[<p>Kubernetes offre des m√©canismes pour g√©rer les configurations et les informations sensibles de mani√®re s√©curis√©e et efficace. Dans cet article, les concepts de Secrets et ConfigMaps dans Kubernetes seront explor√©s, ainsi que leur utilisation pour g√©rer les configurations et les informations sensibles. üîí</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configmap">ConfigMap<a href="https://delpeuch.net/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps#configmap" class="hash-link" aria-label="Direct link to ConfigMap" title="Direct link to ConfigMap">‚Äã</a></h2>
<p>Un ConfigMap est une ressource Kubernetes utilis√©e pour stocker des paires cl√©-valeur de configuration. Les ConfigMaps permettent de s√©parer les configurations des conteneurs, ce qui facilite la gestion et la mise √† jour des configurations sans avoir √† reconstruire les images des conteneurs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-configmap">Exemple de ConfigMap<a href="https://delpeuch.net/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps#exemple-de-configmap" class="hash-link" aria-label="Direct link to Exemple de ConfigMap" title="Direct link to Exemple de ConfigMap">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ConfigMap</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">config</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">database_url</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"postgres://user:password@hostname:5432/dbname"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">log_level</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"debug"</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="utilisation-dun-configmap-dans-un-pod">Utilisation d'un ConfigMap dans un Pod<a href="https://delpeuch.net/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps#utilisation-dun-configmap-dans-un-pod" class="hash-link" aria-label="Direct link to Utilisation d'un ConfigMap dans un Pod" title="Direct link to Utilisation d'un ConfigMap dans un Pod">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">env</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> DATABASE_URL</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">valueFrom</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">configMapKeyRef</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">              </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">config</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">              </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">key</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> database_url</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> LOG_LEVEL</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">valueFrom</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">configMapKeyRef</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">              </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">config</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">              </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">key</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> log_level</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="secret">Secret<a href="https://delpeuch.net/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps#secret" class="hash-link" aria-label="Direct link to Secret" title="Direct link to Secret">‚Äã</a></h2>
<p>Un Secret est une ressource Kubernetes utilis√©e pour stocker des informations sensibles, telles que des mots de passe, des cl√©s API et des certificats. Les Secrets permettent de g√©rer les informations sensibles de mani√®re s√©curis√©e et de les injecter dans les conteneurs sans les exposer dans les fichiers de configuration.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-secret">Exemple de Secret<a href="https://delpeuch.net/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps#exemple-de-secret" class="hash-link" aria-label="Direct link to Exemple de Secret" title="Direct link to Exemple de Secret">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">type</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Opaque</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">username</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> dXNlcm5hbWU=</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">password</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> cGFzc3dvcmQ=</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="utilisation-dun-secret-dans-un-pod">Utilisation d'un Secret dans un Pod<a href="https://delpeuch.net/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps#utilisation-dun-secret-dans-un-pod" class="hash-link" aria-label="Direct link to Utilisation d'un Secret dans un Pod" title="Direct link to Utilisation d'un Secret dans un Pod">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">env</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> USERNAME</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">valueFrom</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">secretKeyRef</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">              </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">              </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">key</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> username</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> PASSWORD</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">valueFrom</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">secretKeyRef</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">              </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">              </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">key</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> password</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="https://delpeuch.net/blog/2025/02/15/06-orchestration/k8s-secrets-configmaps#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>Les Secrets et ConfigMaps dans Kubernetes permettent de g√©rer les configurations et les informations sensibles de mani√®re s√©curis√©e et efficace. En utilisant ces ressources, il est possible de s√©parer les configurations des conteneurs, de faciliter la gestion des configurations et de prot√©ger les informations sensibles. üîê</p>
<p>Pour en savoir plus sur Kubernetes, consulter la <a href="https://kubernetes.io/fr/docs/concepts/" target="_blank" rel="noopener noreferrer">documentation officielle</a>.</p>]]></content>
        <category label="Kubernetes" term="Kubernetes"/>
        <category label="Orchestration" term="Orchestration"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stockage dans Kubernetes]]></title>
        <id>https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage</id>
        <link href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage"/>
        <updated>2025-02-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[D√©couvrez les concepts de stockage dans Kubernetes, tels que PersistentVolume, PersistentVolumeClaim, StorageClass et Volume.]]></summary>
        <content type="html"><![CDATA[<p>Kubernetes offre des m√©canismes pour monter et utiliser du stockage dans les pods, mais la gestion des donn√©es, y compris la provision, la sauvegarde et la r√©plication, est une t√¢che qui incombe aux administrateurs du cluster. Dans cet article, les concepts de stockage dans Kubernetes, notamment PersistentVolume, PersistentVolumeClaim, StorageClass et Volume, seront explor√©s. üì¶</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="persistentvolume-pv">PersistentVolume (PV)<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#persistentvolume-pv" class="hash-link" aria-label="Direct link to PersistentVolume (PV)" title="Direct link to PersistentVolume (PV)">‚Äã</a></h2>
<p>Un PersistentVolume (PV) est une ressource Kubernetes qui repr√©sente un volume de stockage dans le cluster. Il peut √™tre provisionn√© dynamiquement ou statiquement et est utilis√© pour stocker des donn√©es de mani√®re persistante. Les PVs sont ind√©pendants des pods et peuvent √™tre r√©clam√©s par des PersistentVolumeClaims (PVCs).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-persistentvolume">Exemple de PersistentVolume<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#exemple-de-persistentvolume" class="hash-link" aria-label="Direct link to Exemple de PersistentVolume" title="Direct link to Exemple de PersistentVolume">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> PersistentVolume</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">pv</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">capacity</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">storage</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> 1Gi</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">accessModes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">persistentVolumeReclaimPolicy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Retain</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">storageClassName</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">storage</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">class</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">hostPath</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">path</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> /mnt/data</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="persistentvolumeclaim-pvc">PersistentVolumeClaim (PVC)<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#persistentvolumeclaim-pvc" class="hash-link" aria-label="Direct link to PersistentVolumeClaim (PVC)" title="Direct link to PersistentVolumeClaim (PVC)">‚Äã</a></h2>
<p>Un PersistentVolumeClaim (PVC) est une ressource Kubernetes utilis√©e par les pods pour demander un certain type et une certaine quantit√© de stockage persistant. Les PVCs sont li√©s aux PVs disponibles dans le cluster.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-persistentvolumeclaim">Exemple de PersistentVolumeClaim<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#exemple-de-persistentvolumeclaim" class="hash-link" aria-label="Direct link to Exemple de PersistentVolumeClaim" title="Direct link to Exemple de PersistentVolumeClaim">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> PersistentVolumeClaim</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">pvc</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">accessModes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">resources</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">requests</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">storage</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> 1Gi</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">storageClassName</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">storage</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">class</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cycle-de-vie-des-persistentvolumes-pv-et-persistentvolumeclaims-pvc">Cycle de vie des PersistentVolumes (PV) et PersistentVolumeClaims (PVC)<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#cycle-de-vie-des-persistentvolumes-pv-et-persistentvolumeclaims-pvc" class="hash-link" aria-label="Direct link to Cycle de vie des PersistentVolumes (PV) et PersistentVolumeClaims (PVC)" title="Direct link to Cycle de vie des PersistentVolumes (PV) et PersistentVolumeClaims (PVC)">‚Äã</a></h2>
<p>Le cycle de vie des PersistentVolumes (PV) et PersistentVolumeClaims (PVC) dans Kubernetes suit plusieurs √©tapes, de la cr√©ation √† la suppression.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cycle-de-vie-des-pv">Cycle de vie des PV<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#cycle-de-vie-des-pv" class="hash-link" aria-label="Direct link to Cycle de vie des PV" title="Direct link to Cycle de vie des PV">‚Äã</a></h3>
<ol>
<li><strong>Provisioning</strong>: Le PV est cr√©√© soit statiquement par un administrateur, soit dynamiquement par le contr√¥leur de stockage.</li>
<li><strong>Binding</strong>: Le PV est li√© √† un PVC lorsqu'un PVC correspondant est cr√©√©.</li>
<li><strong>Using</strong>: Le PV est utilis√© par un pod via le PVC.</li>
<li><strong>Reclaiming</strong>: Lorsque le PVC est supprim√©, le PV entre dans une phase de r√©cup√©ration selon sa politique de r√©cup√©ration (Retain, Recycle, Delete).</li>
<li><strong>Releasing</strong>: Le PV est lib√©r√© mais reste associ√© au PVC jusqu'√† ce que la politique de r√©cup√©ration soit appliqu√©e.</li>
<li><strong>Recycling/Deleting</strong>: Le PV est soit recycl√© pour √™tre r√©utilis√©, soit supprim√©.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cycle-de-vie-des-pvc">Cycle de vie des PVC<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#cycle-de-vie-des-pvc" class="hash-link" aria-label="Direct link to Cycle de vie des PVC" title="Direct link to Cycle de vie des PVC">‚Äã</a></h3>
<ol>
<li><strong>Pending</strong>: Le PVC est cr√©√© et attend qu'un PV correspondant soit disponible.</li>
<li><strong>Bound</strong>: Le PVC est li√© √† un PV disponible.</li>
<li><strong>Using</strong>: Le PVC est utilis√© par un pod pour acc√©der au stockage.</li>
<li><strong>Released</strong>: Le PVC est supprim√© et le PV entre dans la phase de r√©cup√©ration.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="diagramme-mermaid">Diagramme Mermaid<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#diagramme-mermaid" class="hash-link" aria-label="Direct link to Diagramme Mermaid" title="Direct link to Diagramme Mermaid">‚Äã</a></h3>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="storageclass">StorageClass<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#storageclass" class="hash-link" aria-label="Direct link to StorageClass" title="Direct link to StorageClass">‚Äã</a></h2>
<p>Une StorageClass est une ressource Kubernetes utilis√©e pour d√©finir les types de stockage disponibles dans le cluster. Elle permet de provisionner dynamiquement des PersistentVolumes en fonction des besoins sp√©cifiques des applications.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="provisionnement-dynamique">Provisionnement dynamique<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#provisionnement-dynamique" class="hash-link" aria-label="Direct link to Provisionnement dynamique" title="Direct link to Provisionnement dynamique">‚Äã</a></h3>
<p>Le provisionnement dynamique permet de cr√©er automatiquement des PersistentVolumes (PVs) lorsque des PersistentVolumeClaims (PVCs) sont demand√©s par les pods. Cela simplifie la gestion du stockage en √©liminant la n√©cessit√© de cr√©er manuellement des PVs. Pour utiliser le provisionnement dynamique, les administrateurs du cluster doivent d√©finir des StorageClasses qui sp√©cifient les types de stockage disponibles et les param√®tres de provisionnement.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-storageclass">Exemple de StorageClass<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#exemple-de-storageclass" class="hash-link" aria-label="Direct link to Exemple de StorageClass" title="Direct link to Exemple de StorageClass">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> storage.k8s.io/v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> StorageClass</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">storage</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">class</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">provisioner</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> kubernetes.io/no</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">provisioner</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumeBindingMode</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> WaitForFirstConsumer</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-persistentvolumeclaim-utilisant-une-storageclass">Exemple de PersistentVolumeClaim utilisant une StorageClass<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#exemple-de-persistentvolumeclaim-utilisant-une-storageclass" class="hash-link" aria-label="Direct link to Exemple de PersistentVolumeClaim utilisant une StorageClass" title="Direct link to Exemple de PersistentVolumeClaim utilisant une StorageClass">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> PersistentVolumeClaim</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">pvc</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">accessModes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">resources</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">requests</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">storage</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> 1Gi</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">storageClassName</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">storage</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">class</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>En utilisant une StorageClass avec le provisionnement dynamique, Kubernetes cr√©era automatiquement un PV correspondant aux sp√©cifications du PVC lorsque celui-ci sera cr√©√©. Cela est √©galement possible on-premise, √† condition que le cluster Kubernetes soit configur√© avec un provisionneur de stockage compatible. Les administrateurs du cluster doivent s'assurer que les StorageClasses sont correctement d√©finies pour le stockage on-premise.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="volume">Volume<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#volume" class="hash-link" aria-label="Direct link to Volume" title="Direct link to Volume">‚Äã</a></h2>
<p>Un Volume Kubernetes est un r√©pertoire, potentiellement mont√© √† partir du stockage du n≈ìud, partag√© entre les conteneurs d'un pod. Les volumes sont utilis√©s pour stocker des donn√©es de mani√®re temporaire ou persistante.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-volume">Exemple de Volume<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#exemple-de-volume" class="hash-link" aria-label="Direct link to Exemple de Volume" title="Direct link to Exemple de Volume">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumeMounts</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">mountPath</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> /usr/share/nginx/html</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">persistentVolumeClaim</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">claimName</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">pvc</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stockage-statique-et-dynamique">Stockage statique et dynamique<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#stockage-statique-et-dynamique" class="hash-link" aria-label="Direct link to Stockage statique et dynamique" title="Direct link to Stockage statique et dynamique">‚Äã</a></h2>
<p>Le stockage dans Kubernetes peut √™tre provisionn√© de mani√®re statique ou dynamique.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stockage-statique">Stockage statique<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#stockage-statique" class="hash-link" aria-label="Direct link to Stockage statique" title="Direct link to Stockage statique">‚Äã</a></h3>
<p>Le stockage statique implique la cr√©ation manuelle de PersistentVolumes (PVs) par les administrateurs du cluster. Les PVs sont d√©finis √† l'avance et sont disponibles pour √™tre r√©clam√©s par les PersistentVolumeClaims (PVCs). Cette m√©thode est utile lorsque des exigences sp√©cifiques de stockage doivent √™tre respect√©es.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stockage-dynamique">Stockage dynamique<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#stockage-dynamique" class="hash-link" aria-label="Direct link to Stockage dynamique" title="Direct link to Stockage dynamique">‚Äã</a></h3>
<p>Le stockage dynamique permet de provisionner automatiquement des PersistentVolumes (PVs) en fonction des besoins des applications. Les administrateurs du cluster d√©finissent des StorageClasses qui sp√©cifient les types de stockage disponibles. Lorsqu'un PersistentVolumeClaim (PVC) est cr√©√©, Kubernetes utilise la StorageClass pour provisionner dynamiquement un PV correspondant aux sp√©cifications du PVC. Cette m√©thode simplifie la gestion du stockage et permet une allocation plus flexible des ressources.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="https://delpeuch.net/blog/2025/02/10/06-orchestration/k8s-storage#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>Les concepts de stockage dans Kubernetes, tels que PersistentVolume, PersistentVolumeClaim, StorageClass et Volume, permettent de g√©rer efficacement le stockage des donn√©es dans les applications conteneuris√©es. En comprenant ces concepts, il est possible de tirer parti de la puissance de Kubernetes pour g√©rer le stockage des applications. üìä</p>
<p>Pour en savoir plus sur Kubernetes, consulter la <a href="https://kubernetes.io/fr/docs/concepts/" target="_blank" rel="noopener noreferrer">documentation officielle</a>.</p>]]></content>
        <category label="Kubernetes" term="Kubernetes"/>
        <category label="Orchestration" term="Orchestration"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Composants de base de Kubernetes]]></title>
        <id>https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components</id>
        <link href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components"/>
        <updated>2025-02-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[D√©couvrez les composants de base de Kubernetes, tels que les Services, Pods, Deployments et StatefulSets.]]></summary>
        <content type="html"><![CDATA[<p>Kubernetes est une plateforme d'orchestration de conteneurs qui permet de g√©rer des clusters de machines ex√©cutant des conteneurs. Dans cet article, les composants de base de Kubernetes, notamment les Services, Pods, Deployments et StatefulSets, seront explor√©s. üöÄ</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pod">Pod<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#pod" class="hash-link" aria-label="Direct link to Pod" title="Direct link to Pod">‚Äã</a></h2>
<p>Un Pod est l'unit√© de base de d√©ploiement dans Kubernetes. Il repr√©sente un ou plusieurs conteneurs qui partagent le m√™me r√©seau et le m√™me espace de stockage. Les Pods sont √©ph√©m√®res et peuvent √™tre recr√©√©s en cas de d√©faillance.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-pod">Exemple de Pod<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#exemple-de-pod" class="hash-link" aria-label="Direct link to Exemple de Pod" title="Direct link to Exemple de Pod">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containerPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Les Pods sont utilis√©s pour ex√©cuter des applications conteneuris√©es sur des n≈ìuds de travail. Ils peuvent contenir un ou plusieurs conteneurs, qui partagent le m√™me r√©seau et le m√™me espace de stockage. Les Pods sont √©ph√©m√®res, ce qui signifie qu'ils peuvent √™tre recr√©√©s en cas de d√©faillance. Les Pods sont √©galement utilis√©s pour regrouper des conteneurs qui doivent √™tre ex√©cut√©s ensemble, par exemple, un conteneur d'application et un conteneur de base de donn√©es.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service">Service<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#service" class="hash-link" aria-label="Direct link to Service" title="Direct link to Service">‚Äã</a></h2>
<p>Un Service est une abstraction qui permet d'exposer une application ex√©cut√©e sur un ensemble de Pods en tant que service r√©seau. Les Services permettent de distribuer le trafic r√©seau entre les Pods et de garantir la haute disponibilit√© des applications.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-service">Exemple de Service<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#exemple-de-service" class="hash-link" aria-label="Direct link to Exemple de Service" title="Direct link to Exemple de Service">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">selector</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">protocol</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">port</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">targetPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">type</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> LoadBalancer</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Les Services sont utilis√©s pour exposer des applications ex√©cut√©es sur des Pods en tant que services r√©seau. Ils permettent de distribuer le trafic r√©seau entre les Pods et de garantir la haute disponibilit√© des applications. Les Services peuvent √™tre de diff√©rents types, tels que ClusterIP, NodePort et LoadBalancer, en fonction des besoins de l'application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Deployment<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#deployment" class="hash-link" aria-label="Direct link to Deployment" title="Direct link to Deployment">‚Äã</a></h2>
<p>Un Deployment est un objet Kubernetes qui g√®re le d√©ploiement et la mise √† l'√©chelle des applications conteneuris√©es. Il d√©finit l'√©tat souhait√© de l'application et Kubernetes s'occupe de cr√©er et de g√©rer les instances (Pods) pour atteindre cet √©tat.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-deployment">Exemple de Deployment<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#exemple-de-deployment" class="hash-link" aria-label="Direct link to Exemple de Deployment" title="Direct link to Exemple de Deployment">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">replicas</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">selector</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">matchLabels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">template</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">labels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containerPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Les Deployments sont utilis√©s pour g√©rer le d√©ploiement et la mise √† l'√©chelle des applications conteneuris√©es. Ils d√©finissent l'√©tat souhait√© de l'application, y compris le nombre de r√©plicas, l'image du conteneur √† utiliser, les ports expos√©s et les volumes. Kubernetes s'occupe de cr√©er et de g√©rer les instances (Pods) pour atteindre cet √©tat. Les Deployments permettent √©galement de mettre √† jour les applications de mani√®re transparente en effectuant des d√©ploiements progressifs.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="statefulset">StatefulSet<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#statefulset" class="hash-link" aria-label="Direct link to StatefulSet" title="Direct link to StatefulSet">‚Äã</a></h2>
<p>Un StatefulSet est un objet Kubernetes qui g√®re le d√©ploiement et la mise √† l'√©chelle des applications avec √©tat. Contrairement aux Deployments, les StatefulSets garantissent l'ordre et l'unicit√© des Pods, ce qui est essentiel pour les applications n√©cessitant un stockage persistant.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-statefulset">Exemple de StatefulSet<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#exemple-de-statefulset" class="hash-link" aria-label="Direct link to Exemple de StatefulSet" title="Direct link to Exemple de StatefulSet">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">apiVersion</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">kind</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> StatefulSet</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">statefulset</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">serviceName</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"my-service"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">replicas</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">selector</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">matchLabels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">template</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">labels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">containerPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumeMounts</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">              </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">mountPath</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> /usr/share/nginx/html</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumeClaimTemplates</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">spec</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">accessModes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"ReadWriteOnce"</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">resources</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">requests</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">storage</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> 1Gi</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Les StatefulSets sont utilis√©s pour g√©rer le d√©ploiement et la mise √† l'√©chelle des applications avec √©tat. Contrairement aux Deployments, les StatefulSets garantissent l'ordre et l'unicit√© des Pods, ce qui est essentiel pour les applications n√©cessitant un stockage persistant. Les StatefulSets sont souvent utilis√©s pour des applications telles que les bases de donn√©es, qui n√©cessitent un stockage persistant et une gestion de l'√©tat.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interactions-entre-les-composants">Interactions entre les composants<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#interactions-entre-les-composants" class="hash-link" aria-label="Direct link to Interactions entre les composants" title="Direct link to Interactions entre les composants">‚Äã</a></h2>
<p>Les composants de base de Kubernetes interagissent entre eux pour assurer le d√©ploiement, la mise √† l'√©chelle et la gestion des applications conteneuris√©es. Par exemple, un Deployment peut cr√©er plusieurs Pods, qui sont ensuite expos√©s en tant que service r√©seau par un Service. Les StatefulSets garantissent l'ordre et l'unicit√© des Pods, ce qui est essentiel pour les applications n√©cessitant un stockage persistant. Les Services permettent de distribuer le trafic r√©seau entre les Pods et de garantir la haute disponibilit√© des applications.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="https://delpeuch.net/blog/2025/02/05/06-orchestration/k8s-basic-components#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>Les composants de base de Kubernetes, tels que les Pods, Services, Deployments et StatefulSets, permettent de d√©ployer, g√©rer et mettre √† l'√©chelle des applications conteneuris√©es de mani√®re efficace. En comprenant ces composants et leurs interactions, il est possible de tirer parti de la puissance de Kubernetes pour g√©rer les applications.</p>
<p>Pour en savoir plus sur Kubernetes, consulter la <a href="https://kubernetes.io/fr/docs/concepts/" target="_blank" rel="noopener noreferrer">documentation officielle</a>.</p>]]></content>
        <category label="Kubernetes" term="Kubernetes"/>
        <category label="Orchestration" term="Orchestration"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Introduction √† Kubernetes]]></title>
        <id>https://delpeuch.net/blog/2025/02/01/06-orchestration/k8s-introduction</id>
        <link href="https://delpeuch.net/blog/2025/02/01/06-orchestration/k8s-introduction"/>
        <updated>2025-02-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[D√©couvrez les concepts de base de Kubernetes, une plateforme d'orchestration de conteneurs.]]></summary>
        <content type="html"><![CDATA[<p>Kubernetes est une plateforme open-source con√ßue pour automatiser le d√©ploiement, la mise √† l'√©chelle et la gestion des applications conteneuris√©es. Il permet de regrouper des conteneurs qui composent une application en unit√©s logiques pour une gestion et une d√©couverte plus faciles. üöÄ</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-que-kubernetes--">Qu'est-ce que Kubernetes ? ü§î<a href="https://delpeuch.net/blog/2025/02/01/06-orchestration/k8s-introduction#quest-ce-que-kubernetes--" class="hash-link" aria-label="Direct link to Qu'est-ce que Kubernetes ? ü§î" title="Direct link to Qu'est-ce que Kubernetes ? ü§î">‚Äã</a></h2>
<p>Kubernetes, souvent abr√©g√© en K8s, est une plateforme d'orchestration de conteneurs qui permet de g√©rer des clusters de machines ex√©cutant des conteneurs. Il a √©t√© initialement d√©velopp√© par Google et est maintenant maintenu par la Cloud Native Computing Foundation (CNCF).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-de-kubernetes-Ô∏è">Architecture de Kubernetes üèóÔ∏è<a href="https://delpeuch.net/blog/2025/02/01/06-orchestration/k8s-introduction#architecture-de-kubernetes-%EF%B8%8F" class="hash-link" aria-label="Direct link to Architecture de Kubernetes üèóÔ∏è" title="Direct link to Architecture de Kubernetes üèóÔ∏è">‚Äã</a></h3>
<p>L'architecture de Kubernetes est compos√©e de plusieurs composants cl√©s :</p>
<ul>
<li><strong>Master Node</strong> : Le n≈ìud ma√Ætre est responsable de la gestion du cluster. Il orchestre les t√¢ches telles que le d√©ploiement des applications, la maintenance de l'√©tat souhait√© des applications, la mise √† l'√©chelle des applications et la mise √† jour des applications.</li>
<li><strong>Worker Nodes</strong> : Les n≈ìuds de travail ex√©cutent les applications conteneuris√©es. Chaque n≈ìud de travail contient les services n√©cessaires pour ex√©cuter les conteneurs et est g√©r√© par le n≈ìud ma√Ætre.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Architecture de Kubernetes" src="https://delpeuch.net/assets/images/k8s-architecture-b792fb99c20256118ec91e912eac62c7.png" width="1403" height="1066" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="composants-principaux-de-kubernetes-">Composants principaux de Kubernetes üîß<a href="https://delpeuch.net/blog/2025/02/01/06-orchestration/k8s-introduction#composants-principaux-de-kubernetes-" class="hash-link" aria-label="Direct link to Composants principaux de Kubernetes üîß" title="Direct link to Composants principaux de Kubernetes üîß">‚Äã</a></h3>
<ul>
<li><strong>API Server</strong> : L'API Server est le point d'entr√©e pour toutes les commandes Kubernetes. Il expose l'API Kubernetes.</li>
<li><strong>etcd</strong> : etcd est un magasin de donn√©es cl√©-valeur distribu√© qui stocke les donn√©es de configuration du cluster et l'√©tat du cluster.</li>
<li><strong>Scheduler</strong> : Le Scheduler est responsable de la r√©partition des conteneurs sur les n≈ìuds de travail en fonction des ressources disponibles et des contraintes d√©finies.</li>
<li><strong>Controller Manager</strong> : Le Controller Manager ex√©cute les contr√¥leurs qui surveillent l'√©tat du cluster et effectuent les ajustements n√©cessaires pour atteindre l'√©tat souhait√©.</li>
<li><strong>Kubelet</strong> : Kubelet est un agent qui s'ex√©cute sur chaque n≈ìud de travail et garantit que les conteneurs sont ex√©cut√©s dans un Pod.</li>
<li><strong>Container Runtime</strong> : Le Container Runtime est le logiciel responsable de l'ex√©cution des conteneurs. Kubernetes prend en charge plusieurs runtimes de conteneurs, y compris Docker, containerd et CRI-O.</li>
<li><strong>Kube-proxy</strong> : Kube-proxy est un proxy r√©seau qui g√®re la mise en r√©seau des conteneurs et assure la communication entre les services.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="avantages-de-kubernetes-">Avantages de Kubernetes üåü<a href="https://delpeuch.net/blog/2025/02/01/06-orchestration/k8s-introduction#avantages-de-kubernetes-" class="hash-link" aria-label="Direct link to Avantages de Kubernetes üåü" title="Direct link to Avantages de Kubernetes üåü">‚Äã</a></h3>
<ul>
<li><strong>Portabilit√©</strong> : Kubernetes est compatible avec plusieurs environnements de cloud, y compris AWS, Azure et Google Cloud, ainsi qu'avec des environnements sur site.</li>
<li><strong>Scalabilit√©</strong> : Kubernetes permet de mettre √† l'√©chelle les applications de mani√®re horizontale (en ajoutant plus de r√©plicas) et verticale (en allouant plus de ressources √† un conteneur).</li>
<li><strong>R√©silience</strong> : Kubernetes assure la haute disponibilit√© des applications en red√©marrant automatiquement les conteneurs d√©faillants, en r√©pliquant les conteneurs et en √©quilibrant la charge du trafic r√©seau.</li>
<li><strong>Gestion simplifi√©e</strong> : Kubernetes automatise de nombreuses t√¢ches de gestion des conteneurs, y compris le d√©ploiement, la mise √† jour et la mise √† l'√©chelle des applications.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-">Conclusion üéØ<a href="https://delpeuch.net/blog/2025/02/01/06-orchestration/k8s-introduction#conclusion-" class="hash-link" aria-label="Direct link to Conclusion üéØ" title="Direct link to Conclusion üéØ">‚Äã</a></h2>
<p>Kubernetes est une plateforme puissante et flexible pour l'orchestration des conteneurs. En automatisant de nombreuses t√¢ches de gestion des conteneurs, Kubernetes permet aux √©quipes de d√©veloppement et d'exploitation de se concentrer sur la cr√©ation et la maintenance des applications, plut√¥t que sur la gestion de l'infrastructure sous-jacente.</p>
<p>Pour en savoir plus sur Kubernetes, consulter la <a href="https://kubernetes.io/fr/docs/concepts/" target="_blank" rel="noopener noreferrer">documentation officielle</a>.</p>]]></content>
        <category label="Kubernetes" term="Kubernetes"/>
        <category label="Orchestration" term="Orchestration"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Nginx Proxy Manager]]></title>
        <id>https://delpeuch.net/blog/2025/01/12/02-network/nginx-proxy-manager</id>
        <link href="https://delpeuch.net/blog/2025/01/12/02-network/nginx-proxy-manager"/>
        <updated>2025-01-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Pr√©sentation de Nginx Proxy Manager, ses fonctionnalit√©s et ses avantages, ainsi qu'une d√©monstration d'utilisation avec Docker.]]></summary>
        <content type="html"><![CDATA[<p>Nginx Proxy Manager est une interface utilisateur graphique (GUI) pour g√©rer les proxys inverses Nginx. Il simplifie la gestion des proxys inverses, des certificats SSL et des redirections de trafic. Cet article pr√©sente Nginx Proxy Manager, explique ses fonctionnalit√©s et avantages, et fournit une d√©monstration d'utilisation avec Docker.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-que-nginx-proxy-manager-">Qu'est-ce que Nginx Proxy Manager ?<a href="https://delpeuch.net/blog/2025/01/12/02-network/nginx-proxy-manager#quest-ce-que-nginx-proxy-manager-" class="hash-link" aria-label="Direct link to Qu'est-ce que Nginx Proxy Manager ?" title="Direct link to Qu'est-ce que Nginx Proxy Manager ?">‚Äã</a></h2>
<p><img decoding="async" loading="lazy" alt="Nginx Proxy Manager" src="https://delpeuch.net/assets/images/nginx-proxy-manager-b8f97f3974e56251debc7386ebfee5d7.png" width="1000" height="762" class="img_ev3q"></p>
<p><a href="https://nginxproxymanager.com/" target="_blank" rel="noopener noreferrer">Nginx Proxy Manager</a> est une interface utilisateur graphique (GUI) pour g√©rer les proxys inverses Nginx. Il permet de configurer facilement des proxys inverses, des certificats SSL et des redirections de trafic. Nginx Proxy Manager est con√ßu pour √™tre simple √† utiliser et accessible aux utilisateurs non techniques.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Qu'est-ce qu'un proxy ?</summary><div><div class="collapsibleContent_i85q"><p>Un proxy, √©galement connu sous le nom de proxy direct ou proxy de transfert, est un serveur qui agit comme un interm√©diaire entre un client (par exemple, un utilisateur ou un appareil) et un serveur de destination sur Internet. Voici un aper√ßu d√©taill√© de son fonctionnement :</p><ol>
<li>
<p><strong>Interception des requ√™tes</strong> : Lorsqu'un client souhaite acc√©der √† une ressource sur Internet, il envoie une requ√™te au proxy au lieu de se connecter directement au serveur de destination. Le proxy intercepte cette requ√™te.</p>
</li>
<li>
<p><strong>Filtrage et s√©curit√©</strong> : Le proxy examine la requ√™te pour s'assurer qu'elle respecte les politiques de s√©curit√© et de filtrage d√©finies par l'administrateur r√©seau. Il peut bloquer l'acc√®s √† certains sites web, filtrer les contenus inappropri√©s ou malveillants, et appliquer des r√®gles de s√©curit√©.</p>
</li>
<li>
<p><strong>Anonymisation</strong> : Le proxy peut masquer l'adresse IP du client en utilisant sa propre adresse IP pour se connecter au serveur de destination. Cela permet de prot√©ger l'identit√© et la confidentialit√© du client.</p>
</li>
<li>
<p><strong>Mise en cache</strong> : Le proxy peut mettre en cache les r√©ponses des serveurs de destination. Si un autre client demande la m√™me ressource, le proxy peut fournir la r√©ponse mise en cache, ce qui r√©duit la charge sur le serveur de destination et am√©liore les temps de r√©ponse.</p>
</li>
<li>
<p><strong>Transmission de la requ√™te</strong> : Si la requ√™te est autoris√©e, le proxy la transmet au serveur de destination en utilisant sa propre adresse IP. Le serveur de destination r√©pond alors au proxy.</p>
</li>
<li>
<p><strong>Retour de la r√©ponse</strong> : Le proxy re√ßoit la r√©ponse du serveur de destination, la filtre √† nouveau si n√©cessaire, et la renvoie au client. Le client re√ßoit ainsi la r√©ponse comme s'il avait directement communiqu√© avec le serveur de destination.</p>
</li>
</ol></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fonctionnalit√©s-de-nginx-proxy-manager">Fonctionnalit√©s de Nginx Proxy Manager<a href="https://delpeuch.net/blog/2025/01/12/02-network/nginx-proxy-manager#fonctionnalit%C3%A9s-de-nginx-proxy-manager" class="hash-link" aria-label="Direct link to Fonctionnalit√©s de Nginx Proxy Manager" title="Direct link to Fonctionnalit√©s de Nginx Proxy Manager">‚Äã</a></h3>
<ul>
<li><strong>Gestion des proxys inverses</strong> : Configurez facilement des proxys inverses pour vos applications web.</li>
<li><strong>Certificats SSL</strong> : G√©rez les certificats SSL pour s√©curiser vos sites web.</li>
<li><strong>Redirections de trafic</strong> : Configurez des redirections de trafic pour vos domaines et sous-domaines.</li>
<li><strong>Interface utilisateur intuitive</strong> : Utilisez une interface utilisateur graphique pour g√©rer vos configurations Nginx.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="avantages-de-nginx-proxy-manager">Avantages de Nginx Proxy Manager<a href="https://delpeuch.net/blog/2025/01/12/02-network/nginx-proxy-manager#avantages-de-nginx-proxy-manager" class="hash-link" aria-label="Direct link to Avantages de Nginx Proxy Manager" title="Direct link to Avantages de Nginx Proxy Manager">‚Äã</a></h3>
<ul>
<li><strong>Simplicit√©</strong> : Nginx Proxy Manager simplifie la gestion des proxys inverses et des certificats SSL.</li>
<li><strong>Accessibilit√©</strong> : L'interface utilisateur graphique rend Nginx Proxy Manager accessible aux utilisateurs non techniques.</li>
<li><strong>Flexibilit√©</strong> : Nginx Proxy Manager prend en charge une vari√©t√© de configurations et de sc√©narios d'utilisation.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilisation-de-nginx-proxy-manager-avec-docker">Utilisation de Nginx Proxy Manager avec Docker<a href="https://delpeuch.net/blog/2025/01/12/02-network/nginx-proxy-manager#utilisation-de-nginx-proxy-manager-avec-docker" class="hash-link" aria-label="Direct link to Utilisation de Nginx Proxy Manager avec Docker" title="Direct link to Utilisation de Nginx Proxy Manager avec Docker">‚Äã</a></h2>
<p>Dans cette section, une d√©monstration est fournie pour montrer comment utiliser Nginx Proxy Manager avec Docker. Un conteneur Docker pour Nginx Proxy Manager sera cr√©√© et un proxy inverse pour une application web sera configur√©.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pr√©requis">Pr√©requis<a href="https://delpeuch.net/blog/2025/01/12/02-network/nginx-proxy-manager#pr%C3%A9requis" class="hash-link" aria-label="Direct link to Pr√©requis" title="Direct link to Pr√©requis">‚Äã</a></h3>
<ul>
<li>Docker install√© sur la machine</li>
<li>Une application web √† proxyfier</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="√©tapes">√âtapes<a href="https://delpeuch.net/blog/2025/01/12/02-network/nginx-proxy-manager#%C3%A9tapes" class="hash-link" aria-label="Direct link to √âtapes" title="Direct link to √âtapes">‚Äã</a></h3>
<ol>
<li>
<p><strong>Cr√©er un fichier <code>docker-compose.yml</code></strong></p>
<p>Cr√©ez un fichier <code>docker-compose.yml</code> avec le contenu suivant :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'3'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> your</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">image</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">container_name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> your</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"8080:80"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">nginx-proxy-manager</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> jc21/nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">proxy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">manager</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">container_name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">proxy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">manager</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"80:80"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"81:81"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"443:443"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> ./data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">/data</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> ./letsencrypt</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">/etc/letsencrypt</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>D√©marrer les conteneurs Docker</strong></p>
<p>Ex√©cutez la commande suivante pour d√©marrer les conteneurs Docker :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker-compose</span><span class="token plain"> up </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-d</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Acc√©der √† l'interface utilisateur de Nginx Proxy Manager</strong></p>
<p>Ouvrir le navigateur et acc√©der √† <code>http://localhost:81</code>. Se connecter avec les informations d'identification par d√©faut (<code>admin@example.com</code> / <code>changeme</code>) et changer le mot de passe.</p>
</li>
<li>
<p><strong>Configurer un proxy inverse</strong></p>
<p>Dans l'interface utilisateur de Nginx Proxy Manager, ajouter un nouveau proxy h√¥te avec les param√®tres suivants :</p>
<ul>
<li><strong>Domain Names</strong> : Entrer le nom de domaine ou l'adresse IP de l'application web.</li>
<li><strong>Forward Hostname / IP</strong> : Entrer <code>app</code>.</li>
<li><strong>Forward Port</strong> : Entrer <code>80</code>.</li>
</ul>
<p>Enregistrer la configuration et acc√©der √† l'application web via le nom de domaine ou l'adresse IP configur√©e.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="https://delpeuch.net/blog/2025/01/12/02-network/nginx-proxy-manager#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>Nginx Proxy Manager est un outil puissant et facile √† utiliser pour g√©rer les proxys inverses Nginx, les certificats SSL et les redirections de trafic. En utilisant Docker, il est possible de d√©ployer et configurer rapidement Nginx Proxy Manager pour les applications web. Essayer Nginx Proxy Manager d√®s aujourd'hui pour simplifier la gestion des proxys inverses et am√©liorer la s√©curit√© des sites web.</p>]]></content>
        <category label="nginx-proxy-manager" term="nginx-proxy-manager"/>
        <category label="Docker" term="Docker"/>
        <category label="Network" term="Network"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[DevOps Roadmap 2025]]></title>
        <id>https://delpeuch.net/blog/2025/01/01/devops-roadmap-2025</id>
        <link href="https://delpeuch.net/blog/2025/01/01/devops-roadmap-2025"/>
        <updated>2025-01-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Pr√©sentation de ma roadmap DevOps personnelle 2025]]></summary>
        <content type="html"><![CDATA[<p>Voici un r√©sum√© de ma roadmap DevOps personnelle pour 2025. Cette roadmap est bas√©e sur mes exp√©riences et mes objectifs personnels. Elle est sujette √† des changements et des mises √† jour r√©guli√®res. N'h√©sitez pas √† me contacter si vous avez des suggestions ou des commentaires.</p>
<!-- -->
<p><img decoding="async" loading="lazy" alt="DevOps" src="https://delpeuch.net/assets/images/devops-7e8caa7376b7c423945a1df3b7a1fa48.png" width="446" height="212" class="img_ev3q"></p>
<h2><div style="text-align:center"><span></span><div style="padding:2px 16px"><h2>06 Orchestration de conteneurs - Kubernetes &amp; Docker Swarm</h2></div></div></h2>
<ul>
<li>Apprendre les composants de base comme, Deployment, Service, ConfigMap, Secret, StatefulSet</li>
<li>CLI Kubernetes (Kubectl)</li>
<li>Persistance des donn√©es avec les volumes K8s</li>
<li>Externalisation des configurations avec ConfigMap et Secret</li>
<li>Acc√®s aux applications avec les composants Ingress (Nginx)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-1"><div style="text-align:center"><span></span><div style="padding:2px 16px"><h2>07 Monitoring &amp; Observabilit√©</h2></div></div><a href="https://delpeuch.net/blog/2025/01/01/devops-roadmap-2025#-1" class="hash-link" aria-label="Direct link to -1" title="Direct link to -1">‚Äã</a></h2>
<ul>
<li>Grafana : Outil d'analyse et de visualisation interactive</li>
<li>Prometheus : Un outil de surveillance et d'alerte populaire</li>
<li>Loki : Une pile de gestion de logs populaire</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-2"><div style="text-align:center"><span></span><div style="padding:2px 16px"><h2>08 Infrastructure as Code</h2></div></div><a href="https://delpeuch.net/blog/2025/01/01/devops-roadmap-2025#-2" class="hash-link" aria-label="Direct link to -2" title="Direct link to -2">‚Äã</a></h2>
<ul>
<li>Terraform est l'outil de provisionnement d'infrastructure le plus populaire</li>
<li>Ansible est l'outil de gestion de configuration le plus populaire</li>
</ul>]]></content>
        <category label="Devops" term="Devops"/>
        <category label="Roadmap" term="Roadmap"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[FastAPI]]></title>
        <id>https://delpeuch.net/blog/2024/12/15/09-scripting/fastapi</id>
        <link href="https://delpeuch.net/blog/2024/12/15/09-scripting/fastapi"/>
        <updated>2024-12-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[FastAPI est un framework web moderne et rapide (hautes performances) pour la cr√©ation d'API avec Python, bas√© sur les annotations de types standard de Python.]]></summary>
        <content type="html"><![CDATA[<p>FastAPI est un framework web moderne et rapide (hautes performances) pour la cr√©ation d'API avec Python, bas√© sur les annotations de types standard de Python.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aper√ßu">Aper√ßu<a href="https://delpeuch.net/blog/2024/12/15/09-scripting/fastapi#aper%C3%A7u" class="hash-link" aria-label="Direct link to Aper√ßu" title="Direct link to Aper√ßu">‚Äã</a></h2>
<p>FastAPI est un framework web moderne et rapide (hautes performances) pour la cr√©ation d'API avec Python, bas√© sur les annotations de types standard de Python. Il offre des performances √©lev√©es, comparables √† celles de NodeJS et Go, gr√¢ce √† Starlette et Pydantic, ce qui en fait l'un des frameworks Python les plus rapides disponibles. FastAPI permet d'augmenter la vitesse de d√©veloppement des fonctionnalit√©s de 200% √† 300%, de r√©duire d'environ 40% les erreurs humaines des d√©veloppeurs, et propose un excellent support des √©diteurs avec des compl√©tions.</p>
<table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>Site Web</td><td><a href="https://fastapi.tiangolo.com/" target="_blank" rel="noopener noreferrer">https://fastapi.tiangolo.com/</a></td></tr><tr><td>GitHub Stars</td><td>&gt; 75k ‚≠ê</td></tr><tr><td>Nombre de contributeurs</td><td>700</td></tr><tr><td>Licence</td><td>MIT</td></tr></tbody></table>
<ul>
<li>Finalit√© : Cr√©ation des API web avec Python</li>
<li>Int√©r√™t : FastAPI est facile √† utiliser et √† apprendre, r√©duit la duplication de code, et produit du code pr√™t pour la production avec une documentation interactive bas√©e sur les standards OpenAPI et JSON Schema.</li>
<li>Gouvernance : Assur√©e par une √©quipe de mainteneurs dont <span style="display:inline-flex;gap:0.25rem"><span></span><a href="https://github.com/tiangolo" target="_blank" rel="noopener noreferrer">tiangolo</a></span> est le cr√©ateur et mainteneurs principal. A cela s'ajoute des contributeurs individuels, le projet est soutenu par la communaut√©.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fastapi-vs-flask">FastAPI vs Flask<a href="https://delpeuch.net/blog/2024/12/15/09-scripting/fastapi#fastapi-vs-flask" class="hash-link" aria-label="Direct link to FastAPI vs Flask" title="Direct link to FastAPI vs Flask">‚Äã</a></h3>
<p><strong>FastAPI</strong> est reconnu pour sa rapidit√© et ses performances √©lev√©es, gr√¢ce √† Starlette et Pydantic. Il utilise les annotations de types standard de Python, ce qui am√©liore la validation et la s√©rialisation des donn√©es. FastAPI g√©n√®re automatiquement une documentation interactive et est bas√© sur les standards OpenAPI et JSON Schema. Il est id√©al pour les projets n√©cessitant des performances √©lev√©es et une validation stricte des donn√©es.</p>
<p><strong>Flask</strong>, en revanche, est un micro-framework l√©ger et flexible, facile √† apprendre et √† utiliser. Il offre une grande libert√© aux d√©veloppeurs pour structurer leurs applications comme ils le souhaitent. Flask est extensible via de nombreuses extensions tierces, ce qui le rend adapt√© aux projets de toutes tailles. Cependant, il ne fournit pas de validation de donn√©es int√©gr√©e ni de documentation automatique comme FastAPI.</p>
<p>En r√©sum√©, FastAPI est plus adapt√© pour les projets n√©cessitant des performances √©lev√©es et une validation stricte des donn√©es, tandis que Flask est con√ßu pour les projets n√©cessitant flexibilit√© et simplicit√©.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilisation">Utilisation<a href="https://delpeuch.net/blog/2024/12/15/09-scripting/fastapi#utilisation" class="hash-link" aria-label="Direct link to Utilisation" title="Direct link to Utilisation">‚Äã</a></h2>
<p>Pour installer FastAPI, vous pouvez utiliser pip :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">pip </span><span class="token function" style="color:hsl(207, 82%, 66%)">install</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"fastapi[standard]"</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>L'exemple ci dessous est une API simpliste de gestion des To-Do List permettant aux utilisateurs de cr√©√©r, lire, mettre √† jour et supprimer des t√¢ches. Les sp√©cifications sont les suivantes :</p>
<ol>
<li>Cr√©er une t√¢che : Permettre aux utilisateurs de cr√©er une nouvelle t√¢che avec un titre et une description.</li>
<li>Lire les t√¢ches : R√©cup√©rer la liste de toutes les t√¢ches ou une t√¢che sp√©cifique par son identifiant.</li>
<li>Mettre √† jour une t√¢che : Modifier les d√©tails d'une t√¢che existante.</li>
<li>Supprimer une t√¢che : Supprimer une t√¢che par son identifiant.</li>
</ol>
<p>L'exemple ci dessous m√©lange plusieurs fonctionnalit√©s de FastAPI.</p>
<div class="language-python codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-python codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> date</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> Optional</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> fastapi </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> FastAPI</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> Query</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> BaseModel</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">import</span><span class="token plain"> uvicorn</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">app </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> FastAPI</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    title</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    description</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    date</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> date</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">tasks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">list</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@app</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">post</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"/tasks/"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> response_model</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">create_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    tasks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> task</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@app</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">get</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"/tasks/"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> response_model</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">list</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">read_tasks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">skip</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> limit</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">10</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> tasks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">skip </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> skip </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+</span><span class="token plain"> limit</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@app</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">get</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"/tasks/{task_id}"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> response_model</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">read_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">task_id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">for</span><span class="token plain"> task </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> tasks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> task_id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> task</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string" style="color:hsl(95, 38%, 62%)">"error"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Task not found"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@app</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">put</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"/tasks/{task_id}"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> response_model</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">update_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">task_id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> updated_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">for</span><span class="token plain"> task </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> tasks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> task_id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">title </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> updated_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">title</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">description </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> updated_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">description</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">date </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> updated_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">date</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> task</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string" style="color:hsl(95, 38%, 62%)">"error"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Task not found"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@app</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">delete</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"/tasks/{task_id}"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">delete_task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">task_id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(95, 38%, 62%)">int</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">global</span><span class="token plain"> tasks</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    tasks </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">task </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">for</span><span class="token plain"> task </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> tasks </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">id</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!=</span><span class="token plain"> task_id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token string" style="color:hsl(95, 38%, 62%)">"message"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Task deleted"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">@app</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token decorator annotation punctuation" style="color:hsl(220, 14%, 71%)">get</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">"/search_tasks"</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> response_model</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">list</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">Task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">search_tasks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    title</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token builtin" style="color:hsl(95, 38%, 62%)">str</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> Query</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token boolean" style="color:hsl(29, 54%, 61%)">None</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> date</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">date</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> Query</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token boolean" style="color:hsl(29, 54%, 61%)">None</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    results </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> tasks</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> title</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        results </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">task </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">for</span><span class="token plain"> task </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> results </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> title</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">lower</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">title</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">lower</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> date</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        results </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">task </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">for</span><span class="token plain"> task </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">in</span><span class="token plain"> results </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">date </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> date</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token plain"> results</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour lancer l'application :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">fastapi run /path/to/file.py </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># production mode</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">fastapi dev /path/to/file.py </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># development mode</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>En plus de l'API, FastAPI g√©n√®re automatiquement une documentation interactive accessible √† l'adresse <code>http://127.0.0.1:8000/docs</code></p>
<p><img decoding="async" loading="lazy" alt="documentation" src="https://delpeuch.net/assets/images/fast-api-documentation-f41f2ce0ce73b19223cee5acb932ddb8.png" width="1186" height="879" class="img_ev3q"></p>]]></content>
        <category label="Devops" term="Devops"/>
        <category label="Python" term="Python"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Dokku]]></title>
        <id>https://delpeuch.net/blog/2024/11/30/06-orchestration/orchestration-dokku</id>
        <link href="https://delpeuch.net/blog/2024/11/30/06-orchestration/orchestration-dokku"/>
        <updated>2024-11-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Dokku est une plateforme open-source permettant le d√©ploiement, la gestion et la mise √† l'√©chelle des applications sur un serveur.]]></summary>
        <content type="html"><![CDATA[<p>Une alternative PAAS open source √† Heroku <a href="https://dokku.com/" target="_blank" rel="noopener noreferrer">https://dokku.com/</a>
Dokku est une plateforme open-source permettant le d√©ploiement, la gestion et la mise √† l'√©chelle des applications sur un serveur. Inspir√© par Heroku, il utilise une approche similaire pour le d√©ploiement d'applications : le code se d√©ploie en effectuant un "push" vers un d√©p√¥t Git sur le serveur. √Ä la diff√©rence de Heroku, Dokku offre un contr√¥le total sur l'environnement de d√©ploiement. Ainsi, l'infrastructure, le syst√®me d'exploitation et les services (tels que les bases de donn√©es ou les files d'attente de t√¢ches) peuvent √™tre personnalis√©s selon les besoins. Dokku s'appuie sur Docker pour g√©rer les applications dans des conteneurs isol√©s, ce qui simplifie la gestion des applications et de leurs d√©pendances. Chaque "push" d'une application √† Dokku cr√©e un nouveau conteneur Docker.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="https://delpeuch.net/blog/2024/11/30/06-orchestration/orchestration-dokku#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">‚Äã</a></h2>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># download the installation script</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">wget</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-NP</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">.</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">https://dokku.com/bootstrap.sh</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># run the installer</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">DOKKU_TAG</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">v0.32.3 </span><span class="token function" style="color:hsl(207, 82%, 66%)">bash</span><span class="token plain"> bootstrap.sh</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># and your ssh key to the dokku user</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">PUBLIC_KEY</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">"your-public-key-contents-here"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$PUBLIC_KEY</span><span class="token string" style="color:hsl(95, 38%, 62%)">"</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">|</span><span class="token plain"> dokku ssh-keys:add admin</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="premi√®re-application">Premi√®re application<a href="https://delpeuch.net/blog/2024/11/30/06-orchestration/orchestration-dokku#premi%C3%A8re-application" class="hash-link" aria-label="Direct link to Premi√®re application" title="Direct link to Premi√®re application">‚Äã</a></h2>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># define global domains</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">dokku domains:set-global </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">your-domain</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># &lt;your-domain&gt; can be a rd party domain or a local domain like sonu-dev-gzsim.local</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sur la machine o√π <code>dokku</code> est install√©</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">dokku apps:create </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">app-name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> dokku plugin:install </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">https://github.com/dokku/dokku-postgres.git</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">dokku postgres:create railsdatabase</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">dokku postgres:link railsdatabase </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">app-name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sur la machine locale</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">cd</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">app-name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">git</span><span class="token plain"> remote </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> dokku dokku@</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">your-domain</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain">:</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">app-name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">git</span><span class="token plain"> push dokku main</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="construire-sa-propre-application">Construire sa propre application<a href="https://delpeuch.net/blog/2024/11/30/06-orchestration/orchestration-dokku#construire-sa-propre-application" class="hash-link" aria-label="Direct link to Construire sa propre application" title="Direct link to Construire sa propre application">‚Äã</a></h2>
<p>Dokku supporte plusieurs m√©thodes de build pour cr√©er des applications, chacun avec ses propres avantages sp√©cifiques :</p>
<ol>
<li><a href="https://dokku.com/docs/deployment/builders/dockerfiles/" target="_blank" rel="noopener noreferrer"><strong>builder-dockerfile</strong></a>: Cette m√©thode utilise un Dockerfile pour construire des applications via la commande <code>docker build</code>. Il donne un contr√¥le maximal sur l'environnement d'ex√©cution de l'application et sur la mani√®re dont l'application est assembl√©e.</li>
<li><a href="https://dokku.com/docs/deployment/builders/herokuish-buildpacks/" target="_blank" rel="noopener noreferrer"><strong>builder-herokuish</strong></a>: Avec cette m√©thode, Dokku cr√©e des applications en utilisant la sp√©cification v2a Buildpack de Heroku via <code>gliderlabs/herokuish</code>. Il vous permet de profiter du m√™me pipeline de build que Heroku, qui inclut le support pour de nombreux langages de programmation par d√©faut.</li>
<li>builder-lambda: Ce g√©n√©rateur construit des fonctions AWS Lambda dans un environnement simulant les temps d'ex√©cution d'AWS Lambda.</li>
<li><strong>builder-null</strong>: Cette m√©thode ne fait rien pendant la phase de construction. C'est utile pour les sc√©narios o√π aucune construction n'est n√©cessaire, comme le d√©ploiement d'applications d√©j√† compil√©es ou de conteneurs Docker.</li>
<li><strong>builder-pack</strong>: Cette m√©thode utilise les Cloud Native Buildpacks pour construire des applications via l'outil pack-cli. Les Cloud Native Buildpacks sont une norme ouverte qui √©tend les capacit√©s des Buildpacks classiques.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="automatiser-le-d√©ploiement-via-github-actions">Automatiser le d√©ploiement via Github Actions<a href="https://delpeuch.net/blog/2024/11/30/06-orchestration/orchestration-dokku#automatiser-le-d%C3%A9ploiement-via-github-actions" class="hash-link" aria-label="Direct link to Automatiser le d√©ploiement via Github Actions" title="Direct link to Automatiser le d√©ploiement via Github Actions">‚Äã</a></h2>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Deploy to Dokku (sonu</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">dev</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">gzsim)</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">schedule</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">cron</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'0 0 * * *'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">workflow_dispatch</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">workflow_run</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">workflows</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Test build"</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">types</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> completed</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">jobs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">deploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">runs-on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">group</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">steps</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Cloning repo</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> actions/checkout@v4</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">fetch-depth</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Tailscale</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> tailscale/github</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">action@v2</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">oauth-client-id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> secrets.TS_OAUTH_CLIENT_ID </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">oauth-secret</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> secrets.TS_OAUTH_SECRET </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">tags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> tag</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">server</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Push to dokku</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> dokku/github</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">action@master</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">git_remote_url</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'ssh://dokku@100.65.237.90:22/rd25-robotics'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ssh_private_key</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> secrets.SSH_PRIVATE_KEY </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">branch</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">git_push_flags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'--force'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">if</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> github.event.workflow_run.conclusion == 'success' </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="astuces">Astuces<a href="https://delpeuch.net/blog/2024/11/30/06-orchestration/orchestration-dokku#astuces" class="hash-link" aria-label="Direct link to Astuces" title="Direct link to Astuces">‚Äã</a></h2>
<p>‚ö†Ô∏è Les astuces ci dessous correspondent <strong>tr√®s certainement</strong> √† une incompr√©hension des m√©canismes de domain, proxy et reverse proxy</p>
<p>Par d√©faut <code>dokku</code> d√©ploie l‚Äôapplication sur une url construite comme suit : <code>http://&lt;app-name&gt;.&lt;your-domain&gt;</code> visiblement si le domaine est local (comme <code>sonu-dev-gzsim.local</code>) le reverse proxy ne fonctionne pas (la configuration <code>nginx</code> est √† creuser) il est donc n√©cessaire de <code>disable</code> les domains avec la commande</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">dokku domains:disable </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">app-name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cela aura pour effet de d√©sactiver le domaine pour l‚Äôapplication en question. Elle tournera donc directement sur le port d√©fini al√©atoirement par <code>dokku</code>.
√Ä chaque d√©ploiement, <code>dokku</code> construit un <code>dokker</code> pour g√©rer les applications de mani√®re isol√©e. Par d√©faut, les applications de type web doivent fournir leurs services sur le port <code>5000</code>. Par la suite, <code>dokku</code> s‚Äôoccupe de faire la redirection de port entre la machine et le container. Pour √©viter d‚Äôavoir un port al√©atoire, il est possible de faire</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">dokku ports:set </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">app-name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"> http:</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">machine-port</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain">:</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">docker-port</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ainsi, √† chaque d√©ploiement, <code>dokku</code> redirigera le port de la machine vers le port du docker.
Finalement si vous souhaitez mettre en place une redirection comme <code>http://&lt;your-domain&gt;/&lt;app-name&gt;</code> vers l‚Äôapplication il suffit de faire les modifications suivantes dans <code>nginx</code>
Modifiez le fichier de configuration de Nginx pour votre site :</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">nano</span><span class="token plain"> /etc/nginx/sites-available/your-config-file</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ajoutez la directive location dans votre configuration :</p>
<div class="language-txt codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-txt codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">server { listen 80; server_name &lt;your-domain&gt;; location = &lt;app-name&gt; { return 301 http://$host:&lt;machine-port&gt;; } }</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cr√©ez un lien symbolique vers le fichier de configuration :</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">ln</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-s</span><span class="token plain"> /etc/nginx/sites-available/your-config-file /etc/nginx/sites-enabled/</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>V√©rifiez la configuration de Nginx :</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> nginx </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-t</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Red√©marrez Nginx pour appliquer les modifications :</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> systemctl restart nginx</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <category label="Devops" term="Devops"/>
        <category label="Orchestration" term="Orchestration"/>
        <category label="Alternatives" term="Alternatives"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Docker Compose]]></title>
        <id>https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose</id>
        <link href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose"/>
        <updated>2024-11-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Explication de Docker Compose]]></summary>
        <content type="html"><![CDATA[<p>Docker Compose est un outil puissant qui permet de d√©finir et de g√©rer des applications multi-conteneurs Docker. Il utilise un fichier YAML pour configurer les services de l'application. Ensuite, avec une seule commande, vous pouvez cr√©er et d√©marrer tous les services √† partir de votre configuration.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-que-docker-compose-">Qu'est-ce que Docker Compose ?<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#quest-ce-que-docker-compose-" class="hash-link" aria-label="Direct link to Qu'est-ce que Docker Compose ?" title="Direct link to Qu'est-ce que Docker Compose ?">‚Äã</a></h2>
<p>Docker Compose est un outil qui permet de d√©finir et de g√©rer des applications multi-conteneurs Docker. Il utilise un fichier YAML pour configurer les services de l'application. Ensuite, avec une seule commande, vous pouvez cr√©er et d√©marrer tous les services √† partir de votre configuration.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-fichier-docker-compose">Exemple de fichier Docker Compose<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#exemple-de-fichier-docker-compose" class="hash-link" aria-label="Direct link to Exemple de fichier Docker Compose" title="Direct link to Exemple de fichier Docker Compose">‚Äã</a></h2>
<p>Voici un exemple de fichier <code>docker-compose.yml</code> pour une application web simple avec un service web et une base de donn√©es :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'3'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">web</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ports</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"80:80"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">db</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> postgres</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">environment</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">POSTGRES_DB</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> exampledb</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">POSTGRES_USER</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> exampleuser</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">POSTGRES_PASSWORD</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> examplepass</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, nous avons deux services : <code>web</code> et <code>db</code>. Le service <code>web</code> utilise l'image <code>nginx:alpine</code> et mappe le port 80 du conteneur au port 80 de l'h√¥te. Le service <code>db</code> utilise l'image <code>postgres:alpine</code> et d√©finit quelques variables d'environnement pour configurer la base de donn√©es.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="commandes-docker-compose">Commandes Docker Compose<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#commandes-docker-compose" class="hash-link" aria-label="Direct link to Commandes Docker Compose" title="Direct link to Commandes Docker Compose">‚Äã</a></h2>
<p>Voici quelques commandes Docker Compose couramment utilis√©es :</p>
<ul>
<li><code>docker-compose up</code> : Cr√©e et d√©marre les conteneurs d√©finis dans le fichier <code>docker-compose.yml</code>.</li>
<li><code>docker-compose down</code> : Arr√™te et supprime les conteneurs, les r√©seaux et les volumes cr√©√©s par <code>docker-compose up</code>.</li>
<li><code>docker-compose ps</code> : Affiche l'√©tat des conteneurs d√©finis dans le fichier <code>docker-compose.yml</code>.</li>
<li><code>docker-compose logs</code> : Affiche les logs des conteneurs.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sch√©ma-explicatif">Sch√©ma explicatif<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#sch%C3%A9ma-explicatif" class="hash-link" aria-label="Direct link to Sch√©ma explicatif" title="Direct link to Sch√©ma explicatif">‚Äã</a></h2>
<p>Voici un sch√©ma expliquant comment Docker Compose fonctionne :</p>
<p><img decoding="async" loading="lazy" src="https://www.biaudelle.fr/wp-content/uploads/2021/07/docker-compose-archi.png" alt="Sch√©ma Docker Compose" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="d√©monstration-pratique">D√©monstration pratique<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#d%C3%A9monstration-pratique" class="hash-link" aria-label="Direct link to D√©monstration pratique" title="Direct link to D√©monstration pratique">‚Äã</a></h2>
<p>Pour mieux comprendre l'utilisation de Docker Compose, voici une d√©monstration pratique :</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> network create mynetwork</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker-compose</span><span class="token plain"> up </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-d</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker-compose</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">ps</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ouvrez votre navigateur et acc√©dez √† <code>http://localhost</code>.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker-compose</span><span class="token plain"> down</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="avantages-cl√©s-de-docker-compose">Avantages cl√©s de Docker Compose<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#avantages-cl%C3%A9s-de-docker-compose" class="hash-link" aria-label="Direct link to Avantages cl√©s de Docker Compose" title="Direct link to Avantages cl√©s de Docker Compose">‚Äã</a></h2>
<p>L'utilisation de Docker Compose offre plusieurs avantages qui simplifient le d√©veloppement, le d√©ploiement et la gestion des applications conteneuris√©es :</p>
<ul>
<li><strong>Contr√¥le simplifi√©</strong> : Docker Compose vous permet de d√©finir et de g√©rer des applications multi-conteneurs dans un seul fichier YAML. Cela simplifie la t√¢che complexe d'orchestrer et de coordonner divers services, rendant plus facile la gestion et la r√©plication de votre environnement applicatif.</li>
<li><strong>Collaboration efficace</strong> : Les fichiers de configuration Docker Compose sont faciles √† partager, facilitant la collaboration entre les d√©veloppeurs, les √©quipes d'exploitation et les autres parties prenantes. Cette approche collaborative conduit √† des flux de travail plus fluides, une r√©solution des probl√®mes plus rapide et une efficacit√© globale accrue.</li>
<li><strong>D√©veloppement rapide d'applications</strong> : Compose met en cache la configuration utilis√©e pour cr√©er un conteneur. Lorsque vous red√©marrez un service qui n'a pas chang√©, Compose r√©utilise les conteneurs existants. La r√©utilisation des conteneurs signifie que vous pouvez apporter des modifications √† votre environnement tr√®s rapidement.</li>
<li><strong>Portabilit√© entre les environnements</strong> : Compose prend en charge les variables dans le fichier Compose. Vous pouvez utiliser ces variables pour personnaliser votre composition pour diff√©rents environnements ou diff√©rents utilisateurs.</li>
<li><strong>Communaut√© et support √©tendus</strong> : Docker Compose b√©n√©ficie d'une communaut√© dynamique et active, ce qui signifie des ressources abondantes, des tutoriels et un support. Cet √©cosyst√®me communautaire contribue √† l'am√©lioration continue de Docker Compose et aide les utilisateurs √† r√©soudre efficacement les probl√®mes.</li>
</ul>
<p>Compose peut √™tre utilis√© de nombreuses mani√®res diff√©rentes. Voici quelques cas d'utilisation courants.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environnements-de-d√©veloppement">Environnements de d√©veloppement<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#environnements-de-d%C3%A9veloppement" class="hash-link" aria-label="Direct link to Environnements de d√©veloppement" title="Direct link to Environnements de d√©veloppement">‚Äã</a></h3>
<p>Lorsque vous d√©veloppez des logiciels, la capacit√© √† ex√©cuter une application dans un environnement isol√© et √† interagir avec elle est cruciale. L'outil en ligne de commande Compose peut √™tre utilis√© pour cr√©er l'environnement et interagir avec lui.</p>
<p>Le fichier Compose fournit un moyen de documenter et de configurer toutes les d√©pendances de service de l'application (bases de donn√©es, files d'attente, caches, API de services web, etc.). En utilisant l'outil en ligne de commande Compose, vous pouvez cr√©er et d√©marrer un ou plusieurs conteneurs pour chaque d√©pendance avec une seule commande (<code>docker compose up</code>).</p>
<p>Ensemble, ces fonctionnalit√©s offrent un moyen pratique de d√©marrer un projet. Compose peut r√©duire un "guide de d√©marrage pour les d√©veloppeurs" de plusieurs pages √† un seul fichier Compose lisible par machine et quelques commandes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environnements-de-test-automatis√©s">Environnements de test automatis√©s<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#environnements-de-test-automatis%C3%A9s" class="hash-link" aria-label="Direct link to Environnements de test automatis√©s" title="Direct link to Environnements de test automatis√©s">‚Äã</a></h3>
<p>Une partie importante de tout processus de d√©ploiement continu ou d'int√©gration continue est la suite de tests automatis√©s. Les tests automatis√©s de bout en bout n√©cessitent un environnement dans lequel ex√©cuter les tests. Compose fournit un moyen pratique de cr√©er et de d√©truire des environnements de test isol√©s pour votre suite de tests. En d√©finissant l'environnement complet dans un fichier Compose, vous pouvez cr√©er et d√©truire ces environnements en quelques commandes seulement.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d√©ploiements-sur-un-seul-h√¥te">D√©ploiements sur un seul h√¥te<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#d%C3%A9ploiements-sur-un-seul-h%C3%B4te" class="hash-link" aria-label="Direct link to D√©ploiements sur un seul h√¥te" title="Direct link to D√©ploiements sur un seul h√¥te">‚Äã</a></h3>
<p>Compose a traditionnellement √©t√© ax√© sur les flux de travail de d√©veloppement et de test, mais √† chaque nouvelle version, nous progressons sur des fonctionnalit√©s plus orient√©es vers la production.</p>
<p>Pour plus de d√©tails sur l'utilisation des fonctionnalit√©s orient√©es production, consultez <a href="https://docs.docker.com/compose/production/" target="_blank" rel="noopener noreferrer">Compose en production</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilisation-des-secrets-avec-docker-compose">Utilisation des secrets avec Docker Compose<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#utilisation-des-secrets-avec-docker-compose" class="hash-link" aria-label="Direct link to Utilisation des secrets avec Docker Compose" title="Direct link to Utilisation des secrets avec Docker Compose">‚Äã</a></h2>
<p>Docker Compose permet √©galement de g√©rer les secrets de mani√®re s√©curis√©e. Les secrets sont des informations sensibles telles que des mots de passe, des cl√©s API, etc., qui ne doivent pas √™tre expos√©es dans le code source.</p>
<p>Voici un exemple de configuration de secrets dans un fichier <code>docker-compose.yml</code> :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'3.7'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">web</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">secrets</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> my_secret</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">secrets</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">my_secret</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">file</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ./my_secret.txt</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, le service <code>web</code> utilise un secret nomm√© <code>my_secret</code> qui est d√©fini dans le fichier <code>my_secret.txt</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="support-des-gpu-avec-docker-compose">Support des GPU avec Docker Compose<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#support-des-gpu-avec-docker-compose" class="hash-link" aria-label="Direct link to Support des GPU avec Docker Compose" title="Direct link to Support des GPU avec Docker Compose">‚Äã</a></h2>
<p>Docker Compose prend √©galement en charge l'utilisation des GPU pour les applications n√©cessitant des capacit√©s de calcul intensif, telles que l'apprentissage automatique et le traitement d'images.</p>
<p>Voici un exemple de configuration pour utiliser un GPU avec Docker Compose :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'3.8'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">gpu_service</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nvidia/cuda</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">10.2</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">base</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">deploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">resources</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">reservations</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">devices</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">capabilities</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">gpu</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, le service <code>gpu_service</code> utilise l'image <code>nvidia/cuda:10.2-base</code> et r√©serve un GPU pour le conteneur.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilisation-de-la-surveillance-des-fichiers-avec-docker-compose">Utilisation de la surveillance des fichiers avec Docker Compose<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#utilisation-de-la-surveillance-des-fichiers-avec-docker-compose" class="hash-link" aria-label="Direct link to Utilisation de la surveillance des fichiers avec Docker Compose" title="Direct link to Utilisation de la surveillance des fichiers avec Docker Compose">‚Äã</a></h2>
<p>Docker Compose permet √©galement de surveiller les modifications des fichiers et de red√©marrer automatiquement les services concern√©s. Cela est particuli√®rement utile pour les environnements de d√©veloppement.</p>
<p>Voici un exemple de configuration de surveillance des fichiers dans un fichier <code>docker-compose.yml</code> :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'3.8'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">web</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> ./src</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">/usr/share/nginx/html</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">command</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> sh </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">c "nginx </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">g 'daemon off;'"</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">file_watch</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">watch</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ./src</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">action</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> restart</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans cet exemple, le service <code>web</code> surveille les modifications dans le r√©pertoire <code>./src</code> et red√©marre automatiquement le service lorsque des modifications sont d√©tect√©es.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="r√©seau-dans-compose">R√©seau dans Compose<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#r%C3%A9seau-dans-compose" class="hash-link" aria-label="Direct link to R√©seau dans Compose" title="Direct link to R√©seau dans Compose">‚Äã</a></h2>
<blockquote>
<p><strong>Important</strong></p>
<p>La documentation de Docker se r√©f√®re et d√©crit les fonctionnalit√©s de Compose V2.</p>
<p>√Ä partir de juillet 2023, Compose V1 a cess√© de recevoir des mises √† jour et n'est plus inclus dans les nouvelles versions de Docker Desktop. Compose V2 l'a remplac√© et est maintenant int√©gr√© dans toutes les versions actuelles de Docker Desktop. Pour plus d'informations, consultez <a href="https://docs.docker.com/compose/migrate" target="_blank" rel="noopener noreferrer">Migrer vers Compose V2</a>.</p>
</blockquote>
<p>Par d√©faut, Compose configure un seul <a href="https://docs.docker.com/reference/cli/docker/network/create/" target="_blank" rel="noopener noreferrer">r√©seau</a> pour votre application. Chaque conteneur pour un service rejoint le r√©seau par d√©faut et est √† la fois accessible par d'autres conteneurs sur ce r√©seau et d√©couvrable par le nom du service.</p>
<blockquote>
<p><strong>Remarque</strong></p>
<p>Le r√©seau de votre application re√ßoit un nom bas√© sur le "nom du projet", qui est bas√© sur le nom du r√©pertoire dans lequel il se trouve. Vous pouvez remplacer le nom du projet avec soit le <a href="https://docs.docker.com/reference/" target="_blank" rel="noopener noreferrer">flag <code>--project-name</code></a> soit la <a href="https://docs.docker.com/compose/environment-variables/envvars/#compose_project_name" target="_blank" rel="noopener noreferrer">variable d'environnement <code>COMPOSE_PROJECT_NAME</code></a>.</p>
</blockquote>
<p>Par exemple, supposons que votre application se trouve dans un r√©pertoire appel√© <code>myapp</code>, et que votre <code>compose.yml</code> ressemble √† ceci :</p>
<p>Lorsque vous ex√©cutez <code>docker compose up</code>, les actions suivantes se produisent :</p>
<ol>
<li>Un r√©seau appel√© <code>myapp_default</code> est cr√©√©.</li>
<li>Un conteneur est cr√©√© en utilisant la configuration de <code>web</code>. Il rejoint le r√©seau <code>myapp_default</code> sous le nom <code>web</code>.</li>
<li>Un conteneur est cr√©√© en utilisant la configuration de <code>db</code>. Il rejoint le r√©seau <code>myapp_default</code> sous le nom <code>db</code>.</li>
</ol>
<p>Chaque conteneur peut maintenant rechercher le nom du service <code>web</code> ou <code>db</code> et obtenir l'adresse IP appropri√©e du conteneur. Par exemple, le code de l'application de <code>web</code> pourrait se connecter √† l'URL <code>postgres://db:5432</code> et commencer √† utiliser la base de donn√©es Postgres.</p>
<p>Il est important de noter la distinction entre <code>HOST_PORT</code> et <code>CONTAINER_PORT</code>. Dans l'exemple ci-dessus, pour <code>db</code>, le <code>HOST_PORT</code> est <code>8001</code> et le port du conteneur est <code>5432</code> (par d√©faut pour postgres). La communication de service √† service en r√©seau utilise le <code>CONTAINER_PORT</code>. Lorsque <code>HOST_PORT</code> est d√©fini, le service est √©galement accessible en dehors du swarm.</p>
<p>Dans le conteneur <code>web</code>, votre cha√Æne de connexion √† <code>db</code> ressemblerait √† <code>postgres://db:5432</code>, et depuis la machine h√¥te, la cha√Æne de connexion ressemblerait √† <code>postgres://{DOCKER_IP}:8001</code>, par exemple <code>postgres://localhost:8001</code> si votre conteneur s'ex√©cute localement.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mise-√†-jour-des-conteneurs-sur-le-r√©seau">Mise √† jour des conteneurs sur le r√©seau<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#mise-%C3%A0-jour-des-conteneurs-sur-le-r%C3%A9seau" class="hash-link" aria-label="Direct link to Mise √† jour des conteneurs sur le r√©seau" title="Direct link to Mise √† jour des conteneurs sur le r√©seau">‚Äã</a></h3>
<p>Si vous apportez une modification de configuration √† un service et ex√©cutez <code>docker compose up</code> pour le mettre √† jour, l'ancien conteneur est supprim√© et le nouveau rejoint le r√©seau sous une adresse IP diff√©rente mais avec le m√™me nom. Les conteneurs en cours d'ex√©cution peuvent rechercher ce nom et se connecter √† la nouvelle adresse, mais l'ancienne adresse cesse de fonctionner.</p>
<p>Si des conteneurs ont des connexions ouvertes vers l'ancien conteneur, elles sont ferm√©es. Il incombe au conteneur de d√©tecter cette condition, de rechercher √† nouveau le nom et de se reconnecter.</p>
<blockquote>
<p><strong>Astuce</strong></p>
<p>R√©f√©rencez les conteneurs par nom, et non par IP, chaque fois que possible. Sinon, vous devrez constamment mettre √† jour l'adresse IP que vous utilisez.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="r√©seau-multi-h√¥te">R√©seau multi-h√¥te<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#r%C3%A9seau-multi-h%C3%B4te" class="hash-link" aria-label="Direct link to R√©seau multi-h√¥te" title="Direct link to R√©seau multi-h√¥te">‚Äã</a></h3>
<p>Lors du d√©ploiement d'une application Compose sur un moteur Docker avec <a href="https://docs.docker.com/engine/swarm/" target="_blank" rel="noopener noreferrer">le mode Swarm activ√©</a>, vous pouvez utiliser le pilote int√©gr√© <code>overlay</code> pour activer la communication multi-h√¥te.</p>
<p>Les r√©seaux overlay sont toujours cr√©√©s comme <code>attachable</code>. Vous pouvez √©ventuellement d√©finir la propri√©t√© <a href="https://docs.docker.com/reference/compose-file/networks/#attachable" target="_blank" rel="noopener noreferrer"><code>attachable</code></a> sur <code>false</code>.</p>
<p>Consultez la <a href="https://docs.docker.com/engine/swarm/" target="_blank" rel="noopener noreferrer">section mode Swarm</a> pour savoir comment configurer un cluster Swarm, et le <a href="https://docs.docker.com/engine/network/tutorials/overlay/" target="_blank" rel="noopener noreferrer">guide de d√©marrage avec le r√©seau multi-h√¥te</a> pour en savoir plus sur les r√©seaux overlay multi-h√¥te.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sp√©cifier-des-r√©seaux-personnalis√©s">Sp√©cifier des r√©seaux personnalis√©s<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#sp%C3%A9cifier-des-r%C3%A9seaux-personnalis%C3%A9s" class="hash-link" aria-label="Direct link to Sp√©cifier des r√©seaux personnalis√©s" title="Direct link to Sp√©cifier des r√©seaux personnalis√©s">‚Äã</a></h3>
<p>Au lieu d'utiliser simplement le r√©seau d'application par d√©faut, vous pouvez sp√©cifier vos propres r√©seaux avec la cl√© de niveau sup√©rieur <code>networks</code>. Cela vous permet de cr√©er des topologies plus complexes et de sp√©cifier des <a href="https://docs.docker.com/engine/extend/plugins_network/" target="_blank" rel="noopener noreferrer">pilotes de r√©seau personnalis√©s</a> et des options. Vous pouvez √©galement l'utiliser pour connecter des services √† des r√©seaux cr√©√©s en externe qui ne sont pas g√©r√©s par Compose.</p>
<p>Chaque service peut sp√©cifier √† quels r√©seaux se connecter avec la cl√© de niveau service <code>networks</code>, qui est une liste de noms r√©f√©rencant des entr√©es sous la cl√© de niveau sup√©rieur <code>networks</code>.</p>
<p>L'exemple suivant montre un fichier Compose qui d√©finit deux r√©seaux personnalis√©s. Le service <code>proxy</code> est isol√© du service <code>db</code>, car ils ne partagent pas de r√©seau en commun. Seul <code>app</code> peut parler aux deux.</p>
<p>Les r√©seaux peuvent √™tre configur√©s avec des adresses IP statiques en d√©finissant l'<a href="https://docs.docker.com/reference/compose-file/services/#ipv4_address-ipv6_address" target="_blank" rel="noopener noreferrer">adresse ipv4 et/ou ipv6</a> pour chaque r√©seau attach√©.</p>
<p>Les r√©seaux peuvent √©galement recevoir un <a href="https://docs.docker.com/reference/compose-file/networks/#name" target="_blank" rel="noopener noreferrer">nom personnalis√©</a> :</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configurer-le-r√©seau-par-d√©faut">Configurer le r√©seau par d√©faut<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#configurer-le-r%C3%A9seau-par-d%C3%A9faut" class="hash-link" aria-label="Direct link to Configurer le r√©seau par d√©faut" title="Direct link to Configurer le r√©seau par d√©faut">‚Äã</a></h3>
<p>Au lieu de, ou en plus de, sp√©cifier vos propres r√©seaux, vous pouvez √©galement modifier les param√®tres du r√©seau par d√©faut de l'application en d√©finissant une entr√©e sous <code>networks</code> nomm√©e <code>default</code> :</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="utiliser-un-r√©seau-pr√©existant">Utiliser un r√©seau pr√©existant<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#utiliser-un-r%C3%A9seau-pr%C3%A9existant" class="hash-link" aria-label="Direct link to Utiliser un r√©seau pr√©existant" title="Direct link to Utiliser un r√©seau pr√©existant">‚Äã</a></h3>
<p>Si vous souhaitez que vos conteneurs rejoignent un r√©seau pr√©existant, utilisez l'option <a href="https://docs.docker.com/reference/compose-file/networks/#external" target="_blank" rel="noopener noreferrer"><code>external</code></a></p>
<p>Au lieu de tenter de cr√©er un r√©seau appel√© <code>[projectname]_default</code>, Compose recherche un r√©seau appel√© <code>my-pre-existing-network</code> et connecte les conteneurs de votre application √† celui-ci.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="https://delpeuch.net/blog/2024/11/01/06-orchestration/docker-compose#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>Docker Compose est un outil puissant pour g√©rer des applications multi-conteneurs. Il simplifie la configuration, l'isolation des environnements et la portabilit√© des applications. En utilisant Docker Compose, vous pouvez facilement d√©finir et g√©rer des environnements de d√©veloppement, de test et de mise en sc√®ne, ainsi que des d√©ploiements de production simples.</p>
<p>Pour en savoir plus sur Docker Compose, vous pouvez consulter la <a href="https://docs.docker.com/compose/" target="_blank" rel="noopener noreferrer">documentation officielle</a>.</p>]]></content>
        <category label="Docker Compose" term="Docker Compose"/>
        <category label="Devops" term="Devops"/>
        <category label="Orchestration" term="Orchestration"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Containerization vs Virtualization]]></title>
        <id>https://delpeuch.net/blog/2024/10/15/03-containerization/difference-conteneurisation-virtualisation</id>
        <link href="https://delpeuch.net/blog/2024/10/15/03-containerization/difference-conteneurisation-virtualisation"/>
        <updated>2024-10-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Comparaison entre Docker et les machines virtuelles (VM) en termes de taille d'image, de vitesse et de compatibilit√©.]]></summary>
        <content type="html"><![CDATA[<p>Docker et les machines virtuelles (VM) sont des outils de virtualisation, mais ils fonctionnent diff√©remment. Docker virtualise la couche des applications du syst√®me d'exploitation, utilisant le noyau de l'h√¥te, tandis qu'une VM virtualise l'ensemble du syst√®me d'exploitation, incluant son propre noyau et sa couche d'applications. Cette diff√©rence entra√Æne plusieurs distinctions majeures.</p>
<p>Docker et les machines virtuelles (VM) sont des outils de virtualisation, mais ils fonctionnent diff√©remment. Docker virtualise la couche des applications du syst√®me d'exploitation, utilisant le noyau de l'h√¥te, tandis qu'une VM virtualise l'ensemble du syst√®me d'exploitation, incluant son propre noyau et sa couche d'applications. Cette diff√©rence entra√Æne plusieurs distinctions majeures.</p>
<p>Les images Docker sont beaucoup plus petites et rapides √† t√©l√©charger que les images de VM, car elles n'ont qu'une seule couche √† impl√©menter. Les images Docker sont g√©n√©ralement de quelques m√©gaoctets, tandis que les images de VM peuvent atteindre plusieurs gigaoctets.</p>
<p>Les conteneurs Docker d√©marrent beaucoup plus rapidement que les VM, car ils n'ont besoin de d√©marrer que la couche des applications, contrairement aux VM qui doivent d√©marrer l'ensemble du syst√®me d'exploitation.</p>
<p>Docker pr√©sente des probl√®mes de compatibilit√©. Une image de VM de n'importe quel syst√®me d'exploitation peut √™tre ex√©cut√©e sur n'importe quel h√¥te, mais ce n'est pas le cas pour Docker. Par exemple, une image Docker bas√©e sur Linux ne peut pas utiliser le noyau Windows directement. Cependant, Docker Desktop permet de contourner ce probl√®me en utilisant une couche hyperviseur avec une distribution Linux l√©g√®re pour fournir le noyau n√©cessaire.</p>
<p>En r√©sum√©, Docker est plus l√©ger et rapide, mais moins compatible que les VM. Docker Desktop permet de d√©velopper localement sur Windows ou Mac en ex√©cutant des conteneurs bas√©s sur Linux.</p>]]></content>
        <category label="Containerization" term="Containerization"/>
        <category label="Virtualization" term="Virtualization"/>
        <category label="Docker" term="Docker"/>
        <category label="VM" term="VM"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[GitHub GHCR]]></title>
        <id>https://delpeuch.net/blog/2024/09/31/03-containerization/ghrc</id>
        <link href="https://delpeuch.net/blog/2024/09/31/03-containerization/ghrc"/>
        <updated>2024-10-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[GitHub Container Registry (GHCR) est un service d'h√©bergement de packages logiciels propos√© par GitHub, permettant aux utilisateurs de stocker des packages priv√©s ou publics et de les utiliser comme d√©pendances dans leurs projets. Compatible avec plusieurs langages de programmation, GitHub Packages propose des registres pour des gestionnaires de packages tels que npm, RubyGems, Maven, Gradle, Docker, et NuGet. L'authentification sur GitHub Packages se fait exclusivement via un "personal access token (classic)". Les utilisateurs doivent disposer de ce token pour effectuer des op√©rations telles que la publication, l'installation et la suppression de packages, qu'ils soient publics, priv√©s ou internes. Pour les packages priv√©s, GitHub Packages applique des limites de stockage et de transfert de donn√©es en fonction du plan du compte. La gestion des packages peut √™tre r√©alis√©e √† travers l'interface utilisateur GitHub ou via l'API REST. Des webhooks peuvent √©galement √™tre configur√©s pour suivre des √©v√©nements li√©s aux packages, comme la publication ou la mise √† jour.]]></summary>
        <content type="html"><![CDATA[<p>GitHub Container Registry (GHCR) est un service d'h√©bergement de packages logiciels propos√© par GitHub, permettant aux utilisateurs de stocker des packages priv√©s ou publics et de les utiliser comme d√©pendances dans leurs projets. Compatible avec plusieurs langages de programmation, GitHub Packages propose des registres pour des gestionnaires de packages tels que npm, RubyGems, Maven, Gradle, Docker, et NuGet. L'authentification sur GitHub Packages se fait exclusivement via un "personal access token (classic)". Les utilisateurs doivent disposer de ce token pour effectuer des op√©rations telles que la publication, l'installation et la suppression de packages, qu'ils soient publics, priv√©s ou internes. Pour les packages priv√©s, GitHub Packages applique des limites de stockage et de transfert de donn√©es en fonction du plan du compte. La gestion des packages peut √™tre r√©alis√©e √† travers l'interface utilisateur GitHub ou via l'API REST. Des webhooks peuvent √©galement √™tre configur√©s pour suivre des √©v√©nements li√©s aux packages, comme la publication ou la mise √† jour.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-que-github-ghcr">Qu'est-ce que GitHub GHCR?<a href="https://delpeuch.net/blog/2024/09/31/03-containerization/ghrc#quest-ce-que-github-ghcr" class="hash-link" aria-label="Direct link to Qu'est-ce que GitHub GHCR?" title="Direct link to Qu'est-ce que GitHub GHCR?">‚Äã</a></h2>
<p>GitHub Container Registry (GHCR) est un service d'h√©bergement de conteneurs Docker propos√© par GitHub. Il permet aux utilisateurs de stocker, g√©rer et distribuer des images Docker en toute s√©curit√©. GHCR est int√©gr√© √† GitHub, ce qui facilite l'utilisation des conteneurs dans les workflows de d√©veloppement et de d√©ploiement.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pourquoi-utiliser-github-ghcr">Pourquoi utiliser GitHub GHCR?<a href="https://delpeuch.net/blog/2024/09/31/03-containerization/ghrc#pourquoi-utiliser-github-ghcr" class="hash-link" aria-label="Direct link to Pourquoi utiliser GitHub GHCR?" title="Direct link to Pourquoi utiliser GitHub GHCR?">‚Äã</a></h2>
<p>L'utilisation de GitHub GHCR pr√©sente plusieurs avantages :</p>
<ol>
<li>
<p><strong>S√©curit√©</strong> : GHCR offre des fonctionnalit√©s de s√©curit√© avanc√©es, telles que l'authentification et l'autorisation bas√©es sur les tokens d'acc√®s personnels (PAT). Les images peuvent √™tre priv√©es ou publiques, et les utilisateurs peuvent contr√¥ler l'acc√®s aux images en fonction de leurs besoins.</p>
</li>
<li>
<p><strong>Int√©gration avec GitHub</strong> : GHCR est √©troitement int√©gr√© √† GitHub, ce qui permet aux utilisateurs de g√©rer leurs images Docker directement depuis leurs d√©p√¥ts GitHub. Les workflows GitHub Actions peuvent √™tre utilis√©s pour automatiser la cr√©ation, le test et le d√©ploiement des images Docker.</p>
</li>
<li>
<p><strong>Gestion des versions</strong> : GHCR prend en charge la gestion des versions des images Docker, ce qui permet aux utilisateurs de suivre les modifications apport√©es aux images et de revenir √† des versions ant√©rieures si n√©cessaire.</p>
</li>
<li>
<p><strong>Suivi des √©v√©nements</strong> : GHCR permet de configurer des webhooks pour suivre les √©v√©nements li√©s aux images Docker, tels que la publication, la mise √† jour et la suppression. Cela permet aux utilisateurs de rester inform√©s des modifications apport√©es aux images et de r√©agir en cons√©quence.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-workflow-pour-utiliser-github-ghcr">Exemple de workflow pour utiliser GitHub GHCR<a href="https://delpeuch.net/blog/2024/09/31/03-containerization/ghrc#exemple-de-workflow-pour-utiliser-github-ghcr" class="hash-link" aria-label="Direct link to Exemple de workflow pour utiliser GitHub GHCR" title="Direct link to Exemple de workflow pour utiliser GitHub GHCR">‚Äã</a></h2>
<p>Le workflow suppose que vous avez un <code>Dockerfile</code> √† la racine du d√©p√¥t. Ce <code>Dockerfile</code> doit r√©ussir la commande de <code>build</code> avec succ√®s</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cr√©ez-un-fichier-yaml-pour-le-workflow">Cr√©ez un fichier YAML pour le Workflow<a href="https://delpeuch.net/blog/2024/09/31/03-containerization/ghrc#cr%C3%A9ez-un-fichier-yaml-pour-le-workflow" class="hash-link" aria-label="Direct link to Cr√©ez un fichier YAML pour le Workflow" title="Direct link to Cr√©ez un fichier YAML pour le Workflow">‚Äã</a></h3>
<p>Cr√©ez un fichier YAML (par exemple, <code>docker-publish.yml</code>) dans le r√©pertoire <code>.github/workflows/</code> de votre d√©p√¥t avec le contenu suivant :</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Create and publish a Docker image</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">push</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">branches</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token string" style="color:hsl(95, 38%, 62%)">'release'</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">env</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">REGISTRY</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ghcr.io</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">IMAGE_NAME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> github.repository </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">jobs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">build-and-push-image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">runs-on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">permissions</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">contents</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> read</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">packages</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> write</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">steps</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Checkout repository</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> actions/checkout@v4</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Log in to the Container registry</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> docker/login</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">action@65b78e6e13532edd9afa3aa52ac7964289d1a9c1</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">registry</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> env.REGISTRY </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">username</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> github.actor </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">password</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> secrets.GITHUB_TOKEN </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Extract metadata (tags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> labels) for Docker</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">id</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> meta</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> docker/metadata</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">images</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> env.REGISTRY </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain">/$</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> env.IMAGE_NAME </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Build and push Docker image</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> docker/build</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">push</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">action@f2a1d5e99d037542a71f64918e516c093c6f3fc4</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">context</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">push</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">tags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> steps.meta.outputs.tags </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">labels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> steps.meta.outputs.labels </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configurez-les-options-du-workflow">Configurez les Options du Workflow<a href="https://delpeuch.net/blog/2024/09/31/03-containerization/ghrc#configurez-les-options-du-workflow" class="hash-link" aria-label="Direct link to Configurez les Options du Workflow" title="Direct link to Configurez les Options du Workflow">‚Äã</a></h3>
<p>Dans le fichier YAML, vous pouvez personnaliser les options suivantes selon vos besoins :</p>
<ul>
<li><code>branches</code>: Modifiez la branche d√©clenchant le workflow.</li>
<li><code>REGISTRY</code> et <code>IMAGE_NAME</code>: Modifiez-les si vous souhaitez utiliser un autre registre ou nom d'image.</li>
<li><code>permissions</code>: Ajustez les autorisations en fonction de vos besoins.</li>
</ul>
<p><strong>Enregistrez et Poussez vos Modifications</strong>
Enregistrez les modifications dans le fichier YAML et poussez-les vers la branche "release" de votre d√©p√¥t GitHub.</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">git</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> .github/workflows/docker-publish.yml</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">git</span><span class="token plain"> commit </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-m</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"Ajout du workflow de publication Docker"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">git</span><span class="token plain"> push origin release</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="utilisation-dun-package-ghcr">Utilisation d‚Äôun package GHCR<a href="https://delpeuch.net/blog/2024/09/31/03-containerization/ghrc#utilisation-dun-package-ghcr" class="hash-link" aria-label="Direct link to Utilisation d‚Äôun package GHCR" title="Direct link to Utilisation d‚Äôun package GHCR">‚Äã</a></h3>
<p>Une fois d√©ploy√©, le package s‚Äôutilise comme n‚Äôimporte quel docker</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> pull ghcr.io/</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token environment constant" style="color:hsl(29, 54%, 61%)">USER</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain">/</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">REPO-NAME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain">:master</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>üí° L‚Äôutilisation des Github GHCR entraine des consommations d‚Äôespace. Le CATIE a le droit √† 2Gb de stockage sur GHCR et 10Gb de transit par mois. Au del√† de ces limites, nous sommes factur√©s.
L‚Äôutilisation (sous n‚Äôimporte quelle forme) de GHCR sur des d√©p√¥ts <strong>publics</strong> est totalement gratuite Sur des d√©p√¥ts priv√©s : le pull via des actions est gratuit. Pour les actions <code>self-hosted</code> le pull est gratuit si l‚Äôaction est authentifi√©e par le <code>GITHUB_TOKEN</code> et non un PAT.</p>
<p>Voici un exemple d‚Äôutilisation sans co√ªt associ√©</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Run in container from GHCR</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain"> push </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">jobs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">myJob</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">runs-on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">container</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ghcr.io/sedelpeuch/github</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">ghcr</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">test</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">master</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">steps</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Checkout code</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> actions/checkout@v2</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Run a command</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">run</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> echo "Running inside the container"</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>L‚Äôimage <a href="http://ghcr.io/sedelpeuch/github-ghcr-test:master" target="_blank" rel="noopener noreferrer">ghcr.io/sedelpeuch/github-ghcr-test<!-- -->:master</a> est priv√©e, l‚Äôacc√®s est possible sans donner de PAT gr√¢ce √† l‚Äôauthentification par jeton automatique qui poss√®de la lecture des packages priv√©s <a href="https://docs.github.com/fr/actions/security-guides/automatic-token-authentication#permissions-for-the-github_token" target="_blank" rel="noopener noreferrer">https://docs.github.com/fr/actions/security-guides/automatic-token-authentication#permissions-for-the-github_token</a></p>]]></content>
        <category label="Containerization" term="Containerization"/>
        <category label="Registry" term="Registry"/>
        <category label="GitHub" term="GitHub"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pratiques recommand√©es pour Docker]]></title>
        <id>https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices</id>
        <link href="https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices"/>
        <updated>2024-08-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[L'adoption de Docker augmente constamment et beaucoup le connaissent, mais tout le monde n'utilise pas Docker selon les meilleures pratiques.]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilisez-une-image-docker-officielle-et-v√©rifi√©e-comme-image-de-base-chaque-fois-disponible">Utilisez une image Docker officielle et v√©rifi√©e comme image de base, chaque fois disponible<a href="https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices#utilisez-une-image-docker-officielle-et-v%C3%A9rifi%C3%A9e-comme-image-de-base-chaque-fois-disponible" class="hash-link" aria-label="Direct link to Utilisez une image Docker officielle et v√©rifi√©e comme image de base, chaque fois disponible" title="Direct link to Utilisez une image Docker officielle et v√©rifi√©e comme image de base, chaque fois disponible">‚Äã</a></h2>
<p>Disons que vous d√©veloppez une application Node.js et que vous souhaitez la cr√©er et l'ex√©cuter en tant qu'image Docker.</p>
<p>Au lieu de prendre une image du syst√®me d'exploitation de base et d'installer Node.js, NPM et tous les autres outils dont vous avez besoin pour votre application, utilisez l'image de node officiel pour votre application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilisez-des-versions-dimage-docker-sp√©cifiques">Utilisez des versions d'image docker sp√©cifiques<a href="https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices#utilisez-des-versions-dimage-docker-sp%C3%A9cifiques" class="hash-link" aria-label="Direct link to Utilisez des versions d'image docker sp√©cifiques" title="Direct link to Utilisez des versions d'image docker sp√©cifiques">‚Äã</a></h2>
<p>D'accord, nous avons donc s√©lectionn√© l'image de base, mais maintenant lorsque nous construisons notre image d'applications √† partir de ce Dockerfile, il utilisera toujours la derni√®re balise de l'image de n≈ìud.</p>
<p>Ainsi, au lieu d'une √©tiquette d'image al√©atoire, vous souhaitez fixer la version, et tout comme vous d√©ployez votre propre application avec une version sp√©cifique, vous souhaitez utiliser l'image officielle avec une version sp√©cifique.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utiliser-des-images-officielles-de-petite-taille">Utiliser des images officielles de petite taille<a href="https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices#utiliser-des-images-officielles-de-petite-taille" class="hash-link" aria-label="Direct link to Utiliser des images officielles de petite taille" title="Direct link to Utiliser des images officielles de petite taille">‚Äã</a></h2>
<p>Lors du choix d'une image Node.js, vous verrez qu'il y a en fait plusieurs images officielles. Non seulement avec diff√©rents num√©ros de version mais aussi avec diff√©rentes distributions de syst√®mes d'exploitation:</p>
<ol>
<li>
<p>Taille de l'image : si l'image est bas√©e sur une distribution de syst√®me d'exploitation √† part enti√®re comme Ubuntu ou Centos, vous aurez un tas d'outils d√©j√† emball√©s dans l'image. Ainsi, la taille de l'image sera plus grande, mais vous n'avez pas besoin de la plupart de ces outils dans vos images d'application.</p>
</li>
<li>
<p>Probl√®me de s√©curit√© : avec de nombreux outils install√©s √† l'int√©rieur, vous devez consid√©rer l'aspect de s√©curit√©. Parce que ces images de base contiennent g√©n√©ralement <a href="https://snyk.io/blog/openSourcesEcurity-2020Survey/" target="_blank" rel="noopener noreferrer">des centaines de vuln√©rabilit√©s connues</a> et cr√©ent essentiellement une plus grande surface d'attaque √† votre image d'application.</p>
</li>
</ol>
<p>Ainsi, la meilleure pratique ici serait de s√©lectionner une image avec une version sp√©cifique bas√©e sur une distribution plus maigre comme Alpine.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimiser-la-mise-en-cache-pour-les-couches-dimage-lors-de-la-construction-dune-image">Optimiser la mise en cache pour les couches d'image lors de la construction d'une image<a href="https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices#optimiser-la-mise-en-cache-pour-les-couches-dimage-lors-de-la-construction-dune-image" class="hash-link" aria-label="Direct link to Optimiser la mise en cache pour les couches d'image lors de la construction d'une image" title="Direct link to Optimiser la mise en cache pour les couches d'image lors de la construction d'une image">‚Äã</a></h2>
<ol>
<li>Que sont les layer d'image? Une image Docker est construite sur la base d'un dockerfile.</li>
</ol>
<p>Et dans un dockerfile, chaque commande ou instruction cr√©e un layer d'image.</p>
<p>Ainsi, lorsque nous utilisons une image de base d'alpine, il a d√©j√† des layers, car il a d√©j√† √©t√© construit en utilisant son propre dockerfile. Dans notre dockerfile, nous avons quelques autres commandes qui ajouteront chacune un nouveau layer √† cette image.</p>
<p>Ainsi, lorsque vous reconstruisez votre image, si votre Dockerfile n'a pas chang√©, Docker n'utilisera que les layers en cache pour construire l'image.</p>
<p>Avantages des layers d'image en cache:</p>
<ul>
<li>Contruction d'image plus rapide</li>
<li>Push et pull plus rapides de nouvelles versions d'image: Si je pull une nouvelle version d'image de la m√™me application et, disons, 2 nouveaux layers ont √©t√© ajout√©es dans la nouvelle version: seule la nouvelle version des layers ajout√©es seront t√©l√©charg√©es Les autres sont d√©j√† mis en cache localement par Docker.</li>
</ul>
<p>Optimiser la mise en cache : une fois qu'un layer change, tous les layers suivants doivent √©galement √™tre recr√©√©es. En d'autres termes: lorsque vous modifiez le contenu d'une ligne dans le dockerfile, les caches de toutes les lignes ou layers suivantes seront invalid√©s.</p>
<p>Ainsi, la r√®gle ici et la meilleure pratique est: placez vos commandes dans le Dockerfile du moins au plus fr√©quemment modif√©.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="√†-laide-dun-fichier-dockerignore">√† l'aide d'un fichier .dockerignore<a href="https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices#%C3%A0-laide-dun-fichier-dockerignore" class="hash-link" aria-label="Direct link to √† l'aide d'un fichier .dockerignore" title="Direct link to √† l'aide d'un fichier .dockerignore">‚Äã</a></h2>
<p>C'est assez simple. Nous cr√©ons simplement ce fichier .dockerignore et r√©pertorions tous les fichiers et dossiers que nous voulons √™tre ignor√©s, et lors de la cr√©ation de l'image, Docker examinera le contenu et ignorera tout ce qui est sp√©cifi√© √† l'int√©rieur.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilisez-des-versions-multi-√©tages">Utilisez des versions multi-√©tages<a href="https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices#utilisez-des-versions-multi-%C3%A9tages" class="hash-link" aria-label="Direct link to Utilisez des versions multi-√©tages" title="Direct link to Utilisez des versions multi-√©tages">‚Äã</a></h2>
<p>Maintenant, disons qu'il existe un outil dans votre projet dont vous avez besoin pour construire l'image mais vous n'en avez pas besoin dans l'image finale pour ex√©cuter leapplication.</p>
<p>Supposons que vous conserviez ces artefacts dans votre image finale, m√™me s'ils sont absolument inutiles pour ex√©cuter l'application. Dans ce cas, cela entra√Ænera √† nouveau une augmentation de la taille de l'image et une augmentation de la surface d'attaque.</p>
<p>Pour cela, vous pouvez utiliser ce qu'on appelle les constructions √† plusieurs √©tages</p>
<p>La fonction de construction en plusieurs √©tapes vous permet d'utiliser plusieurs images temporaires pendant le processus de construction, mais ne conserve que la derni√®re image comme artefact final.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilisez-lutilisateur-le-moins-privil√©gi√©">Utilisez l'utilisateur le moins privil√©gi√©<a href="https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices#utilisez-lutilisateur-le-moins-privil%C3%A9gi%C3%A9" class="hash-link" aria-label="Direct link to Utilisez l'utilisateur le moins privil√©gi√©" title="Direct link to Utilisez l'utilisateur le moins privil√©gi√©">‚Äã</a></h2>
<p>Maintenant, lorsque nous cr√©ons cette image et que nous l'ex√©cutons finalement en tant que conteneur, quel utilisateur du syst√®me d'exploitation sera utilis√© pour d√©marrer l'application √† l'int√©rieur? Par d√©faut, lorsqu'un DockerFile ne sp√©cifie pas un utilisateur, il utilise un utilisateur root. Mais en r√©alit√©, il n'y a surtout aucune raison d'ex√©cuter des conteneurs avec des privil√®ges root.</p>
<p>Cela introduit essentiellement un probl√®me de s√©curit√© car lorsque le conteneur commence sur l'h√¥te, il aura potentiellement un acc√®s root sur l'h√¥te Docker.</p>
<p>Pour √©viter cela, la meilleure pratique consiste √† cr√©er simplement un utilisateur d√©di√© et un groupe d√©di√© dans l'image Docker pour ex√©cuter l'application et √©galement ex√©cuter l'application √† l'int√©rieur du conteneur avec cet utilisateur.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scannez-vos-images-pour-les-vuln√©rabilit√©s-de-s√©curit√©">Scannez vos images pour les vuln√©rabilit√©s de s√©curit√©<a href="https://delpeuch.net/blog/2024/08/30/03-containerization/docker-best-practices#scannez-vos-images-pour-les-vuln%C3%A9rabilit%C3%A9s-de-s%C3%A9curit%C3%A9" class="hash-link" aria-label="Direct link to Scannez vos images pour les vuln√©rabilit√©s de s√©curit√©" title="Direct link to Scannez vos images pour les vuln√©rabilit√©s de s√©curit√©">‚Äã</a></h2>
<p>Enfin, comment s'assurer et valider que l'image que vous construisez a peu ou pas de vuln√©rabilit√©s de s√©curit√© ?</p>
<p>La meilleure pratique est, une fois que vous avez construit l'image, la scannez pour des vuln√©rabilit√©s de s√©curit√© √† l'aide de la commande docker scan.</p>
<p>En arri√®re-plan, Docker utilise en fait un service appel√© SNYK pour faire la num√©risation de la vuln√©rabilit√© des images. Le scan utilise une base de donn√©es de vuln√©rabilit√©s, qui est constamment mise √† jour.</p>]]></content>
        <category label="Containerization" term="Containerization"/>
        <category label="Docker" term="Docker"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[D√©bogage des conteneurs Docker]]></title>
        <id>https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers</id>
        <link href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers"/>
        <updated>2024-08-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Guide pour d√©boguer les conteneurs Docker en utilisant des commandes de base et des options avanc√©es.]]></summary>
        <content type="html"><![CDATA[<p>Le d√©bogage des conteneurs Docker est une comp√©tence essentielle pour tout d√©veloppeur ou administrateur syst√®me travaillant avec des environnements conteneuris√©s. Docker offre une vari√©t√© de commandes et d'options pour aider √† identifier et r√©soudre les probl√®mes qui peuvent survenir dans les conteneurs. Dans cet article, nous allons explorer certaines des commandes de base et des techniques avanc√©es pour d√©boguer les conteneurs Docker.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="commandes-de-base-pour-le-d√©bogage">Commandes de base pour le d√©bogage<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#commandes-de-base-pour-le-d%C3%A9bogage" class="hash-link" aria-label="Direct link to Commandes de base pour le d√©bogage" title="Direct link to Commandes de base pour le d√©bogage">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-ps">docker ps<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#docker-ps" class="hash-link" aria-label="Direct link to docker ps" title="Direct link to docker ps">‚Äã</a></h3>
<p>La commande <code>docker ps</code> est utilis√©e pour lister les conteneurs en cours d'ex√©cution. Vous pouvez utiliser l'option <code>-a</code> pour afficher tous les conteneurs, qu'ils soient en cours d'ex√©cution ou arr√™t√©s.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">ps</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">ps</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-a</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-logs">docker logs<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#docker-logs" class="hash-link" aria-label="Direct link to docker logs" title="Direct link to docker logs">‚Äã</a></h3>
<p>La commande <code>docker logs</code> permet de visualiser les journaux d'un conteneur. Cela peut √™tre tr√®s utile pour identifier les erreurs ou les comportements inattendus.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> logs </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">container_id</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Vous pouvez √©galement utiliser le nom du conteneur √† la place de l'ID.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-exec">docker exec<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#docker-exec" class="hash-link" aria-label="Direct link to docker exec" title="Direct link to docker exec">‚Äã</a></h3>
<p>La commande <code>docker exec</code> permet d'ex√©cuter des commandes √† l'int√©rieur d'un conteneur en cours d'ex√©cution. Cela peut √™tre utile pour naviguer dans le syst√®me de fichiers du conteneur, v√©rifier les configurations ou ex√©cuter des scripts de diagnostic.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">exec</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-it</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">container_id</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"> /bin/bash</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-inspect">docker inspect<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#docker-inspect" class="hash-link" aria-label="Direct link to docker inspect" title="Direct link to docker inspect">‚Äã</a></h3>
<p>La commande <code>docker inspect</code> fournit des informations d√©taill√©es sur un conteneur ou une image Docker. Cela inclut des d√©tails sur la configuration, les r√©seaux, les volumes et plus encore.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> inspect </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">container_id</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="techniques-avanc√©es-de-d√©bogage">Techniques avanc√©es de d√©bogage<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#techniques-avanc%C3%A9es-de-d%C3%A9bogage" class="hash-link" aria-label="Direct link to Techniques avanc√©es de d√©bogage" title="Direct link to Techniques avanc√©es de d√©bogage">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="utilisation-de-docker-run-avec-des-options">Utilisation de docker run avec des options<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#utilisation-de-docker-run-avec-des-options" class="hash-link" aria-label="Direct link to Utilisation de docker run avec des options" title="Direct link to Utilisation de docker run avec des options">‚Äã</a></h3>
<p>La commande <code>docker run</code> peut √™tre utilis√©e avec diverses options pour faciliter le d√©bogage. Par exemple, l'option <code>-d</code> permet de d√©marrer un conteneur en mode d√©tach√©, tandis que l'option <code>-p</code> permet de mapper les ports entre l'h√¥te et le conteneur.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-p</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">8080</span><span class="token plain">:80 </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">image_name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="red√©marrage-des-conteneurs">Red√©marrage des conteneurs<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#red%C3%A9marrage-des-conteneurs" class="hash-link" aria-label="Direct link to Red√©marrage des conteneurs" title="Direct link to Red√©marrage des conteneurs">‚Äã</a></h3>
<p>Les commandes <code>docker start</code> et <code>docker stop</code> permettent de red√©marrer les conteneurs. Cela peut √™tre utile si vous avez apport√© des modifications √† la configuration du conteneur et que vous souhaitez les appliquer.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> stop </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">container_id</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> start </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">container_id</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nommage-des-conteneurs">Nommage des conteneurs<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#nommage-des-conteneurs" class="hash-link" aria-label="Direct link to Nommage des conteneurs" title="Direct link to Nommage des conteneurs">‚Äã</a></h3>
<p>Lorsque vous cr√©ez un conteneur, vous pouvez lui attribuer un nom pour faciliter son identification. Cela peut √™tre fait en utilisant l'option <code>--name</code> avec la commande <code>docker run</code>.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--name</span><span class="token plain"> my_container </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token plain">image_name</span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="https://delpeuch.net/blog/2024/08/15/03-containerization/debugging-docker-containers#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>Le d√©bogage des conteneurs Docker peut sembler complexe au d√©but, mais en utilisant les commandes et techniques appropri√©es, vous pouvez rapidement identifier et r√©soudre les probl√®mes. Les commandes de base comme <code>docker ps</code>, <code>docker logs</code>, <code>docker exec</code> et <code>docker inspect</code> sont essentielles pour tout d√©veloppeur ou administrateur syst√®me travaillant avec Docker. En combinant ces commandes avec des techniques avanc√©es comme l'utilisation de <code>docker run</code> avec des options et le red√©marrage des conteneurs, vous pouvez am√©liorer consid√©rablement votre efficacit√© dans le d√©bogage des conteneurs Docker.</p>]]></content>
        <category label="Docker" term="Docker"/>
        <category label="Debugging" term="Debugging"/>
        <category label="Containers" term="Containers"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Les containers Docker]]></title>
        <id>https://delpeuch.net/blog/2024/07/30/03-containerization/docker-containers</id>
        <link href="https://delpeuch.net/blog/2024/07/30/03-containerization/docker-containers"/>
        <updated>2024-07-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Pr√©sentation des conteneurs Docker, leur fonctionnement et des exemples d'utilisation.]]></summary>
        <content type="html"><![CDATA[<p>Les conteneurs Docker sont des unit√©s logicielles l√©g√®res et portables qui encapsulent une application et ses d√©pendances dans une image. Ces images sont compos√©es de plusieurs couches, souvent bas√©es sur une distribution Linux l√©g√®re comme Alpine, pour minimiser la taille. Les conteneurs permettent de maintenir des applications isol√©es et coh√©rentes, ind√©pendamment de l'environnement d'ex√©cution.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-quun-conteneur-docker-">Qu'est-ce qu'un conteneur Docker ?<a href="https://delpeuch.net/blog/2024/07/30/03-containerization/docker-containers#quest-ce-quun-conteneur-docker-" class="hash-link" aria-label="Direct link to Qu'est-ce qu'un conteneur Docker ?" title="Direct link to Qu'est-ce qu'un conteneur Docker ?">‚Äã</a></h2>
<p>Un conteneur Docker est une unit√© logicielle l√©g√®re et portable qui encapsule une application et ses d√©pendances dans une image. Ces images sont compos√©es de plusieurs couches, souvent bas√©es sur une distribution Linux l√©g√®re comme Alpine, pour minimiser la taille. Les conteneurs permettent de maintenir des applications isol√©es et coh√©rentes, ind√©pendamment de l'environnement d'ex√©cution.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="structure-dun-conteneur-docker">Structure d'un conteneur Docker<a href="https://delpeuch.net/blog/2024/07/30/03-containerization/docker-containers#structure-dun-conteneur-docker" class="hash-link" aria-label="Direct link to Structure d'un conteneur Docker" title="Direct link to Structure d'un conteneur Docker">‚Äã</a></h3>
<p>Un conteneur Docker est compos√© de plusieurs couches d'images empil√©es les unes sur les autres. √Ä la base de la plupart des conteneurs, on trouve une image Linux, souvent Alpine en raison de sa petite taille. Les couches sup√©rieures contiennent les d√©pendances et l'application elle-m√™me. Cette structure en couches permet de r√©utiliser les couches communes entre plusieurs conteneurs, r√©duisant ainsi la taille et le temps de t√©l√©chargement.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="diff√©rence-entre-une-image-docker-et-un-conteneur-docker">Diff√©rence entre une image Docker et un conteneur Docker<a href="https://delpeuch.net/blog/2024/07/30/03-containerization/docker-containers#diff%C3%A9rence-entre-une-image-docker-et-un-conteneur-docker" class="hash-link" aria-label="Direct link to Diff√©rence entre une image Docker et un conteneur Docker" title="Direct link to Diff√©rence entre une image Docker et un conteneur Docker">‚Äã</a></h3>
<p>Une image Docker est un package statique qui contient tout ce dont une application a besoin pour fonctionner : le code, les biblioth√®ques, les d√©pendances et les configurations. C'est un mod√®le pr√™t √† √™tre ex√©cut√©. En revanche, un conteneur Docker est une instance en cours d'ex√©cution de cette image. Lorsque vous d√©marrez un conteneur, Docker utilise l'image pour cr√©er un environnement isol√© o√π l'application peut s'ex√©cuter. En d'autres termes, une image est un mod√®le, tandis qu'un conteneur est une instance active de ce mod√®le.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="commandes-docker-de-base">Commandes Docker de base<a href="https://delpeuch.net/blog/2024/07/30/03-containerization/docker-containers#commandes-docker-de-base" class="hash-link" aria-label="Direct link to Commandes Docker de base" title="Direct link to Commandes Docker de base">‚Äã</a></h2>
<p>Voici quelques commandes Docker de base pour g√©rer les conteneurs :</p>
<ul>
<li><code>docker run</code> : Cette commande permet de cr√©er et de d√©marrer un conteneur √† partir d'une image Docker. Par exemple, <code>docker run redis</code> d√©marre un conteneur Redis.</li>
<li><code>docker ps</code> : Cette commande affiche la liste des conteneurs en cours d'ex√©cution. Par exemple, <code>docker ps</code> montre tous les conteneurs actifs.</li>
<li><code>docker stop</code> : Cette commande arr√™te un conteneur en cours d'ex√©cution. Par exemple, <code>docker stop &lt;container_id&gt;</code> arr√™te le conteneur sp√©cifi√©.</li>
<li><code>docker start</code> : Cette commande red√©marre un conteneur arr√™t√©. Par exemple, <code>docker start &lt;container_id&gt;</code> red√©marre le conteneur sp√©cifi√©.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-pratique--utilisation-de-postgresql-avec-docker">Exemple pratique : Utilisation de PostgreSQL avec Docker<a href="https://delpeuch.net/blog/2024/07/30/03-containerization/docker-containers#exemple-pratique--utilisation-de-postgresql-avec-docker" class="hash-link" aria-label="Direct link to Exemple pratique : Utilisation de PostgreSQL avec Docker" title="Direct link to Exemple pratique : Utilisation de PostgreSQL avec Docker">‚Äã</a></h2>
<p>Pour illustrer l'utilisation des conteneurs Docker, prenons l'exemple de PostgreSQL. En utilisant Docker Hub, un d√©p√¥t public d'images Docker, on peut rechercher et t√©l√©charger une version sp√©cifique de PostgreSQL. Par exemple, pour obtenir la version 9.6, il suffit d'ex√©cuter la commande <code>docker pull</code> suivie de <code>docker run</code> pour d√©marrer le conteneur. Docker t√©l√©charge les couches n√©cessaires et d√©marre l'application automatiquement.</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># Rechercher l'image officielle de PostgreSQL sur Docker Hub</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> search postgres</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># T√©l√©charger l'image de PostgreSQL version 9.6</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> pull postgres:9.6</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># D√©marrer un conteneur PostgreSQL avec la version 9.6</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--name</span><span class="token plain"> my-postgres </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">POSTGRES_PASSWORD</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">mysecretpassword </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-d</span><span class="token plain"> postgres:9.6</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <category label="Docker" term="Docker"/>
        <category label="Containerization" term="Containerization"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Le concept containerisation (Docker)]]></title>
        <id>https://delpeuch.net/blog/2024/07/15/03-containerization/docker</id>
        <link href="https://delpeuch.net/blog/2024/07/15/03-containerization/docker"/>
        <updated>2024-07-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Docker est un outil open source qui permet aux d√©veloppeurs de cr√©er, d√©ployer, ex√©cuter, mettre √† jour et g√©rer les conteneurs.]]></summary>
        <content type="html"><![CDATA[<p>Docker est de plus en plus populaire car il r√©sout des probl√®mes courants dans le d√©veloppement logiciel, en particulier ceux li√©s √† la configuration de l'environnement et √† la compatibilit√©. Les applications modernes utilisent souvent une combinaison de diff√©rentes technologies, chacune avec des d√©pendances de version sp√©cifiques. Ces applications doivent fonctionner de mani√®re coh√©rente dans divers environnements (d√©veloppement, test, production), qui peuvent diff√©rer en termes de syst√®me d'exploitation, de version et de mat√©riel. Sans Docker, chaque environnement doit √™tre configur√© avec les versions correctes des services, ce qui entra√Æne des probl√®mes de compatibilit√© et des configurations complexes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-quun-conteneur-et-quels-probl√®mes-r√©sout-il">Qu'est-ce qu'un conteneur et quels probl√®mes r√©sout-il?<a href="https://delpeuch.net/blog/2024/07/15/03-containerization/docker#quest-ce-quun-conteneur-et-quels-probl%C3%A8mes-r%C3%A9sout-il" class="hash-link" aria-label="Direct link to Qu'est-ce qu'un conteneur et quels probl√®mes r√©sout-il?" title="Direct link to Qu'est-ce qu'un conteneur et quels probl√®mes r√©sout-il?">‚Äã</a></h2>
<p>Un conteneur est un <strong>moyen de packager des applications</strong> avec tout ce dont ils ont besoin √† l'int√©rieur de ce package, y compris toutes ses d√©pendances et toutes les configurations n√©cessaires.</p>
<p>Le package est portable comme tout autre artefact, et ce package peut √™tre facilement partag√© et d√©plac√© entre une √©quipe de d√©veloppement ou une √©quipe de d√©veloppement et d'op√©rations.</p>
<p>La portabilit√© des conteneurs, ainsi que tout ce qui est packag√© dans un <strong>environnement isol√©</strong>, lui donne des avantages qui rendent le processus de d√©veloppement et de d√©ploiement plus efficace.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="probl√®mes-r√©solus-par-docker">Probl√®mes r√©solus par Docker<a href="https://delpeuch.net/blog/2024/07/15/03-containerization/docker#probl%C3%A8mes-r%C3%A9solus-par-docker" class="hash-link" aria-label="Direct link to Probl√®mes r√©solus par Docker" title="Direct link to Probl√®mes r√©solus par Docker">‚Äã</a></h3>
<p>Docker est de plus en plus populaire car il r√©sout des probl√®mes courants dans le d√©veloppement logiciel, en particulier ceux li√©s √† la configuration de l'environnement et √† la compatibilit√©. Les applications modernes utilisent souvent une combinaison de diff√©rentes technologies, chacune avec des d√©pendances de version sp√©cifiques. Ces applications doivent fonctionner de mani√®re coh√©rente dans divers environnements (d√©veloppement, test, production), qui peuvent diff√©rer en termes de syst√®me d'exploitation, de version et de mat√©riel. Sans Docker, chaque environnement doit √™tre configur√© avec les versions correctes des services, ce qui entra√Æne des probl√®mes de compatibilit√© et des configurations complexes.</p>
<p>Les principaux probl√®mes que Docker r√©sout incluent :</p>
<ol>
<li>La compatibilit√© des services avec le syst√®me d'exploitation sous-jacent et ses biblioth√®ques.</li>
<li>La gestion des diff√©rentes versions des services et de leurs d√©pendances.</li>
<li>La simplification du processus de configuration pour les nouveaux d√©veloppeurs.</li>
</ol>
<p>La solution de Docker consiste √† regrouper chaque service avec ses d√©pendances syst√®me requises dans des conteneurs isol√©s. Cela permet de changer des composants sans affecter les autres services et de modifier le syst√®me d'exploitation sous-jacent sans impacter les services. Docker garantit que les applications fonctionnent de mani√®re coh√©rente dans diff√©rents environnements, √©vitant ainsi le probl√®me du "√ßa fonctionne sur ma machine".</p>
<p>De plus, Docker fournit des images pr√™tes √† l'emploi pour divers environnements dans son d√©p√¥t officiel, ce qui facilite la configuration et l'ex√©cution des services localement pour les d√©veloppeurs. Par exemple, les d√©veloppeurs peuvent r√©cup√©rer une version sp√©cifique d'une image de base de donn√©es Postgres et l'ex√©cuter avec une seule commande. Cette flexibilit√© s'√©tend √† l'ex√©cution de plusieurs versions du m√™me service pour diff√©rentes applications.</p>
<p>En r√©sum√©, Docker simplifie la configuration des environnements, assure la compatibilit√© et offre une flexibilit√© dans la gestion des services et de leurs d√©pendances.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="d√©veloppement-dapplications-avant--apr√®s-conteneur">D√©veloppement d'applications avant / apr√®s conteneur<a href="https://delpeuch.net/blog/2024/07/15/03-containerization/docker#d%C3%A9veloppement-dapplications-avant--apr%C3%A8s-conteneur" class="hash-link" aria-label="Direct link to D√©veloppement d'applications avant / apr√®s conteneur" title="Direct link to D√©veloppement d'applications avant / apr√®s conteneur">‚Äã</a></h2>
<p>Voyons maintenant comment les conteneurs am√©liorent le processus de d√©veloppement par des exemples sp√©cifiques.</p>
<p>Comment avons-nous d√©velopp√© des applications avant les conteneurs?</p>
<p>Habituellement, lorsque vous avez une √©quipe de d√©veloppeurs travaillant sur une application, vous devez installer directement la plupart des services sur votre syst√®me d'exploitation.</p>
<p>Chaque d√©veloppeur de l'√©quipe devrait alors aller installer les binaires de ces services, les configurer et les ex√©cuter sur son environnement de d√©veloppement local. Le processus d'installation sera diff√©rent en fonction du syst√®me d'exploitation qu'ils utilisent.</p>
<p>Vous avez donc quelques commandes √† ex√©cuter, et les <strong>chances qu'une erreur se produise sont √©lev√©es</strong>, en raison du nombre d'√©tapes n√©cessaires pour installer chaque service.</p>
<p>Maintenant, voyons comment les conteneurs r√©solvent certains de ces probl√®mes.</p>
<p>Vous n'avez pas √† installer des services directement sur votre syst√®me d'exploitation, car le conteneur poss√®de <strong>sa propre couche de syst√®me d'exploitation isol√©e</strong> avec une image de base Linux.</p>
<p>Vous avez tout packag√© dans un environnement isol√©, en tant que d√©veloppeur, vous n'avez pas chercher les binaires √† t√©l√©charger sur votre machine. Au lieu de cela, vous allez consulter le registre de conteneurs pour trouver le conteneur sp√©cifique √† votre application et le t√©l√©charger sur votre machine locale.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="d√©ploiement-dapplication-avant--apr√®s-conteneur">D√©ploiement d'application avant / apr√®s conteneur<a href="https://delpeuch.net/blog/2024/07/15/03-containerization/docker#d%C3%A9ploiement-dapplication-avant--apr%C3%A8s-conteneur" class="hash-link" aria-label="Direct link to D√©ploiement d'application avant / apr√®s conteneur" title="Direct link to D√©ploiement d'application avant / apr√®s conteneur">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="avant-les-conteneurs">Avant les conteneurs<a href="https://delpeuch.net/blog/2024/07/15/03-containerization/docker#avant-les-conteneurs" class="hash-link" aria-label="Direct link to Avant les conteneurs" title="Direct link to Avant les conteneurs">‚Äã</a></h3>
<p>Un processus de d√©ploiement traditionnel ressemblera √† ceci:</p>
<p>L'√©quipe de d√©veloppeur cr√©era des artefacts, qui sont essentiellement des fichiers, ainsi que des instructions sur l'installation et les configurer sur le serveur. Tous ces artefacts et instructions seront fournis par l'√©quipe de d√©veloppement:</p>
<p><img decoding="async" loading="lazy" alt="alt text" src="https://delpeuch.net/assets/images/image-9b95c6cd8afa79d41610a7ff6b76f5f9.png" width="350" height="348" class="img_ev3q"></p>
<p>L'√©quipe de d√©veloppement donnerait donc ces artefacts √† l'√©quipe des op√©rations, et l'√©quipe d'op√©ration mettrait en place les environnements pour d√©ployer ces applications:</p>
<p><img decoding="async" loading="lazy" alt="Texte alt" src="https://delpeuch.net/assets/images/image-1-fb8f11dc59bdcd139f7ea8afda840665.png" width="350" height="166" class="img_ev3q"></p>
<ul>
<li><strong>D√©pendances externes sur le syst√®me d'exploitation du serveur</strong>: Le probl√®me avec cette approche est que vous devez d'abord configurer tout et tout installer directement sur le syst√®me d'exploitation du serveur. Cela pourrait entra√Æner des conflits avec les versions de d√©pendance.</li>
<li><strong>Mauvaise communication</strong>: un autre probl√®me qui pourrait r√©sulter de ce processus est un malentendu entre l'√©quipe de d√©veloppement et les op√©rations. Parce que tout est dans un guide textuel, il pourrait y avoir des cas, o√π les d√©veloppeurs manquent de mentionner certains points critiques sur la configuration et en cas d'√©chec, l'√©quipe d'op√©rations doit retourner aux d√©veloppeurs et demander plus de d√©tails.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="avec-les-conteneurs">Avec les Conteneurs<a href="https://delpeuch.net/blog/2024/07/15/03-containerization/docker#avec-les-conteneurs" class="hash-link" aria-label="Direct link to Avec les Conteneurs" title="Direct link to Avec les Conteneurs">‚Äã</a></h3>
<p>Avec les conteneurs, ce processus est simplifi√©, car maintenant les d√©veloppeurs et les op√©rations fonctionnent dans une √©quipe pour former toutes les d√©pendances de configuration dans l'application.</p>
<p><img decoding="async" loading="lazy" alt="Texte alt" src="https://delpeuch.net/assets/images/image-2-5c8a4648962758e750606cd1ae476ebd.png" width="529" height="256" class="img_ev3q"></p>
<p>Cela signifie que si vous utilisez un conteneur Docker, vous n'avez pas besoin de configurer quoi que ce soit directement sur le serveur, car tout est d√©j√† encapsul√© dans le conteneur. Au lieu de cela, il vous suffit d'ex√©cuter une commande docker qui r√©cup√®re le conteneur que vous avez stock√© dans le registre, puis l'ex√©cute.</p>
<p>C'est donc beaucoup plus simple et aucune configuration environnementale n'est n√©cessaire sur le serveur. La seule chose bien s√ªr est que vous devez installer et configurer le runtime docker sur le serveur avant de pouvoir y ex√©cuter des conteneurs. Mais ce n'est qu'un effort unique.</p>]]></content>
        <category label="Containerization" term="Containerization"/>
        <category label="Docker" term="Docker"/>
        <category label="Devops" term="Devops"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Architecture compl√®te]]></title>
        <id>https://delpeuch.net/blog/2024/06/11/04-ci-cd/exemple</id>
        <link href="https://delpeuch.net/blog/2024/06/11/04-ci-cd/exemple"/>
        <updated>2024-06-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Exemple complet d'architecture CI/CD r√©utilisable]]></summary>
        <content type="html"><![CDATA[<p>L'objectif est de cr√©er une architecture CI/CD compl√®te pour un projet de d√©veloppement adressant une technologie (par exemple ROS). Cette architecture doit √™tre :</p>
<ul>
<li>facilement r√©utilisable dans d'autres projets</li>
<li>√©viter la duplication de code</li>
<li>maintenable et √©volutive ais√©ment</li>
<li>applicable √† d'autres projets</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cr√©ation-dune-architecture-cicd">Cr√©ation d'une architecture CI/CD<a href="https://delpeuch.net/blog/2024/06/11/04-ci-cd/exemple#cr%C3%A9ation-dune-architecture-cicd" class="hash-link" aria-label="Direct link to Cr√©ation d'une architecture CI/CD" title="Direct link to Cr√©ation d'une architecture CI/CD">‚Äã</a></h2>
<p>L'id√©e de l'architecture est de cr√©er un d√©p√¥t contenant tous les workflows et les actions propres √† une technologie / projet (par exemple ROS). Ce d√©p√¥t sera ensuite utilis√© comme cible pour les workflows des projets utilisant cette technologie.</p>
<!-- -->
<p>Dans cet exemple, nous avons un d√©p√¥t <code>ros_workflows</code> contenant les workflows et les actions propres √† la technologie ROS. Ce d√©p√¥t est ensuite utilis√© par les d√©p√¥ts <code>ros_package_1</code>, <code>ros_package_2</code>, <code>ros_package_n</code> pour ex√©cuter les workflows. Les diff√©rents workflows pr√©sents dans <code>ros_workflows</code> sont les <strong>uniques</strong> points d'entr√©e pour les workflows des d√©p√¥ts <code>ros_package_1</code>, <code>ros_package_2</code>, <code>ros_package_n</code>. Ainsi s'il est n√©cessaire de modifier un workflow, il suffit de le faire dans le d√©p√¥t <code>ros_workflows</code> et tous les d√©p√¥ts utilisant ce workflow seront mis √† jour.</p>
<p>De plus le d√©p√¥t <code>ros_workflows</code> peut d√©finir des <code>actions-composites</code> pour √©viter la duplication de code entre leurs propres workflows. Ces actions sont utilis√©es par les workflows du d√©p√¥t <code>ros_workflows</code> et par cons√©quent des d√©p√¥ts <code>ros_package_1</code>, <code>ros_package_2</code>, <code>ros_package_n</code>. Elles peuvent aussi √™tre appel√©es directement au besoin.</p>
<p>Finalemet, le d√©p√¥t <code>ros_workflows</code> peut aussi utiliser des workflows g√©n√©riques (par exemple <code>pre-commit.yml</code>) pour automatiser des t√¢ches communes √† toutes les technologies.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-workflow-ros1yml">Exemple de workflow <code>ros1.yml</code><a href="https://delpeuch.net/blog/2024/06/11/04-ci-cd/exemple#exemple-de-workflow-ros1yml" class="hash-link" aria-label="Direct link to exemple-de-workflow-ros1yml" title="Direct link to exemple-de-workflow-ros1yml">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Build &amp; Test ROS Packages</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">workflow_call</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">inputs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">package-name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">description</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'The name of the ROS package to build and test.'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">required</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">type</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">secrets</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">PAT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">required</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">description</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'A GitHub Personal Access Token (PAT) used to import the private repository into the container.'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">jobs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">pre-commit</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> catie</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">aq/generic_workflows/.github/workflows/pre</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">commit.yaml@main</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">build_and_test_ros_package</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">runs-on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> self</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">hosted </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Use self-hosted runner</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">strategy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Define a matrix of ROS distributions and Docker images</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">matrix</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">include</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">docker_image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> osrf/ros</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">noetic</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">desktop</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">full</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">            </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ros_distribution</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> noetic</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">container</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Use the Docker image defined in the matrix</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> matrix.docker_image </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">steps</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Setup ROS environment</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ros</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">tooling/setup</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">ros@v0.7</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">required-ros-distributions</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> matrix.ros_distribution </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Build and test ROS</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> ros</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">tooling/action</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">ros</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">ci@v0.2</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">with</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">package-name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> inputs.package</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">name </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">target-ros1-distro</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> matrix.ros_distribution </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">import-token</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> secrets.PAT </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-de-workflow-ciyml">Exemple de workflow <code>ci.yml</code><a href="https://delpeuch.net/blog/2024/06/11/04-ci-cd/exemple#exemple-de-workflow-ciyml" class="hash-link" aria-label="Direct link to exemple-de-workflow-ciyml" title="Direct link to exemple-de-workflow-ciyml">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"ROS CI/CD"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">on</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">push</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">jobs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ros</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">uses</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">user</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain">/ros_workflows/.github/workflows/ros.yml@main</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple-daction-composite-ros_buildactionyml">Exemple d'action composite <code>ros_build/action.yml</code><a href="https://delpeuch.net/blog/2024/06/11/04-ci-cd/exemple#exemple-daction-composite-ros_buildactionyml" class="hash-link" aria-label="Direct link to exemple-daction-composite-ros_buildactionyml" title="Direct link to exemple-daction-composite-ros_buildactionyml">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'Build and Test ROS'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">description</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'Build and test a ROS package'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">inputs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">package-name</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">description</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'The name of the ROS package to build and test.'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">required</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">type</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ros-distribution</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">description</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'The ROS distribution to use for building and testing.'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">required</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">type</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">import-token</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">description</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">'A GitHub Personal Access Token (PAT) used to import the private repository into the container.'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">required</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">type</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">runs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">using</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">"composite"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">steps</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">run</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> echo "Building and testing ROS package $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> inputs.package</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">name </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> for ROS $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> inputs.ros</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">distribution </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain">."</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">shell</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> bash</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <category label="CI/CD" term="CI/CD"/>
        <category label="GitHub" term="GitHub"/>
        <category label="Devops" term="Devops"/>
    </entry>
</feed>